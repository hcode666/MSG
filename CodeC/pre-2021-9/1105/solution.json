["n = int(input())\nfor i in range(n):\n    arr = input().split(' ')\n    n = int(arr[0])\n    u = int(arr[1])\n    v = int(arr[2])\n    if u > v:\n        (u, v) = (v, u)\n    path = []\n    up = u\n    vp = v\n    while up != vp:\n        if vp > up:\n            if vp % 2 == 0:\n                vp = vp // 2\n                path.append(0)\n            else:\n                vp = vp // 2\n                path.append(1)\n        else:\n            up = up // 2\n    result = n\n    for a in path:\n        if a == 1:\n            if result % 2 == 0:\n                result -= 1\n        elif result % 2 == 1:\n            result -= 1\n        result = result // 2\n    print(result)", "n = int(input())\nfor i in range(n):\n    arr = input().split(' ')\n    n = int(arr[0])\n    u = int(arr[1])\n    v = int(arr[2])\n    if u > v:\n        (u, v) = (v, u)\n    path = []\n    up = u\n    vp = v\n    while up != vp:\n        if vp > up:\n            if vp % 2 == 0:\n                vp = vp // 2\n                path.append(0)\n            else:\n                vp = vp // 2\n                path.append(1)\n        else:\n            up = up // 2\n    result = n\n    for a in path:\n        if a == 1:\n            if result % 2 == 0:\n                result -= 1\n        elif result % 2 == 1:\n            result -= 1\n        result = result // 2\n    print(result)", "n = int(input())\nfor i in range(n):\n    arr = input().split(' ')\n    n = int(arr[0])\n    u = int(arr[1])\n    v = int(arr[2])\n    if u > v:\n        (u, v) = (v, u)\n    path = []\n    up = u\n    vp = v\n    while up != vp:\n        if vp > up:\n            if vp % 2 == 0:\n                vp = vp // 2\n                path.append(0)\n            else:\n                vp = vp // 2\n                path.append(1)\n        else:\n            up = up // 2\n    result = n\n    for a in path:\n        if a == 1:\n            if result % 2 == 0:\n                result -= 1\n        elif result % 2 == 1:\n            result -= 1\n        result = result // 2\n    print(result)", "n = int(input())\nfor i in range(n):\n    arr = input().split(' ')\n    n = int(arr[0])\n    u = int(arr[1])\n    v = int(arr[2])\n    if u > v:\n        (u, v) = (v, u)\n    path = []\n    up = u\n    vp = v\n    while up != vp:\n        if vp > up:\n            if vp % 2 == 0:\n                vp = vp // 2\n                path.append(0)\n            else:\n                vp = vp // 2\n                path.append(1)\n        else:\n            up = up // 2\n    result = n\n    for a in path:\n        if a == 1:\n            if result % 2 == 0:\n                result -= 1\n        elif result % 2 == 1:\n            result -= 1\n        result = result // 2\n    print(result)", "n = int(input())\nfor i in range(n):\n    arr = input().split(' ')\n    n = int(arr[0])\n    u = int(arr[1])\n    v = int(arr[2])\n    if u > v:\n        (u, v) = (v, u)\n    path = []\n    up = u\n    vp = v\n    while up != vp:\n        if vp > up:\n            if vp % 2 == 0:\n                vp = vp // 2\n                path.append(0)\n            else:\n                vp = vp // 2\n                path.append(1)\n        else:\n            up = up // 2\n    result = n\n    for a in path:\n        if a == 1:\n            if result % 2 == 0:\n                result -= 1\n        elif result % 2 == 1:\n            result -= 1\n        result = result // 2\n    print(result)", "for t in range(int(input())):\n    (n, p, q) = map(int, input().split())\n    (v1, v2) = (n, n)\n    while p != q:\n        if p > q:\n            if p & 1 == 1:\n                v1 -= 1\n            v1 //= 2\n            p //= 2\n        else:\n            if q & 1 == 1:\n                v2 -= 1\n            v2 //= 2\n            q //= 2\n    print(min(v1, v2))", "Q = int(input())\nwhile Q > 0:\n    Q -= 1\n    (N, u, v) = map(int, input().strip().split())\n    if u > v:\n        (u, v) = (v, u)\n    (p, q) = (0, 1)\n    while u != v:\n        if u > v:\n            u >>= 1\n            continue\n        if v & 1:\n            p += q\n        v >>= 1\n        q <<= 1\n    ans = (N - p) // q\n    print(ans)", "def main():\n    n = int(input())\n    for i in range(n):\n        (n, u, v) = map(int, input().split())\n        s = solve(n, u, v)\n        print(s)\n\ndef solve(n, u, v):\n    (ub, vb) = (bin(u)[2:], bin(v)[2:])\n    i = 0\n    while i < len(ub) and i < len(vb) and (ub[i] == vb[i]):\n        i += 1\n    return min(limit(n, ub[i:]), limit(n, vb[i:]))\n\ndef limit(n, sufix):\n    if sufix == '':\n        return n\n    nb = bin(n)[2:]\n    k = len(sufix)\n    ns = nb[-k:]\n    if sufix == ns or int(sufix, 2) < int(nb[-k:], 2):\n        return int(nb[:-k], base=2)\n    else:\n        lb = nb[:-k]\n        return int(lb, base=2) - 1\nmain()"]