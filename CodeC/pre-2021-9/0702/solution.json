["def solve():\n    B = []\n    B.append([0, 0, -1, -1])\n    sz = 1\n    M = int(input())\n    for k in range(M):\n        D = {}\n        D[1] = 0\n        N = int(input())\n        for x in range(N - 1):\n            st = input().split()\n            p = int(st[0])\n            dr = st[1]\n            c = int(st[2])\n            p = D[p]\n            d = B[p][0]\n            if dr == 'L':\n                q = B[p][2]\n                if q == -1:\n                    q = sz\n                    B[p][2] = sz\n                    sz += 1\n                    B.append([d + 1, 0, -1, -1])\n            else:\n                q = B[p][3]\n                if q == -1:\n                    q = sz\n                    B[p][3] = sz\n                    sz += 1\n                    B.append([d + 1, 0, -1, -1])\n            D[c] = q\n            B[q][1] += 1\n    R = [0 for x in range(1000)]\n    for p in range(1, sz):\n        d = B[p][0]\n        n = B[p][1]\n        if n > R[d]:\n            R[d] = n\n    st = ''\n    p = 1000\n    m = 0\n    while p > 1:\n        p -= 1\n        if R[p] > m:\n            while R[p] > m:\n                st += str(p) + ' '\n                m += 1\n    while m < M:\n        st += '0 '\n        m += 1\n    print(st)\nfor i in range(int(input())):\n    solve()", "def solve():\n    B = []\n    B.append([0, 0, -1, -1])\n    sz = 1\n    M = int(input())\n    for k in range(M):\n        D = {}\n        D[1] = 0\n        N = int(input())\n        for x in range(N - 1):\n            st = input().split()\n            p = int(st[0])\n            dr = st[1]\n            c = int(st[2])\n            p = D[p]\n            d = B[p][0]\n            if dr == 'L':\n                q = B[p][2]\n                if q == -1:\n                    q = sz\n                    B[p][2] = sz\n                    sz += 1\n                    B.append([d + 1, 0, -1, -1])\n            else:\n                q = B[p][3]\n                if q == -1:\n                    q = sz\n                    B[p][3] = sz\n                    sz += 1\n                    B.append([d + 1, 0, -1, -1])\n            D[c] = q\n            B[q][1] += 1\n    R = [0 for x in range(1000)]\n    for p in range(1, sz):\n        d = B[p][0]\n        n = B[p][1]\n        if n > R[d]:\n            R[d] = n\n    st = ''\n    p = 1000\n    m = 0\n    while p > 1:\n        p -= 1\n        if R[p] > m:\n            while R[p] > m:\n                st += str(p) + ' '\n                m += 1\n    while m < M:\n        st += '0 '\n        m += 1\n    print(st)\nfor i in range(int(input())):\n    solve()", "def solve():\n    B = []\n    B.append([0, 0, -1, -1])\n    sz = 1\n    M = int(input())\n    for k in range(M):\n        D = {}\n        D[1] = 0\n        N = int(input())\n        for x in range(N - 1):\n            st = input().split()\n            p = int(st[0])\n            dr = st[1]\n            c = int(st[2])\n            p = D[p]\n            d = B[p][0]\n            if dr == 'L':\n                q = B[p][2]\n                if q == -1:\n                    q = sz\n                    B[p][2] = sz\n                    sz += 1\n                    B.append([d + 1, 0, -1, -1])\n            else:\n                q = B[p][3]\n                if q == -1:\n                    q = sz\n                    B[p][3] = sz\n                    sz += 1\n                    B.append([d + 1, 0, -1, -1])\n            D[c] = q\n            B[q][1] += 1\n    R = [0 for x in range(1000)]\n    for p in range(1, sz):\n        d = B[p][0]\n        n = B[p][1]\n        if n > R[d]:\n            R[d] = n\n    st = ''\n    p = 1000\n    m = 0\n    while p > 1:\n        p -= 1\n        if R[p] > m:\n            while R[p] > m:\n                st += str(p) + ' '\n                m += 1\n    while m < M:\n        st += '0 '\n        m += 1\n    print(st)\nfor i in range(int(input())):\n    solve()", "t = int(input())\nfor i in range(t):\n    B = []\n    B.append([0, 0, -1, -1])\n    sz = 1\n    M = int(input())\n    for k in range(M):\n        D = {}\n        D[1] = 0\n        N = int(input())\n        for x in range(N - 1):\n            st = input().split()\n            p = int(st[0])\n            dr = st[1]\n            c = int(st[2])\n            p = D[p]\n            d = B[p][0]\n            if dr == 'L':\n                q = B[p][2]\n                if q == -1:\n                    q = sz\n                    B[p][2] = sz\n                    sz += 1\n                    B.append([d + 1, 0, -1, -1])\n            else:\n                q = B[p][3]\n                if q == -1:\n                    q = sz\n                    B[p][3] = sz\n                    sz += 1\n                    B.append([d + 1, 0, -1, -1])\n            D[c] = q\n            B[q][1] += 1\n    R = [0 for x in range(1000)]\n    for p in range(1, sz):\n        d = B[p][0]\n        n = B[p][1]\n        if n > R[d]:\n            R[d] = n\n    st = ''\n    p = 1000\n    m = 0\n    while p > 1:\n        p -= 1\n        if R[p] > m:\n            while R[p] > m:\n                st += str(p) + ' '\n                m += 1\n    while m < M:\n        st += '0 '\n        m += 1\n    print(st)", "t = int(input())\nfor i in range(t):\n    B = []\n    B.append([0, 0, -1, -1])\n    sz = 1\n    M = int(input())\n    for k in range(M):\n        D = {}\n        D[1] = 0\n        N = int(input())\n        for x in range(N - 1):\n            st = input().split()\n            p = int(st[0])\n            dr = st[1]\n            c = int(st[2])\n            p = D[p]\n            d = B[p][0]\n            if dr == 'L':\n                q = B[p][2]\n                if q == -1:\n                    q = sz\n                    B[p][2] = sz\n                    sz += 1\n                    B.append([d + 1, 0, -1, -1])\n            else:\n                q = B[p][3]\n                if q == -1:\n                    q = sz\n                    B[p][3] = sz\n                    sz += 1\n                    B.append([d + 1, 0, -1, -1])\n            D[c] = q\n            B[q][1] += 1\n    R = [0 for x in range(1000)]\n    for p in range(1, sz):\n        d = B[p][0]\n        n = B[p][1]\n        if n > R[d]:\n            R[d] = n\n    st = ''\n    p = 1000\n    m = 0\n    while p > 1:\n        p -= 1\n        if R[p] > m:\n            while R[p] > m:\n                st += str(p) + ' '\n                m += 1\n    while m < M:\n        st += '0 '\n        m += 1\n    print(st)", "t = int(input())\nfor i in range(t):\n    B = []\n    B.append([0, 0, -1, -1])\n    sz = 1\n    M = int(input())\n    for k in range(M):\n        D = {}\n        D[1] = 0\n        N = int(input())\n        for x in range(N - 1):\n            st = input().split()\n            p = int(st[0])\n            dr = st[1]\n            c = int(st[2])\n            p = D[p]\n            d = B[p][0]\n            if dr == 'L':\n                q = B[p][2]\n                if q == -1:\n                    q = sz\n                    B[p][2] = sz\n                    sz += 1\n                    B.append([d + 1, 0, -1, -1])\n            else:\n                q = B[p][3]\n                if q == -1:\n                    q = sz\n                    B[p][3] = sz\n                    sz += 1\n                    B.append([d + 1, 0, -1, -1])\n            D[c] = q\n            B[q][1] += 1\n    R = [0 for x in range(1000)]\n    for p in range(1, sz):\n        d = B[p][0]\n        n = B[p][1]\n        if n > R[d]:\n            R[d] = n\n    st = ''\n    p = 1000\n    m = 0\n    while p > 1:\n        p -= 1\n        if R[p] > m:\n            while R[p] > m:\n                st += str(p) + ' '\n                m += 1\n    while m < M:\n        st += '0 '\n        m += 1\n    print(st)", "t = int(input())\nfor i in range(t):\n    B = []\n    B.append([0, 0, -1, -1])\n    sz = 1\n    M = int(input())\n    for k in range(M):\n        D = {}\n        D[1] = 0\n        N = int(input())\n        for x in range(N - 1):\n            st = input().split()\n            p = int(st[0])\n            dr = st[1]\n            c = int(st[2])\n            p = D[p]\n            d = B[p][0]\n            if dr == 'L':\n                q = B[p][2]\n                if q == -1:\n                    q = sz\n                    B[p][2] = sz\n                    sz += 1\n                    B.append([d + 1, 0, -1, -1])\n            else:\n                q = B[p][3]\n                if q == -1:\n                    q = sz\n                    B[p][3] = sz\n                    sz += 1\n                    B.append([d + 1, 0, -1, -1])\n            D[c] = q\n            B[q][1] += 1\n    R = [0 for x in range(1000)]\n    for p in range(1, sz):\n        d = B[p][0]\n        n = B[p][1]\n        if n > R[d]:\n            R[d] = n\n    st = ''\n    p = 1000\n    m = 0\n    while p > 1:\n        p -= 1\n        if R[p] > m:\n            while R[p] > m:\n                st += str(p) + ' '\n                m += 1\n    while m < M:\n        st += '0 '\n        m += 1\n    print(st)"]