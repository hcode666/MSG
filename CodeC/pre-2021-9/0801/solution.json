["(n, q) = map(int, input().split())\na = list(map(int, input().split()))\nfor i in range(q):\n    (l, r) = map(int, input().split())\n    if a[l - 1] < a[l] and a[r - 2] < a[r - 1] or (a[l - 1] > a[l] and a[r - 2] > a[r - 1]):\n        print('NO')\n    else:\n        print('YES')", "(n, q) = map(int, input().split())\na = list(map(int, input().split()))\nfor i in range(q):\n    (l, r) = map(int, input().split())\n    if a[l - 1] < a[l] and a[r - 2] < a[r - 1] or (a[l - 1] > a[l] and a[r - 2] > a[r - 1]):\n        print('NO')\n    else:\n        print('YES')", "(n, q) = map(int, input().split())\na = list(map(int, input().split()))\nfor i in range(q):\n    (l, r) = map(int, input().split())\n    if a[l - 1] < a[l] and a[r - 2] < a[r - 1] or (a[l - 1] > a[l] and a[r - 2] > a[r - 1]):\n        print('NO')\n    else:\n        print('YES')", "(n, q) = map(int, input().split())\na = list(map(int, input().split()))\nfor i in range(q):\n    (l, r) = map(int, input().split())\n    if a[l - 1] < a[l] and a[r - 2] < a[r - 1] or (a[l - 1] > a[l] and a[r - 2] > a[r - 1]):\n        print('NO')\n    else:\n        print('YES')", "(n, q) = map(int, input().split())\na = list(map(int, input().split()))\nfor i in range(q):\n    (l, r) = map(int, input().split())\n    if a[l - 1] < a[l] and a[r - 2] < a[r - 1] or (a[l - 1] > a[l] and a[r - 2] > a[r - 1]):\n        print('NO')\n    else:\n        print('YES')", "(N, Q) = map(int, input().split())\nA = list(map(int, input().split()))\nfor _ in range(Q):\n    (L, R) = map(int, input().split())\n    if A[L - 1] < A[L] and A[R - 2] < A[R - 1] or (A[L - 1] > A[L] and A[R - 2] > A[R - 1]):\n        print('NO')\n    else:\n        print('YES')", "import itertools\nnum = input().split()\nlength = int(num[0])\nA = [int(i) for i in input().split()]\nfor i in range(int(num[1])):\n    number = input().split()\n    L = int(number[0])\n    R = int(number[1])\n    if R - L >= 2:\n        if A[L] - A[L - 1] > 0 and A[R - 1] - A[R - 2] > 0 or (A[L] - A[L - 1] < 0 and A[R - 1] - A[R - 2] < 0):\n            print('NO')\n        else:\n            print('YES')\n    else:\n        print('NO')", "(n, q) = map(int, input().split())\na = list(map(int, input().split()))\nfor _ in range(q):\n    (l, r) = map(int, input().split())\n    if a[l - 1] < a[l] and a[r - 2] < a[r - 1] or (a[l - 1] > a[l] and a[r - 2] > a[r - 1]):\n        print('NO')\n    else:\n        print('YES')", "(n, q) = map(int, input().split())\na = list(map(int, input().split()))\nfor _ in range(q):\n    (l, r) = map(int, input().split())\n    if a[l - 1] < a[l] and a[r - 2] < a[r - 1] or (a[l - 1] > a[l] and a[r - 2] > a[r - 1]):\n        print('NO')\n    else:\n        print('YES')", "(m, n) = map(int, input().split())\nseq = list(map(int, input().split()))\nfor i in range(n):\n    (l, r) = map(int, input().split())\n    if seq[l - 1] < seq[l] and seq[r - 2] > seq[r - 1] or (seq[l - 1] > seq[l] and seq[r - 2] < seq[r - 1]):\n        print('YES')\n    else:\n        print('NO')", "(N, Q) = map(int, input().split())\nli = list(map(int, input().split()))\nq = [list(map(int, input().split())) for _ in range(Q)]\nH = [0 for _ in range(N)]\nfor i in range(N - 1):\n    if li[i] < li[i + 1]:\n        H[i] = 1\n    elif li[i] > li[i + 1]:\n        H[i] = -1\nfor (l, r) in q:\n    if H[l - 1] == H[r - 2]:\n        print('NO')\n    else:\n        print('YES')", "(N, Q) = map(int, input().split())\nli = list(map(int, input().split()))\nq = [list(map(int, input().split())) for _ in range(Q)]\nH = [0 for _ in range(N)]\nfor i in range(N - 1):\n    if li[i] < li[i + 1]:\n        H[i] = 1\n    elif li[i] > li[i + 1]:\n        H[i] = -1\nfor (l, r) in q:\n    if H[l - 1] == H[r - 2]:\n        print('NO')\n    else:\n        print('YES')", "(n, q) = map(int, input().split(' '))\nlst = [int(item) for item in input().split()]\nfor _ in range(q):\n    (l, r) = map(int, input().split(' '))\n    if lst[l - 1] < lst[l] and lst[r - 2] > lst[r - 1] or (lst[l - 1] > lst[l] and lst[r - 2] < lst[r - 1]):\n        print('YES')\n    else:\n        print('NO')", "inc = dec = 0\n(N, Q) = map(int, input().split())\nA = list(map(int, input().split()))\nfor _ in range(Q):\n    (L, R) = map(int, input().split())\n    if A[L - 1] < A[L] and A[R - 2] < A[R - 1] or (A[L - 1] > A[L] and A[R - 2] > A[R - 1]):\n        print('NO')\n    else:\n        print('YES')", "(n, q) = map(int, input().split())\nls = list(map(int, input().split()))\nfor i in range(q):\n    (a, b) = map(int, input().split())\n    if ls[a - 1] >= ls[a] and ls[b - 2] <= ls[b - 1] or (ls[a - 1] <= ls[a] and ls[b - 2] >= ls[b - 1]):\n        print('YES')\n    else:\n        print('NO')", "(n, q) = map(int, input().split())\nl = list(map(int, input().split()))\nfor i in range(q):\n    (a, b) = map(int, input().split())\n    if l[a - 1] >= l[a] and l[b - 2] <= l[b - 1] or (l[a - 1] <= l[a] and l[b - 2] >= l[b - 1]):\n        print('YES')\n    else:\n        print('NO')", "(n, q) = map(int, input().split(' '))\nl1 = [int(i) for i in input().split(' ')]\nfor i in range(q):\n    (l, r) = map(int, input().split(' '))\n    l -= 1\n    r -= 1\n    if l1[l + 1] > l1[l]:\n        if l1[r - 1] > l1[r]:\n            print('YES')\n            continue\n        else:\n            print('NO')\n            continue\n    if l1[l + 1] < l1[l]:\n        if l1[r - 1] < l1[r]:\n            print('YES')\n            continue\n        else:\n            print('NO')\n            continue", "(n, q) = map(int, input().split())\nA = list(map(int, input().split()))\ninc_f = 0\ndec_f = 0\ninc_count = [0] * n\ndec_count = [0] * n\nval = A[0]\nchange_set = set()\nfor i in range(1, n):\n    if A[i] > val:\n        if dec_f == 1:\n            dec_count[i - 1] += dec_count[i - 2] + 1\n            inc_count[i - 1] = inc_count[i - 2]\n            dec_f = 0\n            change_set.add(i - 1)\n        else:\n            dec_count[i - 1] = dec_count[i - 2]\n            inc_count[i - 1] = inc_count[i - 2]\n        inc_f = 1\n    elif A[i] < val:\n        if inc_f == 1:\n            dec_count[i - 1] = dec_count[i - 2]\n            inc_count[i - 1] += inc_count[i - 2] + 1\n            inc_f = 0\n            change_set.add(i - 1)\n        else:\n            dec_count[i - 1] = dec_count[i - 2]\n            inc_count[i - 1] = inc_count[i - 2]\n        dec_f = 1\n    val = A[i]\nif A[n - 1] > A[n - 2]:\n    dec_count[n - 1] = dec_count[n - 2]\n    inc_count[n - 1] += inc_count[n - 2] + 1\nelse:\n    dec_count[n - 1] += dec_count[n - 2] + 1\n    inc_count[n - 1] = inc_count[n - 2]\nchange_set.add(n - 1)\nfor test in range(q):\n    i = 0\n    d = 0\n    (start, end) = map(int, input().split())\n    if end - 1 in change_set:\n        i = inc_count[end - 1] - inc_count[start - 1]\n        d = dec_count[end - 1] - dec_count[start - 1]\n    elif A[end - 1] > A[end - 2]:\n        i = inc_count[end - 1] - inc_count[start - 1] + 1\n        d = dec_count[end - 1] - dec_count[start - 1]\n    else:\n        i = inc_count[end - 1] - inc_count[start - 1]\n        d = dec_count[end - 1] - dec_count[start - 1] + 1\n    if i == d:\n        print('YES')\n    else:\n        print('NO')", "(n, q) = map(int, input().split())\na = list(map(int, input().split()))\nfor i in range(q):\n    (l, r) = map(int, input().split())\n    if a[l - 1] < a[l] and a[r - 1] < a[r - 2]:\n        print('YES')\n    elif a[l - 1] > a[l] and a[r - 1] > a[r - 2]:\n        print('YES')\n    else:\n        print('NO')", "(n, q) = map(int, input().split())\narr = list(map(int, input().split()))\nfor _ in range(q):\n    (l, r) = map(int, input().split())\n    l -= 1\n    r -= 1\n    (a, b) = (0, 0)\n    if arr[l] < arr[l + 1]:\n        a = 1\n    if arr[r] > arr[r - 1]:\n        b = 1\n    if a ^ b:\n        print('YES')\n    else:\n        print('NO')", "(n, q) = map(int, input().split())\nl = list(map(int, input().split()))\nresult = []\nfor i in range(len(l) - 1):\n    if l[i] < l[i + 1]:\n        result.append('UP')\n    elif l[i] > l[i + 1]:\n        result.append('DOWN')\nfor i in range(q):\n    (l, r) = map(int, input().split())\n    if result[l - 1] == result[r - 2]:\n        print('NO')\n    else:\n        print('YES')", "(n, q) = map(int, input().split())\na = list(map(int, input().split()))\nfor _ in range(q):\n    (l, r) = map(int, input().split())\n    if a[l - 1] < a[l] and a[r - 2] < a[r - 1] or (a[l - 1] > a[l] and a[r - 2] > a[r - 1]):\n        print('NO')\n    else:\n        print('YES')", "def seq(arr, l, r):\n    if arr[l - 1 + 1] > arr[l - 1]:\n        if arr[r - 1 - 1] < arr[r - 1]:\n            return 'NO'\n        else:\n            return 'YES'\n    elif arr[r - 1 - 1] > arr[r - 1]:\n        return 'NO'\n    else:\n        return 'YES'\nnq = list(map(int, input().strip().split()))\narr = list(map(int, input().strip().split()))\nfor i in range(0, nq[1]):\n    lr = list(map(int, input().strip().split()))\n    print(seq(arr, lr[0], lr[1]))", "(n, q) = map(int, input().split())\na = list(map(int, input().split()))\nb = [0] * (len(a) + 1)\nfor i in range(1, len(a) - 1):\n    if a[i] > a[i - 1] and a[i] > a[i + 1] or (a[i] < a[i - 1] and a[i] < a[i + 1]):\n        b[i + 1] = 1\nfor i in range(1, len(a) + 1):\n    b[i] += b[i - 1]\nwhile q > 0:\n    (l, r) = map(int, input().split())\n    if r == l + 1:\n        print('NO')\n    else:\n        temp = b[r - 1] - b[l]\n        if temp & 1 == 0:\n            print('NO')\n        else:\n            print('YES')\n    q -= 1", "from sys import stdin\nfrom bisect import bisect_right\nMAX_LEN = 10 ** 5 + 5\nMAX_CHAR = 26\ncnt = [[0 for i in range(MAX_CHAR)] for j in range(MAX_LEN)]\n\ndef solve():\n    (n, q) = map(int, stdin.readline().strip().split())\n    a = list(map(int, stdin.readline().strip().split()))\n    while q:\n        q -= 1\n        (l, r) = map(lambda x: int(x) - 1, stdin.readline().strip().split())\n        if a[l] > a[l + 1] and a[r - 1] < a[r] or (a[l] < a[l + 1] and a[r - 1] > a[r]):\n            print('YES')\n        else:\n            print('NO')\nsolve()", "(n, m) = map(int, input().split())\na = list(map(int, input().split()))\nfor i in range(m):\n    (l, r) = map(lambda x: int(x) - 1, input().split())\n    if a[l] > a[l + 1] and a[r - 1] < a[r] or (a[l] < a[l + 1] and a[r - 1] > a[r]):\n        print('YES')\n    else:\n        print('NO')", "(n, q) = map(int, input().split())\na = list(map(int, input().split()))\nfor i in range(q):\n    (l, r) = map(int, input().split())\n    if a[l] > a[l - 1] and a[r - 1] < a[r - 2] or (a[l - 1] > a[l] and a[r - 2] < a[r - 1]):\n        print('YES')\n    else:\n        print('NO')", "(n, q) = map(int, input().split())\nli = list(map(int, input().split()))\nfor i in range(q):\n    (l, r) = map(int, input().split())\n    (l, r) = (l - 1, r - 1)\n    print('YES') if li[l] < li[l + 1] and li[r - 1] > li[r] or (li[l] > li[l + 1] and li[r - 1] < li[r]) else print('NO')", "(n, q) = map(int, input().split())\nli = list(map(int, input().split()))\nfor i in range(0, q):\n    (l, r) = map(int, input().split())\n    l = l - 1\n    r = r - 1\n    if li[l] < li[l + 1] and li[r - 1] > li[r] or (li[l] > li[l + 1] and li[r - 1] < li[r]):\n        print('YES')\n    else:\n        print('NO')", "(n, q) = map(int, input().split())\nnl = list(map(int, input().split()))\nm = [1] * n\nfor i in range(1, n):\n    if nl[i] > nl[i - 1]:\n        m[i] = 1\n    else:\n        m[i] = 0\nm[0] = 0\nfor i in range(q):\n    (l, r) = map(int, input().split())\n    if m[l] != m[r - 1]:\n        print('YES')\n    else:\n        print('NO')", "(n, m) = map(int, input().split())\nA = list(map(int, input().split()))\nfor i in range(m):\n    (l, r) = map(lambda x: int(x) - 1, input().split())\n    if (A[l] < A[l + 1]) == (A[r - 1] > A[r]):\n        print('YES')\n    else:\n        print('NO')", "def check(list_no, l, r):\n    if list_no[l] < list_no[r]:\n        return 1\n    else:\n        return 0\n(n, q) = map(int, input().split())\nnumbers = list(map(int, input().split()))\nfor _ in range(0, q):\n    (l, r) = map(int, input().split())\n    l = l - 1\n    r = r - 1\n    count = 0\n    count = check(numbers, l, l + 1)\n    count += check(numbers, r - 1, r)\n    if count == 1:\n        print('YES')\n    else:\n        print('NO')", "(N, Q) = map(int, input().split(' '))\nA = list(map(int, input().split(' ')))\n\ndef increasing(a, b):\n    if a < b:\n        return 1\n    return 0\nfor k in range(Q):\n    (L, R) = map(int, input().split(' '))\n    counts = 0\n    counts += increasing(A[L - 1], A[L])\n    counts += increasing(A[R - 2], A[R - 1])\n    if counts == 1:\n        print('YES')\n    else:\n        print('NO')", "(n, q) = map(int, input().split())\na = list(map(int, input().split()))\nfor _ in range(q):\n    (l, r) = map(int, input().split())\n    if a[l - 1] < a[l] and a[r - 2] < a[r - 1] or (a[l - 1] > a[l] and a[r - 2] > a[r - 1]):\n        print('NO')\n    else:\n        print('YES')", "(n, q) = map(int, input().split())\nl = list(map(int, input().split()))\np = [0] * (n + 1)\nw = [0] * (n + 1)\nk = [0] * (n + 1)\nv = [0] * (n + 1)\ni = 0\nwhile i < n:\n    i += 1\n    d = 0\n    x = i - 1\n    while i < n and l[i] > l[i - 1]:\n        d += 1\n        i += 1\n    if d:\n        w[x + 1] += 1\n        p[i] += 1\ni = 0\nwhile i < n:\n    i += 1\n    d = 0\n    x = i - 1\n    while i < n and l[i] < l[i - 1]:\n        d += 1\n        i += 1\n    if d:\n        v[x + 1] += 1\n        k[i] += 1\nfor i in range(1, n + 1):\n    p[i] += p[i - 1]\n    w[i] += w[i - 1]\n    v[i] += v[i - 1]\n    k[i] += k[i - 1]\nfor i in range(q):\n    (a, b) = map(int, input().split())\n    x = p[b] - w[a - 1]\n    y = k[b] - v[a - 1]\n    if a - 1 != 0 and a - 1 != n - 1:\n        if l[a - 2] < l[a - 1] < l[a]:\n            x += 1\n        if l[a - 2] > l[a - 1] > l[a]:\n            y += 1\n    if b - 1 != n - 1:\n        if l[b - 2] > l[b - 1] > l[b]:\n            y += 1\n        if l[b - 2] < l[b - 1] < l[b]:\n            x += 1\n    if x == y:\n        print('YES')\n    else:\n        print('NO')", "(n, q) = map(int, input().split())\nnum = list(map(int, input().split()))\nfor _ in range(q):\n    (l, r) = map(int, input().split())\n    if num[l - 1] < num[l] and num[r - 2] < num[r - 1] or (num[l - 1] > num[l] and num[r - 2] > num[r - 1]):\n        print('NO')\n    else:\n        print('YES')", "(n, q) = map(int, input().split())\narr = list(map(int, input().split()))\nfor i in range(q):\n    inc = 0\n    dec = 0\n    (l, r) = map(int, input().split())\n    if arr[l - 1] < arr[l]:\n        inc += 1\n    if arr[r - 2] < arr[r - 1]:\n        inc += 1\n    if arr[l - 1] > arr[l]:\n        dec += 1\n    if arr[r - 2] > arr[r - 1]:\n        dec += 1\n    if inc == dec:\n        print('YES')\n    else:\n        print('NO')", "(n, q) = [int(d) for d in input().split()]\nlist1 = [int(f) for f in input().split()]\no = []\nfor i in range(n - 1):\n    if list1[i + 1] - list1[i] > 0:\n        o.append(1)\n    elif list1[i + 1] - list1[i] < 0:\n        o.append(-1)\nfor i in range(q):\n    (l, r) = [int(g) for g in input().split()]\n    if o[l - 1] != o[r - 2]:\n        print('YES')\n    else:\n        print('NO')", "(n, q) = map(int, input().split())\na = list(map(int, input().split()))\nfor _ in range(q):\n    (l, r) = map(int, input().split())\n    if a[l - 1] < a[l] and a[r - 1] < a[r - 2]:\n        print('YES')\n    elif a[l - 1] > a[l] and a[r - 1] > a[r - 2]:\n        print('YES')\n    else:\n        print('NO')", "(n, q) = map(int, input().split())\na = list(map(int, input().split()))\nfor _ in range(q):\n    (l, r) = map(int, input().split())\n    if a[l - 1] < a[l] and a[r - 1] < a[r - 2]:\n        print('YES')\n    elif a[l - 1] > a[l] and a[r - 1] > a[r - 2]:\n        print('YES')\n    else:\n        print('NO')", "(n, m) = map(int, input().split())\nl = list(map(int, input().split()))\nfor _ in range(m):\n    (a, b) = map(int, input().split())\n    if l[a] - l[a - 1] > 0 and l[b - 2] - l[b - 1] > 0:\n        print('YES')\n    elif l[a - 1] - l[a] > 0 and l[b - 1] - l[b - 2] > 0:\n        print('YES')\n    else:\n        print('NO')", "(n, q) = input().split()\nn = int(n)\nq = int(q)\nli = input().split()\nfor _ in range(q):\n    a = input().split()\n    x1 = int(a[0])\n    y1 = int(a[1])\n    if int(li[x1 - 1]) > int(li[x1]) and int(li[y1 - 1]) > int(li[y1 - 2]) or (int(li[x1 - 1]) < int(li[x1]) and int(li[y1 - 1]) < int(li[y1 - 2])):\n        print('YES')\n    else:\n        print('NO')", "(n, q) = map(int, input('').split(' '))\nli = list(map(int, input('').split(' ')))\nfor item in range(q):\n    (l, r) = map(int, input('').split(' '))\n    counti = 0\n    countd = 0\n    if li[l - 1] < li[l] and li[r - 1] > li[r - 2] or (li[l - 1] > li[l] and li[r - 1] < li[r - 2]):\n        print('NO')\n    else:\n        print('YES')", "(n, q) = map(int, input().split())\nx = list(map(int, input().split()))\nl = []\nfor i in range(n - 1):\n    if x[i] < x[i + 1]:\n        l.append('1')\n    else:\n        l.append('0')\nfor i in range(q):\n    (a, b) = map(int, input().split())\n    if l[a - 1] != l[b - 2]:\n        print('YES')\n    else:\n        print('NO')", "(n, q) = map(int, input().split())\na = list(map(int, input().split()))\nfor _ in range(q):\n    (l, r) = map(int, input().split())\n    if a[l - 1] < a[l] and a[r - 2] < a[r - 1] or (a[l - 1] > a[l] and a[r - 2] > a[r - 1]):\n        print('NO')\n    else:\n        print('YES')", "(n, q) = map(int, input().split())\nx = list(map(int, input().split()))\nfor _ in range(q):\n    (l, r) = map(int, input().split())\n    l = l - 1\n    r = r - 1\n    if x[l] < x[l + 1] and x[r - 1] > x[r] or (x[l] > x[l + 1] and x[r - 1] < x[r]):\n        print('YES')\n    else:\n        print('NO')", "(n, q) = map(int, input().split())\na = list(map(int, input().split()))\nfor _ in range(q):\n    (l, r) = map(int, input().split())\n    if a[l - 1] < a[l] and a[r - 2] < a[r - 1] or (a[l - 1] > a[l] and a[r - 2] > a[r - 1]):\n        print('NO')\n    else:\n        print('YES')", "(n, q) = map(int, input().split())\na = list(map(int, input().split()))\nfor _ in range(q):\n    (l, r) = map(int, input().split())\n    if a[l - 1] < a[l] and a[r - 2] < a[r - 1] or (a[l - 1] > a[l] and a[r - 2] > a[r - 1]):\n        print('NO')\n    else:\n        print('YES')", "L = list(map(int, input().split()))\nl = list(map(int, input().split()))\nfor i in range(L[1]):\n    m = list(map(int, input().split()))\n    len = m[1] - m[0] + 1\n    if l[m[0] - 1] > l[m[0]]:\n        if l[m[1] - 1] > l[m[1] - 2]:\n            print('YES')\n        else:\n            print('NO')\n    if l[m[0] - 1] < l[m[0]]:\n        if l[m[1] - 1] < l[m[1] - 2]:\n            print('YES')\n        else:\n            print('NO')", "(n, q) = map(int, input().split())\na = [int(x) for x in input().split()]\nfor _ in range(q):\n    (L, R) = map(int, input().split())\n    L = L - 1\n    R = R - 1\n    if a[L] < a[L + 1] and a[R - 1] > a[R] or (a[L] > a[L + 1] and a[R - 1] < a[R]):\n        print('YES')\n    else:\n        print('NO')", "(n, q) = input().split(' ')\nn = int(n)\nq = int(q)\na = [int(i) for i in input().split()]\nwhile q > 0:\n    q -= 1\n    (x, y) = input().split(' ')\n    x = int(x) - 1\n    y = int(y) - 1\n    if a[x] < a[x + 1] and a[y - 1] > a[y] or (a[x] > a[x + 1] and a[y - 1] < a[y]):\n        print('YES')\n    else:\n        print('NO')", "(_, t) = map(int, input().split())\narr = tuple(map(int, input().split()))\nresult = []\nfor i in range(len(arr) - 1):\n    if arr[i] < arr[i + 1]:\n        result.append('UP')\n    elif arr[i] > arr[i + 1]:\n        result.append('DOWN')\nwhile t:\n    t -= 1\n    (l, r) = map(int, input().split())\n    if result[l - 1] == result[r - 2]:\n        print('NO')\n    else:\n        print('YES')", "(n, q) = map(int, input().split())\narr = list(map(int, input().split()))\ninc = [0] * (len(arr) + 1)\ndec = [0] * (len(arr) + 1)\nRange = set()\nfor i in range(1, n):\n    if arr[i - 1] < arr[i] and (i + 1 == n or arr[i] > arr[i + 1]):\n        inc[i] += 1\n        Range.add(i)\nfor i in range(1, n):\n    inc[i] = inc[i] + inc[i - 1]\nfor i in range(1, n):\n    if arr[i - 1] > arr[i] and (i + 1 == n or arr[i] < arr[i + 1]):\n        dec[i] += 1\n        Range.add(i)\nfor i in range(1, n):\n    dec[i] = dec[i] + dec[i - 1]\nfor _ in range(q):\n    (l, r) = map(int, input().split())\n    (l, r) = (l - 1, r - 1)\n    if Range.issuperset({r}) is True:\n        if inc[r] - inc[l] == dec[r] - dec[l]:\n            print('YES')\n        else:\n            print('NO')\n    else:\n        if arr[r - 1] < arr[r]:\n            if inc[r] - inc[l] + 1 == dec[r] - dec[l]:\n                print('YES')\n            else:\n                print('NO')\n        if arr[r - 1] > arr[r]:\n            if inc[r] - inc[l] == dec[r] - dec[l] + 1:\n                print('YES')\n            else:\n                print('NO')", "(n, q) = map(int, input().split())\nlst = [int(x) for x in input().split()]\nans = []\nfor _ in range(q):\n    (l, r) = map(int, input().split())\n    if lst[l] > lst[l - 1] and lst[r - 2] > lst[r - 1]:\n        ans.append('YES')\n    elif lst[l] < lst[l - 1] and lst[r - 2] < lst[r - 1]:\n        ans.append('YES')\n    else:\n        ans.append('NO')\nfor item in ans:\n    print(item)", "(n, q) = map(int, input().split())\nlst = [int(x) for x in input().split()]\nans = []\nfor _ in range(q):\n    (l, r) = map(int, input().split())\n    if lst[l] > lst[l - 1] and lst[r - 2] > lst[r - 1]:\n        ans.append('YES')\n    elif lst[l] < lst[l - 1] and lst[r - 2] < lst[r - 1]:\n        ans.append('YES')\n    else:\n        ans.append('NO')\nfor item in ans:\n    print(item)", "(n, q) = map(int, input().split(' '))\narr = list(map(int, input().split(' ')))\ntemp = [0] * n\nfor i in range(0, len(arr) - 1):\n    if arr[i + 1] > arr[i]:\n        temp[i] = 1\n    else:\n        temp[i] = 0\nfor i in range(q):\n    (l, r) = map(int, input().split(' '))\n    l -= 1\n    r -= 1\n    if temp[l] == temp[r - 1]:\n        print('NO')\n    else:\n        print('YES')", "(a, b) = list(map(int, input().strip().split()))\nlist1 = list(map(int, input().rstrip().split()))\nfor i in range(b):\n    (L, R) = list(map(int, input().rstrip().split()))\n    first1 = list1[L - 1]\n    first2 = list1[L]\n    last1 = list1[R - 2]\n    last2 = list1[R - 1]\n    if first1 > first2 and last1 < last2 or (first1 < first2 and last1 > last2):\n        print('YES')\n    else:\n        print('NO')", "(n, q) = map(int, input().split())\nnl = list(map(int, input().split()))\nm = [1] * n\nfor i in range(1, n):\n    if nl[i] > nl[i - 1]:\n        m[i] = 1\n    else:\n        m[i] = 0\nm[0] = 0\nfor i in range(q):\n    (l, r) = map(int, input().split())\n    if m[l] != m[r - 1]:\n        print('YES')\n    else:\n        print('NO')", "(a, b) = map(int, input().split())\nc = list(map(int, input().split()))\nl = []\nfor i in range(len(c) - 1):\n    if c[i] < c[i + 1]:\n        l.append('UP')\n    elif c[i] > c[i + 1]:\n        l.append('DOWN')\nwhile b:\n    b = b - 1\n    (d, e) = map(int, input().split())\n    if l[d - 1] == l[e - 2]:\n        print('NO')\n    else:\n        print('YES')", "(n, q) = map(int, input().split())\no = list(map(int, input().split()))\nfor i in range(q):\n    (l, r) = map(int, input().split())\n    l = l - 1\n    r = r - 1\n    if o[l] < o[l + 1] and o[r - 1] > o[r]:\n        print('YES')\n    elif o[l] > o[l + 1] and o[r - 1] < o[r]:\n        print('YES')\n    else:\n        print('NO')", "(N, Q) = input().split()\narr = list(map(int, input().split()))\nfor i in range(int(Q)):\n    (L, R) = input().split()\n    L = int(L)\n    R = int(R)\n    if arr[L - 1] < arr[L] and arr[R - 2] < arr[R - 1] or (arr[L - 1] > arr[L] and arr[R - 2] > arr[R - 1]):\n        print('NO')\n    else:\n        print('YES')", "(n, q) = map(int, input().split())\na = list(map(int, input().split()))\nfor _ in range(q):\n    (l, r) = map(int, input().split())\n    if a[l - 1] < a[l] and a[r - 2] < a[r - 1] or (a[l - 1] > a[l] and a[r - 2] > a[r - 1]):\n        print('NO')\n    else:\n        print('YES')", "try:\n    (N, Q) = map(int, input().split())\n    list1 = list(map(int, input().split()))\n    for i in range(Q):\n        (l, r) = map(int, input().split())\n        if list1[l - 1] < list1[l] and list1[r - 2] < list1[r - 1] or (list1[l - 1] > list1[l] and list1[r - 2] > list1[r - 1]):\n            print('NO')\n        else:\n            print('YES')\nexcept:\n    pass", "try:\n    (N, Q) = map(int, input().split())\n    list1 = list(map(int, input().split()))\n    for i in range(Q):\n        (l, r) = map(int, input().split())\n        if list1[l - 1] < list1[l] and list1[r - 2] < list1[r - 1] or (list1[l - 1] > list1[l] and list1[r - 2] > list1[r - 1]):\n            print('NO')\n        else:\n            print('YES')\nexcept:\n    pass", "(n, q) = map(int, input().split())\narr = list(map(int, input().split()))\nfor _ in range(q):\n    (l, r) = map(int, input().split())\n    l -= 1\n    r -= 1\n    if arr[l] > arr[l + 1] and arr[r - 1] > arr[r]:\n        print('NO')\n    elif arr[l] < arr[l + 1] and arr[r - 1] < arr[r]:\n        print('NO')\n    else:\n        print('YES')", "(N, Q) = [int(i) for i in input().split()]\nA = list(map(int, input().split()))\nfor i in range(0, N):\n    while Q:\n        Q = Q - 1\n        (L, R) = [int(i) for i in input().split()]\n        if A[L - 1] > A[L] and A[R - 2] < A[R - 1] or (A[L - 1] < A[L] and A[R - 2] > A[R - 1]):\n            print('YES')\n        else:\n            print('NO')", "(n, q) = map(int, input().split())\na = [int(i) for i in input().split()]\nwhile q > 0:\n    (l, r) = [int(i) for i in input().split()]\n    (l, r) = (l - 1, r - 1)\n    if a[l] < a[l + 1] and a[r] < a[r - 1]:\n        print('YES')\n    elif a[l] > a[l + 1] and a[r] > a[r - 1]:\n        print('YES')\n    else:\n        print('NO')\n    q -= 1", "(n, q) = (int(i) for i in input().split())\nL = [int(i) for i in input().split()]\nM = [0] * n\ncount = 1\nM[0] = '*0'\nfor i in range(1, n - 1):\n    if L[i] > L[i - 1] and L[i] > L[i + 1] or (L[i] < L[i - 1] and L[i] < L[i + 1]):\n        M[i] = '*' + str(count)\n        count += 1\n    else:\n        M[i] = '0' + str(count)\nM[-1] = '0' + str(count)\nfor _ in range(q):\n    (l, r) = (int(i) for i in input().split())\n    l -= 1\n    r -= 1\n    if M[l][0] == '*':\n        a = int(M[r][1:]) - int(M[l][1:]) - 1\n    else:\n        a = int(M[r][1:]) - int(M[l][1:])\n    if a % 2 == 0:\n        print('NO')\n    else:\n        print('YES')", "(n, q) = map(int, input().split())\nlst = list(map(int, input().split()))\nfor i in range(q):\n    (l, r) = map(int, input().split())\n    l -= 1\n    r -= 1\n    if lst[l] < lst[l + 1] and lst[r - 1] < lst[r] or (lst[l] > lst[l + 1] and lst[r - 1] > lst[r]):\n        print('NO')\n    else:\n        print('YES')", "(_, t) = map(int, input().split())\narr = tuple(map(int, input().split()))\nresult = []\nfor i in range(len(arr) - 1):\n    if arr[i] < arr[i + 1]:\n        result.append('UP')\n    else:\n        result.append('Down')\nwhile t:\n    t -= 1\n    (l, r) = map(int, input().split())\n    if result[l - 1] == result[r - 2]:\n        print('NO')\n    else:\n        print('YES')", "(n, q) = map(int, input().split())\nli = list(map(int, input().split()))\nresult = []\nfor i in range(n - 1):\n    if li[i] < li[i + 1]:\n        result.append('1')\n    elif li[i] > li[i + 1]:\n        result.append('2')\nfor j in range(q):\n    (l, r) = map(int, input().split())\n    if result[l - 1] == result[r - 2]:\n        print('NO')\n    else:\n        print('YES')", "(n, q) = map(int, input().split())\na = list(map(int, input().split()))\nfor i in range(q):\n    (l, r) = map(int, input().split())\n    if a[l - 1] < a[l] and a[r - 2] < a[r - 1] or (a[l - 1] > a[l] and a[r - 2] > a[r - 1]):\n        print('NO')\n    else:\n        print('YES')", "(n, q) = map(int, input().split())\nlst = list(map(int, input().split()))\nfor i in range(q):\n    (l, r) = map(int, input().split())\n    if lst[l - 1] < lst[l] and lst[r - 2] < lst[r - 1] or (lst[l - 1] > lst[l] and lst[r - 2] > lst[r - 1]):\n        print('NO')\n    else:\n        print('YES')", "(n, q) = map(int, input().split())\nlst = list(map(int, input().split()))\nfor i in range(q):\n    (l, r) = map(int, input().split())\n    if lst[l] > lst[l - 1] and lst[r - 2] < lst[r - 1]:\n        print('NO')\n    elif lst[l] < lst[l - 1] and lst[r - 2] > lst[r - 1]:\n        print('NO')\n    elif lst[l] > lst[l - 1] and lst[r - 2] > lst[r - 1]:\n        print('YES')\n    elif lst[l] < lst[l - 1] and lst[r - 2] < lst[r - 1]:\n        print('YES')", "(n, q) = map(int, input().split())\nlst = list(map(int, input().split()))\ninc1 = [0] * n\ninc2 = [0] * n\ndec1 = [0] * n\ndec2 = [0] * n\nfor i in range(1, n):\n    if i + 1 < n and lst[i - 1] < lst[i] and (lst[i + 1] < lst[i]):\n        inc1[i] = 1\n        inc2[i] = 1\n    elif i + 1 == n and lst[i - 1] < lst[i]:\n        inc1[i] = 1\n        inc2[i] = 1\n    elif i + 1 < n and lst[i - 1] > lst[i] and (lst[i + 1] > lst[i]):\n        dec1[i] = 1\n        dec2[i] = 1\n    elif i + 1 == n and lst[i - 1] > lst[i]:\n        dec1[i] = 1\n        dec2[i] = 1\ninc = inc1\ndec = dec1\nfor i in range(1, n):\n    inc[i] = inc[i - 1] + inc[i]\n    dec[i] = dec[i - 1] + dec[i]\nfor i in range(q):\n    (l, r) = map(int, input().split())\n    if inc2[r - 1] == 1 or dec2[r - 1] == 1:\n        n_inc = inc[r - 1] - inc[l - 1]\n        n_dec = dec[r - 1] - dec[l - 1]\n    elif lst[r - 1] > lst[r - 2]:\n        n_inc = inc[r - 1] - inc[l - 1] + 1\n        n_dec = dec[r - 1] - dec[l - 1]\n    elif lst[r - 1] < lst[r - 2]:\n        n_dec = dec[r - 1] - dec[l - 1] + 1\n        n_inc = inc[r - 1] - inc[l - 1]\n    if n_inc == n_dec:\n        print('YES')\n    else:\n        print('NO')", "(N, Q) = map(int, input().strip().split())\nA = list(map(int, input().strip().split()))\ninc_seq = []\nfor i in range(N - 1):\n    if A[i] < A[i + 1]:\n        inc_seq.append(1)\n    else:\n        inc_seq.append(-1)\nfor _ in range(Q):\n    (L, R) = map(int, input().strip().split())\n    if inc_seq[R - 2] + inc_seq[L - 1] == 0 and R > L + 1:\n        print('YES')\n    else:\n        print('NO')", "(n, q) = map(int, input().split())\na = list(map(int, input().split()))\nfor _ in range(q):\n    (l, r) = map(int, input().split())\n    if a[l - 1] < a[l] and a[r - 2] < a[r - 1] or (a[l - 1] > a[l] and a[r - 2] > a[r - 1]):\n        print('NO')\n    else:\n        print('YES')", "from sys import stdin, stdout\n(N, Q) = map(int, stdin.readline().split())\narray = list(map(int, stdin.readline().split()))\nfor _ in range(Q):\n    (L, R) = map(int, stdin.readline().split())\n    if array[L - 1] < array[L] and array[R - 1] < array[R - 2] or (array[L - 1] > array[L] and array[R - 1] > array[R - 2]):\n        print('YES')\n    else:\n        print('NO')", "(n, q) = map(int, input().split())\na = list(map(int, input().split()))\nfor _ in range(q):\n    (l, r) = map(int, input().split())\n    if r - l == 1:\n        print('NO')\n    elif r - l > 1:\n        if a[l - 1] < a[l] and a[r - 2] < a[r - 1]:\n            print('NO')\n        elif a[l - 1] > a[l] and a[r - 2] > a[r - 1]:\n            print('NO')\n        else:\n            print('YES')", "ans = []\n(n, q) = map(int, input().split())\na = list(map(int, input().split()))\nfor _ in range(q):\n    (l, r) = map(int, input().split())\n    if a[l - 1] > a[l] and a[r - 1] < a[r - 2] or (a[l - 1] < a[l] and a[r - 1] > a[r - 2]):\n        ans.append('NO')\n    else:\n        ans.append('YES')\n[print(a) for a in ans]", "(N, Q) = map(int, input().split())\nA = list(map(int, input().split()))\nfor q in range(Q):\n    (L, R) = map(int, input().split())\n    (Start, End) = ('', '')\n    if A[L - 1] < A[L]:\n        Start = 'I'\n    else:\n        Start = 'D'\n    if A[R - 2] < A[R - 1]:\n        End = 'I'\n    else:\n        End = 'D'\n    if Start != End:\n        print('YES')\n    else:\n        print('NO')", "def isincreasing(a, b):\n    if a < b:\n        return 1\n    return 0\n(n, m) = map(int, input().split())\nl1 = list(map(int, input().split()))\nl1 = [0] + l1\nfor _ in range(m):\n    count = 0\n    (l, r) = map(int, input().split())\n    count += isincreasing(l1[l], l1[l + 1])\n    count += isincreasing(l1[r - 1], l1[r])\n    if count == 1:\n        print('YES')\n    else:\n        print('NO')", "(n, q) = input().split(' ')\n(n, q) = (int(n), int(q))\nA = input().split(' ')\nfor i in range(n):\n    A[i] = int(A[i])\nfor i in range(q):\n    (l, r) = input().split(' ')\n    (l, r) = (int(l), int(r))\n    if (A[l - 1] < A[l] and A[r - 2] > A[r - 1] or (A[l - 1] > A[l] and A[r - 2] < A[r - 1])) and r - l != 1:\n        print('YES')\n    else:\n        print('NO')", "def FIND(L, A, B):\n    COUNT = 0\n    if L[A] < L[A + 1]:\n        COUNT += 1\n    if L[B - 1] < L[B]:\n        COUNT += 1\n    return 'YES' if COUNT == 1 else 'NO'\n(N, Q) = [int(x) for x in input().strip().split(' ')]\nL = [int(x) for x in input().strip().split(' ')]\nfor i in range(0, Q):\n    (A, B) = [int(x) for x in input().strip().split(' ')]\n    print(FIND(L, A - 1, B - 1))", "(waste, lop) = list(map(int, input().split()))\narr = list(map(int, input().split()))\nfor _ in range(lop):\n    (l, r) = list(map(int, input().split()))\n    (l, r) = (l - 1, r - 1)\n    if arr[l] < arr[l + 1] and arr[r - 1] < arr[r]:\n        print('NO')\n        continue\n    elif arr[l] > arr[l + 1] and arr[r - 1] > arr[r]:\n        print('NO')\n        continue\n    else:\n        print('YES')", "(n, q) = map(int, input().split())\na = list(map(int, input().split()))\nfor _ in range(q):\n    (l, r) = map(int, input().split())\n    if a[l - 1] > a[l] and a[r - 2] > a[r - 1] or (a[l - 1] < a[l] and a[r - 2] < a[r - 1]):\n        print('NO')\n    else:\n        print('YES')", "import sys, math\ninput = sys.stdin.readline\n\ndef inp():\n    return int(input())\n\ndef inlt():\n    return list(map(int, input().split()))\n\ndef insr():\n    s = input()\n    return s[:len(s) - 1]\n\ndef invr():\n    return map(int, input().split())\nt = 1\nfor tt in range(t):\n    (n, m) = invr()\n    a = inlt()\n    q = [0]\n    w = [0]\n    c = 0\n    for i in range(1, len(a) - 1):\n        if a[i - 1] > a[i] and a[i + 1] > a[i] or (a[i - 1] < a[i] and a[i + 1] < a[i]):\n            q.append(1)\n            c = c + 1\n        else:\n            q.append(0)\n        w.append(c)\n    q.append(1)\n    w.append(w[-1] + 1)\n    for i in range(m):\n        (l, r) = invr()\n        if q[r - 1] == 1:\n            if (w[r - 1] - w[l - 1] - 1) % 2 != 0:\n                print('YES')\n            else:\n                print('NO')\n        elif (w[r - 1] - w[l - 1]) % 2 != 0:\n            print('YES')\n        else:\n            print('NO')", "import sys, math\ninput = sys.stdin.readline\n\ndef inp():\n    return int(input())\n\ndef inlt():\n    return list(map(int, input().split()))\n\ndef insr():\n    s = input()\n    return s[:len(s) - 1]\n\ndef invr():\n    return map(int, input().split())\nt = 1\nfor tt in range(t):\n    (n, m) = invr()\n    a = inlt()\n    q = [0]\n    w = [0]\n    c = 0\n    for i in range(1, len(a) - 1):\n        if a[i - 1] > a[i] and a[i + 1] > a[i] or (a[i - 1] < a[i] and a[i + 1] < a[i]):\n            q.append(1)\n            c = c + 1\n        else:\n            q.append(0)\n        w.append(c)\n    q.append(1)\n    w.append(w[-1] + 1)\n    for i in range(m):\n        (l, r) = invr()\n        if q[r - 1] == 1:\n            if (w[r - 1] - w[l - 1] - 1) % 2 != 0:\n                print('YES')\n            else:\n                print('NO')\n        elif (w[r - 1] - w[l - 1]) % 2 != 0:\n            print('YES')\n        else:\n            print('NO')", "(n, q) = input().split()\nn = int(n)\nq = int(q)\nl = [int(s) for s in input().split()]\nl1 = [0 for i in range(n)]\nfor i in range(n - 1):\n    if l[i] < l[i + 1]:\n        l1[i] = 1\nwhile q > 0:\n    (l, r) = input().split()\n    l = int(l)\n    r = int(r)\n    k1 = l1[l - 1]\n    k2 = l1[r - 2]\n    if k1 != k2:\n        print('YES')\n    else:\n        print('NO')\n    q -= 1", "(n, q) = map(int, input().split())\na = list(map(int, input().split()))\nfor _ in range(q):\n    (l, r) = map(int, input().split())\n    if a[l - 1] < a[l] and a[r - 2] < a[r - 1] or (a[l - 1] > a[l] and a[r - 2] > a[r - 1]):\n        print('NO')\n    else:\n        print('YES')", "(n, q) = list(map(int, input().split()))\narr = list(map(int, input().split()))\nb = []\nb.append(1)\nfor i in range(1, n):\n    if arr[i] > arr[i - 1]:\n        b.append(1)\n    elif arr[i] < arr[i - 1]:\n        b.append(-1)\nwhile q != 0:\n    (l, r) = map(int, input().split())\n    if b[l] == b[r - 1]:\n        print('NO')\n    else:\n        print('YES')\n    q -= 1", "(n, q) = [int(x) for x in input().split()]\nalist = [int(x) for x in input().split()]\nfor i in range(q):\n    (l, r) = [int(x) for x in input().split()]\n    if alist[l - 1] > alist[l] and alist[r - 1] > alist[r - 2]:\n        print('YES')\n    elif alist[l - 1] < alist[l] and alist[r - 1] < alist[r - 2]:\n        print('YES')\n    else:\n        print('NO')", "def solve(A, l, r):\n    if A[l] < A[l + 1] and A[r - 1] < A[r]:\n        print('NO')\n    elif A[l] > A[l + 1] and A[r - 1] > A[r]:\n        print('NO')\n    else:\n        print('YES')\n(n, q) = map(int, input().split())\narr = list(map(int, input().split()))\nfor quer in range(q):\n    (l, r) = map(int, input().split())\n    (l, r) = (l - 1, r - 1)\n    solve(arr, l, r)", "(n, q) = map(int, input().split())\nA = list(map(int, input().split()))\nfor i in range(q):\n    (l, r) = map(int, input().split())\n    l -= 1\n    r -= 1\n    if A[l] < A[l + 1] and A[r - 1] < A[r] or (A[l] > A[l + 1] and A[r - 1] > A[r]):\n        print('NO')\n    else:\n        print('YES')", "(n, q) = map(int, input().split())\nl = list(map(int, input().split()))\nfor i in range(q):\n    (x, y) = map(int, input().split())\n    x = x - 1\n    y = y - 1\n    if l[x] > l[x + 1] and l[y - 1] > l[y]:\n        print('NO')\n    elif l[x] < l[x + 1] and l[y - 1] < l[y]:\n        print('NO')\n    else:\n        print('YES')", "(n, q) = list(map(int, input().split()))\na = list(map(int, input().split()))\nfor i in range(q):\n    (x, y) = list(map(int, input().split()))\n    x -= 1\n    y -= 1\n    if a[x] < a[x + 1] and a[y - 1] < a[y]:\n        print('NO')\n    elif a[x] > a[x + 1] and a[y - 1] > a[y]:\n        print('NO')\n    else:\n        print('YES')", "(n, q) = map(int, input().split())\narr = list(map(int, input().split()))\ninc = [0] * n\ndec = [0] * n\nleng = 1\nfor i in range(1, n):\n    if arr[i] > arr[i - 1]:\n        leng += 1\n        inc[i] = inc[i - 1]\n    else:\n        if leng > 1:\n            inc[i - 1] += 1\n        inc[i] = inc[i - 1]\n        leng = 1\nif leng != 1:\n    inc[n - 1] += 1\nleng = 1\nfor i in range(1, n):\n    if arr[i] < arr[i - 1]:\n        leng += 1\n        dec[i] = dec[i - 1]\n    else:\n        if leng > 1:\n            dec[i - 1] += 1\n        dec[i] = dec[i - 1]\n        leng = 1\nif leng != 1:\n    dec[n - 1] += 1\nwhile q:\n    q -= 1\n    (l, r) = map(int, input().split())\n    l -= 1\n    r -= 1\n    r_ = inc[r]\n    if r != n - 1 and arr[r] > arr[r - 1] and (arr[r] < arr[r + 1]):\n        r_ += 1\n    d_ = dec[r]\n    if r != n - 1 and arr[r] < arr[r - 1] and (arr[r] > arr[r + 1]):\n        d_ += 1\n    if r_ - inc[l] == d_ - dec[l]:\n        print('YES')\n    else:\n        print('NO')", "(n, q) = map(int, input().split())\na = list(map(int, input().split()))\nfor _ in range(q):\n    (l, r) = map(int, input().split())\n    if a[l - 1] < a[l] and a[r - 2] < a[r - 1] or (a[l - 1] > a[l] and a[r - 2] > a[r - 1]):\n        print('NO')\n    else:\n        print('YES')"]