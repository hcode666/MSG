["(n, q) = tuple(map(int, input().strip().split()))\nB = []\nfor i in range(n):\n    B.append(list(map(int, input().strip().split())))\nA = B[0][:]\nidx = 0\nfor i in range(1, n):\n    if B[0][i] != 0:\n        A[i] *= -1\n        idx = i\n        break\nfor i in range(idx + 1, n):\n    if B[idx][i] != abs(A[idx] - A[i]):\n        A[i] *= -1\nprint(' '.join(map(str, A)).strip())\nfor i in range(q):\n    p = int(input().strip()) - 1\n    C = list(map(int, input().strip().split()))\n    for i in range(n):\n        B[p][i] = C[i]\n        B[i][p] = C[i]\n    idx = 0\n    for i in range(1, n):\n        A[i] = B[0][i]\n        if B[0][i] != 0:\n            idx = i\n            A[i] *= -1\n            break\n    for i in range(idx + 1, n):\n        A[i] = B[0][i]\n        if B[idx][i] != abs(A[idx] - A[i]):\n            A[i] *= -1\n    print(' '.join(map(str, A)).strip())", "(n, q) = tuple(map(int, input().strip().split()))\nB = []\nfor i in range(n):\n    B.append(list(map(int, input().strip().split())))\nA = B[0][:]\nidx = 0\nfor i in range(1, n):\n    if B[0][i] != 0:\n        A[i] *= -1\n        idx = i\n        break\nfor i in range(idx + 1, n):\n    if B[idx][i] != abs(A[idx] - A[i]):\n        A[i] *= -1\nprint(' '.join(map(str, A)).strip())\nfor i in range(q):\n    p = int(input().strip()) - 1\n    C = list(map(int, input().strip().split()))\n    for i in range(n):\n        B[p][i] = C[i]\n        B[i][p] = C[i]\n    idx = 0\n    for i in range(1, n):\n        A[i] = B[0][i]\n        if B[0][i] != 0:\n            idx = i\n            A[i] *= -1\n            break\n    for i in range(idx + 1, n):\n        A[i] = B[0][i]\n        if B[idx][i] != abs(A[idx] - A[i]):\n            A[i] *= -1\n    print(' '.join(map(str, A)).strip())", "def func(b):\n    s = [0]\n    for l in range(1, n):\n        s.append(b[0][l])\n    ide = 1\n    for k in range(1, n):\n        if s[k] != 0:\n            s[k] = -s[k]\n            ide = k\n            break\n    for k in range(ide + 1, n):\n        if abs(s[k]) + abs(s[ide]) == b[ide][k]:\n            continue\n        else:\n            s[k] = -s[k]\n    for l in range(n):\n        print(s[l], end=' ')\n    print('\\n')\n(n, q) = list(map(int, input().split()))\nb = []\na = []\nfor i in range(n):\n    a = list(map(int, input().split()))\n    b.append(a)\nfunc(b)\nwhile q:\n    q -= 1\n    p = int(input())\n    w = list(map(int, input().split()))\n    for o in range(n):\n        b[o][p - 1] = b[p - 1][o] = w[o]\n    func(b)"]