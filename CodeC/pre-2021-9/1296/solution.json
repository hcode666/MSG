["Q = int(input())\nthis_string = ''\nfor i in range(Q):\n    command = input().split()\n    ind = int(command[1])\n    if command[0] == '+':\n        sub_str = command[2]\n        this_string = this_string[:ind] + sub_str + this_string[ind:]\n    elif command[0] == '?':\n        len = int(command[2])\n        solution = this_string[ind - 1:ind - 1 + len]\n        print(solution)", "n = int(input())\ns = ''\nfor i in range(n):\n    x = input().split()\n    if x[0] == '+':\n        s = s[:int(x[1])] + x[2] + s[int(x[1]):]\n    else:\n        print(s[int(x[1]) - 1:int(x[2]) + int(x[1]) - 1])", "s = ''\nfor q in range(int(input())):\n    dat = input().split()\n    if dat[0] == '+':\n        i = int(dat[1])\n        s = s[0:i] + dat[2] + s[i:]\n    else:\n        (a, b) = (int(dat[1]) - 1, int(dat[2]))\n        print(s[a:a + b])", "OUTPUT = ''\nfor i in range(int(input())):\n    INPUT = input().split()\n    if INPUT[0] == '+':\n        OUTPUT2 = ''\n        if OUTPUT == '':\n            OUTPUT2 = INPUT[2]\n        else:\n            SLICE_OBJECT1 = slice(int(INPUT[1]))\n            SLICE_OBJECT2 = slice(int(INPUT[1]), int(len(OUTPUT)))\n            OUTPUT2 = OUTPUT[SLICE_OBJECT1] + INPUT[2] + OUTPUT[SLICE_OBJECT2]\n        OUTPUT = OUTPUT2\n    if INPUT[0] == '?':\n        SLICE_OBJECT = slice(int(INPUT[1]) - 1, int(INPUT[1]) - 1 + int(INPUT[2]))\n        print(OUTPUT[SLICE_OBJECT])", "n = int(input())\np = ''\nfor i in range(n):\n    (operation, index, a) = input().split()\n    index = int(index)\n    if operation == '+':\n        p = p[:index] + a + p[index:]\n    else:\n        start = index - 1\n        end = start + int(a)\n        print(p[start:end])", "q = int(input())\ns = ''\nfor i in range(q):\n    x = input().split()\n    operation = x[0]\n    position = int(x[1])\n    if operation == '+':\n        s = s[:position] + x[2] + s[position:]\n    else:\n        start = position - 1\n        end = start + int(x[2])\n        print(s[start:end])", "q = int(input())\ns = ''\nfor i in range(q):\n    x = input().split()\n    operation = x[0]\n    position = int(x[1])\n    if operation == '+':\n        s = s[:position] + x[2] + s[position:]\n    else:\n        start = position - 1\n        end = start + int(x[2])\n        print(s[start:end])", "q = int(input())\ns = ''\nfor _ in range(q):\n    cmd = input().split()\n    index = int(cmd[1])\n    if cmd[0] == '+':\n        s = s[:index] + cmd[2] + s[index:]\n    else:\n        length = int(cmd[2])\n        print(s[index - 1:index + length - 1])", "n = int(input())\ns = ''\nfor i in range(n):\n    x = input().split()\n    if x[0] == '+':\n        s = s[:int(x[1])] + x[2] + s[int(x[1]):]\n    else:\n        print(s[int(x[1]) - 1:int(x[2]) + int(x[1]) - 1])", "n = int(input())\ns = ''\nfor i in range(n):\n    x = input().split()\n    if x[0] == '+':\n        s = s[:int(x[1])] + x[2] + s[int(x[1]):]\n    else:\n        print(s[int(x[1]) - 1:int(x[2]) + int(x[1]) - 1])", "n = int(input())\ns = ''\nfor i in range(n):\n    x = input().split()\n    if x[0] == '+':\n        s = s[:int(x[1])] + x[2] + s[int(x[1]):]\n    else:\n        print(s[int(x[1]) - 1:int(x[2]) + int(x[1]) - 1])", "q = int(input())\ns = ''\nfor i in range(q):\n    x = input().split()\n    if x[0] == '+':\n        s = s[:int(x[1])] + x[2] + s[int(x[1]):]\n    elif x[0] == '?':\n        print(s[int(x[1]) - 1:int(x[2]) + int(x[1]) - 1])", "q = int(input())\ns = ''\nfor i in range(q):\n    x = input().split()\n    if x[0] == '+':\n        s = s[:int(x[1])] + x[2] + s[int(x[1]):]\n    elif x[0] == '?':\n        print(s[int(x[1]) - 1:int(x[2]) + int(x[1]) - 1])", "n = int(input())\nl = []\nfor i in range(n):\n    z = input().split()\n    l.append(z)\nS = ''\nfor i in l:\n    if i[0] == '+':\n        Z = S[0:int(i[1])]\n        z1 = S[int(i[1]):len(S)]\n        z2 = Z + i[2] + z1\n        S = z2\n    elif i[0] == '?':\n        z3 = S[int(i[1]) - 1:int(i[2]) + int(i[1]) - 1]\n        print(z3)", "q = int(input())\ns = ''\nfor _ in range(q):\n    x = input().split()\n    if x[0] == '+':\n        s = s[:int(x[1])] + x[2] + s[int(x[1]):]\n    elif x[0] == '?':\n        print(s[int(x[1]) - 1:int(x[2]) + int(x[1]) - 1])", "p = int(input())\nt = ''\nfor _ in range(p):\n    x = input().split()\n    if x[0] == '+':\n        t = t[:int(x[1])] + x[2] + t[int(x[1]):]\n    elif x[0] == '?':\n        print(t[int(x[1]) - 1:int(x[2]) + int(x[1]) - 1])", "q = int(input())\ns = ''\nfor _ in range(q):\n    x = input().split()\n    if x[0] == '+':\n        s = s[:int(x[1])] + x[2] + s[int(x[1]):]\n    elif x[0] == '?':\n        print(s[int(x[1]) - 1:int(x[2]) + int(x[1]) - 1])", "n = int(input())\ns = ''\nfor i in range(n):\n    x = input().split()\n    if x[0] == '+':\n        s = s[:int(x[1])] + x[2] + s[int(x[1]):]\n    else:\n        print(s[int(x[1]) - 1:int(x[2]) + int(x[1]) - 1])", "def insert(string_s, insert_s, pos_i=0):\n    return string_s[:pos_i] + insert_s + string_s[pos_i:]\nq = int(input())\ns = ''\nfor _ in range(q):\n    query = input().split()\n    c = query[0]\n    i = int(query[1])\n    if c == '+':\n        sub = query[2]\n        if i == 0:\n            s = sub + s\n        else:\n            s = insert(s, sub, i)\n    else:\n        l = int(query[2])\n        print(s[i - 1:i + l - 1])", "n = int(input())\ns = ''\nfor i in range(n):\n    x = input().split()\n    if x[0] == '+':\n        s = s[:int(x[1])] + x[2] + s[int(x[1]):]\n    else:\n        print(s[int(x[1]) - 1:int(x[2]) + int(x[1]) - 1])", "n = int(input())\ns = ''\nfor i in range(n):\n    x = input().split()\n    if x[0] == '+':\n        s = s[:int(x[1])] + x[2] + s[int(x[1]):]\n    else:\n        print(s[int(x[1]) - 1:int(x[2]) + int(x[1]) - 1])"]