["def Choose(i, s, x, y, cnt):\n    if s < 0:\n        return 0\n    if s == 0:\n        return F[cnt] * 2 * F[N - cnt - 2] * (N - cnt - 1)\n    if i == N:\n        return 0\n    if i == x or i == y:\n        return Choose(i + 1, s, x, y, cnt)\n    if (i, s, x, y, cnt) in Mem:\n        return Mem[i, s, x, y, cnt]\n    ans = Choose(i + 1, s - A[i], x, y, cnt + 1) + Choose(i + 1, s, x, y, cnt)\n    Mem[i, s, x, y, cnt] = ans\n    return ans\nT = int(input())\nF = [1, 1]\nfor i in range(2, 21):\n    F.append(F[-1] * i)\nfor t in range(T):\n    Mem = {}\n    ans = 0\n    (N, k) = map(int, input().split())\n    A = []\n    C = []\n    ans = 0\n    for i in range(N):\n        (a, c) = map(int, input().split())\n        A.append(a)\n        C.append(c)\n        if a > k:\n            ans += a - k\n    P = []\n    for i in range(N):\n        for j in range(i + 1, N):\n            if C[i] == C[j]:\n                P.append((i, j))\n    for p in P:\n        x = p[0]\n        y = p[1]\n        Lx = A[x]\n        Ly = A[y]\n        for j in range(0, k):\n            e = Choose(0, j, x, y, 0)\n            f = Lx + Ly + j - k\n            if j + Ly > k:\n                f -= j + Ly - k\n            if j + Lx > k:\n                f -= j + Lx - k\n            if f > 0:\n                ans += f * (e / F[N])\n    print(ans)", "def Choose(i, s, x, y, cnt):\n    if s < 0:\n        return 0\n    if s == 0:\n        return F[cnt] * 2 * F[N - cnt - 2] * (N - cnt - 1)\n    if i == N:\n        return 0\n    if i == x or i == y:\n        return Choose(i + 1, s, x, y, cnt)\n    if (i, s, x, y, cnt) in Mem:\n        return Mem[i, s, x, y, cnt]\n    ans = Choose(i + 1, s - A[i], x, y, cnt + 1) + Choose(i + 1, s, x, y, cnt)\n    Mem[i, s, x, y, cnt] = ans\n    return ans\nT = int(input())\nF = [1, 1]\nfor i in range(2, 21):\n    F.append(F[-1] * i)\nfor t in range(T):\n    Mem = {}\n    ans = 0\n    (N, k) = map(int, input().split())\n    A = []\n    C = []\n    ans = 0\n    for i in range(N):\n        (a, c) = map(int, input().split())\n        A.append(a)\n        C.append(c)\n        if a > k:\n            ans += a - k\n    P = []\n    for i in range(N):\n        for j in range(i + 1, N):\n            if C[i] == C[j]:\n                P.append((i, j))\n    for p in P:\n        x = p[0]\n        y = p[1]\n        Lx = A[x]\n        Ly = A[y]\n        for j in range(0, k):\n            e = Choose(0, j, x, y, 0)\n            f = Lx + Ly + j - k\n            if j + Ly > k:\n                f -= j + Ly - k\n            if j + Lx > k:\n                f -= j + Lx - k\n            if f > 0:\n                ans += f * (e / F[N])\n    print(ans)"]