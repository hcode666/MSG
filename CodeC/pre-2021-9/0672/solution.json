["for _ in range(int(input())):\n    n = int(input())\n    l = list(map(int, input().split()))\n    m = max(l)\n    (mg, t) = (0, 0)\n    half = n // 2\n    l = l * 2\n    for i in l:\n        if i < m:\n            t += 1\n            if mg < t:\n                mg = t\n        else:\n            t = 0\n    if mg - half >= 0:\n        print(mg - half + 1)\n    else:\n        print(0)", "t = int(input())\nfor i in range(t):\n    n = int(input())\n    l = list(map(int, input().split()))\n    a = max(l)\n    m = l.index(a)\n    b = l[::-1].index(a)\n    c = n - b - 1\n    if c - m >= n // 2:\n        print(0)\n    else:\n        print(n // 2 - (c - m))", "t = int(input())\nfor i in range(t):\n    n = int(input())\n    l = list(map(int, input().split()))\n    a = max(l)\n    m = l.index(a)\n    b = l[::-1].index(a)\n    c = n - b - 1\n    if c - m >= n // 2:\n        print(0)\n    else:\n        print(n // 2 - (c - m))", "for _ in range(int(input())):\n    n = int(input())\n    a = list(map(int, input().split()))\n    m = max(a)\n    x = a.index(m)\n    k = a[::-1].index(m)\n    y = n - k - 1\n    if y - x >= n // 2:\n        print(0)\n    else:\n        print(n // 2 - (y - x))", "for _ in range(int(input())):\n    n = int(input())\n    a = list(map(int, input().split()))\n    m = max(a)\n    x = a.index(m)\n    k = a[::-1].index(m)\n    y = n - k - 1\n    if y - x >= n // 2:\n        print(0)\n    else:\n        print(n // 2 - (y - x))", "for _ in range(int(input())):\n    n = int(input())\n    a = list(map(int, input().split()))\n    m = max(a)\n    x = a.index(m)\n    k = a[::-1].index(m)\n    y = n - k - 1\n    if y - x >= n // 2:\n        print(0)\n    else:\n        print(n // 2 - (y - x))", "def func(a, n):\n    count = 0\n    m = max(a)\n    arr = []\n    for i in a:\n        if i != m:\n            count += 1\n        if i == m:\n            arr.append(count)\n            count = 0\n    if count > 0:\n        arr[0] = arr[0] + count\n    l = max(arr)\n    return max(l - n // 2 + 1, 0)\nx = int(input())\nfor i in range(x):\n    n = int(input())\n    a = list(map(int, input().split()))\n    print(func(a, n))", "t = int(input())\nfor i in range(t):\n    n = int(input())\n    l = list(map(int, input().split()))\n    a = max(l)\n    m = l.index(a)\n    b = l[::-1].index(a)\n    c = n - b - 1\n    if c - m >= n // 2:\n        print(0)\n    else:\n        print(n // 2 - (c - m))", "for _ in range(int(input())):\n    n = int(input())\n    a = list(map(int, input().split()))\n    m = max(a)\n    x = a.index(m)\n    k = a[::-1].index(m)\n    y = n - k - 1\n    if y - x >= n // 2:\n        print(0)\n    else:\n        print(n // 2 - (y - x))", "for _ in range(int(input())):\n    n = int(input())\n    a = list(map(int, input().split()))\n    m = max(a)\n    x = a.index(m)\n    k = a[::-1].index(m)\n    y = n - k - 1\n    if y - x >= n // 2:\n        print(0)\n    else:\n        print(n // 2 - (y - x))", "for _ in range(int(input())):\n    n = int(input())\n    a = list(map(int, input().split()))\n    m = max(a)\n    x = a.index(m)\n    k = a[::-1].index(m)\n    y = n - k - 1\n    if y - x >= n // 2:\n        print(0)\n    else:\n        print(n // 2 - (y - x))", "n = int(input())\nfor i in range(n):\n    m = int(input())\n    x = [int(p) for p in input().split()]\n    j = max(x)\n    p = x.index(j)\n    m1 = p\n    for l in range(m - 1, p + 1, -1):\n        if j == x[l]:\n            m1 = l\n            break\n    m1 = m1 - p\n    if m1 >= m // 2:\n        print('0')\n    else:\n        print(m // 2 - m1)", "t = int(input())\nfor i in range(t):\n    n = int(input())\n    a = list(map(int, input().split()))\n    m = max(a)\n    f = a.index(m)\n    l = a[::-1].index(m)\n    l = n - l - 1\n    diff = l - f\n    if diff >= n // 2:\n        print('0')\n    else:\n        print(n // 2 - diff)", "for i in range(int(input())):\n    n = int(input())\n    l1 = list(map(int, input().split()))\n    x = l1.index(max(l1))\n    y = n - l1[::-1].index(max(l1)) - 1\n    if y - x > n // 2:\n        print(0)\n    else:\n        print(n // 2 - (y - x))", "import math\nfor i in range(int(input())):\n    n = int(input())\n    l = list(map(int, input().split()))\n    x = l.index(max(l))\n    l.reverse()\n    y = l.index(max(l))\n    y = len(l) - y - 1\n    sub = y - x\n    if sub >= math.floor(n // 2):\n        print(0)\n    else:\n        print(n // 2 - (y - x))", "for _ in range(int(input())):\n    n = int(input())\n    a = list(map(int, input().split()))\n    m = max(a)\n    x = a.index(m)\n    k = a[::-1].index(m)\n    y = n - k - 1\n    if y - x >= n // 2:\n        print(0)\n    else:\n        print(n // 2 - (y - x))", "t = int(input())\nfor i in range(t):\n    n = int(input())\n    w = list(map(int, input().split()))\n    m = max(w)\n    x = w.index(m)\n    k = w[::-1].index(m)\n    y = n - k - 1\n    if y - x >= n // 2:\n        print(0)\n    else:\n        print(n // 2 - (y - x))", "for _ in range(int(input())):\n    n = int(input())\n    a = list(map(int, input().split()))\n    m = max(a)\n    x = a.index(m)\n    k = a[::-1].index(m)\n    y = n - k - 1\n    if y - x >= n // 2:\n        print(0)\n    else:\n        print(n // 2 - (y - x))", "for _ in range(int(input())):\n    n = int(input())\n    a = list(map(int, input().split()))\n    m = max(a)\n    x = a.index(m)\n    k = a[::-1].index(m)\n    y = n - k - 1\n    if y - x >= n / 2:\n        print(0)\n    else:\n        print(n // 2 - (y - x))", "for _ in range(int(input())):\n    n = int(input())\n    a = list(map(int, input().split()))\n    m = max(a)\n    x = a.index(m)\n    k = a[::-1].index(m)\n    y = n - k - 1\n    if y - x >= n // 2:\n        print(0)\n    else:\n        print(n // 2 - (y - x))", "t = int(input())\nfor i in range(t):\n    n = int(input())\n    l = list(map(int, input().split()))\n    m = max(l)\n    a = l.index(m)\n    k = l[::-1].index(m)\n    b = n - k - 1\n    if b - a > n // 2:\n        print(0)\n    else:\n        print(n // 2 - (b - a))", "for _ in range(int(input())):\n    n = int(input())\n    a = list(map(int, input().split()))\n    m = max(a)\n    x = a.index(m)\n    k = a[::-1].index(m)\n    y = n - k - 1\n    if y - x >= n // 2:\n        print(0)\n    else:\n        print(n // 2 - (y - x))", "for _ in range(int(input())):\n    n = int(input())\n    a = list(map(int, input().split()))\n    m = max(a)\n    x = a.index(m)\n    k = a[::-1].index(m)\n    y = n - k - 1\n    if y - x >= n // 2:\n        print(0)\n    else:\n        print(n // 2 - (y - x))", "for _ in range(int(input())):\n    n = int(input())\n    a = list(map(int, input().split()))\n    m = max(a)\n    x = a.index(m)\n    k = a[::-1].index(m)\n    y = n - k - 1\n    if y - x >= n // 2:\n        print(0)\n    else:\n        print(n // 2 - (y - x))", "for _ in range(int(input())):\n    n = int(input())\n    a = list(map(int, input().split()))\n    m = max(a)\n    x = a.index(m)\n    k = a[::-1].index(m)\n    y = n - k - 1\n    if y - x >= n // 2:\n        print(0)\n    else:\n        print(n // 2 - (y - x))", "for _ in range(int(input())):\n    n = int(input())\n    a = list(map(int, input().split()))\n    m = max(a)\n    x = a.index(m)\n    k = a[::-1].index(m)\n    y = n - k - 1\n    if y - x >= n // 2:\n        print(0)\n    else:\n        print(n // 2 - (y - x))", "for _ in range(int(input())):\n    n = int(input())\n    a = list(map(int, input().split()))\n    m = max(a)\n    x = a.index(m)\n    k = a[::-1].index(m)\n    y = n - k - 1\n    if y - x >= n // 2:\n        print(0)\n    else:\n        print(n // 2 - (y - x))", "for __ in range(int(input())):\n    n = int(input())\n    a = list(map(int, input().split()))\n    m = max(a)\n    x = a.index(m)\n    k = a[::-1].index(m)\n    y = n - k - 1\n    if y - x >= n // 2:\n        print(0)\n    else:\n        print(n // 2 - (y - x))", "for i in range(int(input())):\n    n = int(input())\n    a = list(map(int, input().split()))\n    m = max(a)\n    x = a.index(m)\n    k = a[::-1].index(m)\n    y = n - k - 1\n    if y - x > n // 2:\n        print(0)\n    else:\n        print(n // 2 - y + x)", "for _ in range(int(input())):\n    n = int(input())\n    a = list(map(int, input().split()))\n    m = max(a)\n    x = a.index(m)\n    k = a[::-1].index(m)\n    y = n - k - 1\n    if y - x >= n // 2:\n        print(0)\n    else:\n        print(n // 2 - (y - x))", "for _ in range(int(input())):\n    n = int(input())\n    w = list(map(int, input().split()))\n    m = max(w)\n    x = w.index(m)\n    k = w[::-1].index(m)\n    y = n - k - 1\n    if y - x >= n // 2:\n        print(0)\n    else:\n        print(n // 2 - (y - x))", "for _ in range(int(input())):\n    n = int(input())\n    a = list(map(int, input().split()))\n    m = max(a)\n    x = a.index(m)\n    k = a[::-1].index(m)\n    y = n - k - 1\n    if y - x >= n // 2:\n        print(0)\n    else:\n        print(n // 2 - (y - x))", "for _ in range(int(input())):\n    n = int(input())\n    a = list(map(int, input().split()))\n    m = max(a)\n    x = a.index(m)\n    k = a[::-1].index(m)\n    y = n - k - 1\n    if y - x >= n // 2:\n        print(0)\n    else:\n        print(n // 2 - (y - x))", "for _ in range(int(input())):\n    n = int(input())\n    a = list(map(int, input().split()))\n    b = max(a)\n    x = a.index(b)\n    k = a[::-1].index(b)\n    y = n - k - 1\n    if y - x >= n // 2:\n        print(0)\n    else:\n        print(n // 2 - (y - x))", "for _ in range(int(input())):\n    n = int(input())\n    a = list(map(int, input().split()))\n    m = max(a)\n    x = a.index(m)\n    k = a[::-1].index(m)\n    y = n - k - 1\n    if y - x >= n // 2:\n        print(0)\n    else:\n        print(n // 2 - (y - x))", "for _ in range(int(input())):\n    n = int(input())\n    w = list(map(int, input().split()))\n    m = max(w)\n    x = w.index(m)\n    k = w[::-1].index(m)\n    y = n - k - 1\n    if y - x >= n // 2:\n        print(0)\n    else:\n        print(n // 2 - (y - x))", "for _ in range(int(input())):\n    n = int(input())\n    a = list(map(int, input().split()))\n    m = max(a)\n    x = a.index(m)\n    k = a[::-1].index(m)\n    y = n - k - 1\n    if y - x >= n // 2:\n        print(0)\n    else:\n        print(n // 2 - (y - x))", "for i in range(int(input())):\n    n = int(input())\n    a = list(map(int, input().split()))\n    m = max(a)\n    x = a.index(m)\n    k = a[::-1].index(m)\n    y = n - k - 1\n    if y - x >= n // 2:\n        print(0)\n    else:\n        print(n // 2 - (y - x))", "for i in range(int(input())):\n    n = int(input())\n    w = list(map(int, input().split()))\n    m = max(w)\n    x = w.index(m)\n    k = w[::-1].index(m)\n    y = n - k - 1\n    if y - x >= n // 2:\n        print(0)\n    else:\n        print(n // 2 - (y - x))", "for _ in range(int(input())):\n    n = int(input())\n    a = list(map(int, input().split()))\n    m = max(a)\n    x = a.index(m)\n    k = a[::-1].index(m)\n    y = n - k - 1\n    if y - x >= n // 2:\n        print(0)\n    else:\n        print(n // 2 - (y - x))", "for _ in range(int(input())):\n    n = int(input())\n    l = list(map(int, input().split()))\n    m = max(l)\n    x = l.index(m)\n    k = l[::-1].index(m)\n    y = n - k - 1\n    if y - x >= n // 2:\n        print(0)\n    else:\n        print(n // 2 - (y - x))", "for _ in range(int(input())):\n    n = int(input())\n    a = list(map(int, input().split()))\n    m = max(a)\n    x = a.index(m)\n    k = a[::-1].index(m)\n    y = n - k - 1\n    if y - x >= n // 2:\n        print(0)\n    else:\n        print(n // 2 - (y - x))", "for _ in range(int(input())):\n    n = int(input())\n    a = list(map(int, input().split()))\n    m = max(a)\n    x = a.index(m)\n    k = a[::-1].index(m)\n    y = n - k - 1\n    if y - x >= n // 2:\n        print(0)\n    else:\n        print(n // 2 - (y - x))", "for _ in range(int(input())):\n    n = int(input())\n    a = list(map(int, input().split()))\n    m = max(a)\n    x = a.index(m)\n    k = a[::-1].index(m)\n    y = n - k - 1\n    if y - x >= n // 2:\n        print(0)\n    else:\n        print(n // 2 - (y - x))", "for _ in range(int(input())):\n    n = int(input())\n    a = list(map(int, input().split()))\n    m = max(a)\n    x = a.index(m)\n    k = a[::-1].index(m)\n    y = n - k - 1\n    if y - x >= n // 2:\n        print(0)\n    else:\n        print(n // 2 - (y - x))", "for t in range(int(input())):\n    n = int(input())\n    a = list(map(int, input().split()))\n    m = max(a)\n    x = a.index(m)\n    k = a[::-1].index(m)\n    y = n - k - 1\n    if y - x >= n // 2:\n        print(0)\n    else:\n        print(n // 2 - (y - x))", "for _ in range(int(input())):\n    n = int(input())\n    a = list(map(int, input().split()))\n    m = max(a)\n    x = a.index(m)\n    k = a[::-1].index(m)\n    y = n - k - 1\n    if y - x >= n // 2:\n        print(0)\n    else:\n        print(n // 2 - (y - x))", "for _ in range(int(input())):\n    n = int(input())\n    a = list(map(int, input().split()))\n    m = max(a)\n    x = a.index(m)\n    k = a[::-1].index(m)\n    y = n - k - 1\n    if y - x >= n / 2:\n        print(0)\n    else:\n        print(n // 2 - (y - x))", "for _ in range(int(input())):\n    n = int(input())\n    a = list(map(int, input().split()))\n    m = max(a)\n    x = a.index(m)\n    k = a[::-1].index(m)\n    y = n - k - 1\n    if y - x >= n // 2:\n        print(0)\n    else:\n        print(n // 2 - (y - x))", "for _ in range(int(input())):\n    n = int(input())\n    a = list(map(int, input().split()))\n    m = max(a)\n    x = a.index(m)\n    k = a[::-1].index(m)\n    y = n - k - 1\n    if y - x >= n / 2:\n        print(0)\n    else:\n        print(n // 2 - (y - x))", "for _ in range(int(input())):\n    n = int(input())\n    a = list(map(int, input().split()))\n    m = max(a)\n    x = a.index(m)\n    k = a[::-1].index(m)\n    y = n - k - 1\n    if y - x >= n // 2:\n        print(0)\n    else:\n        print(n // 2 - (y - x))", "for _ in range(int(input())):\n    n = int(input())\n    a = list(map(int, input().split()))\n    m = max(a)\n    x = a.index(m)\n    k = a[::-1].index(m)\n    y = n - k - 1\n    if y - x >= n // 2:\n        print(0)\n    else:\n        print(n // 2 - (y - x))", "t = int(input())\nwhile t != 0:\n    n = int(input())\n    a = list(map(int, input().split()))\n    m = max(a)\n    x = a.index(m)\n    k = a[::-1].index(m)\n    y = n - k - 1\n    if y - x >= n // 2:\n        print(0)\n    else:\n        print(n // 2 - (y - x))\n    t = t - 1", "for _ in range(int(input())):\n    n = int(input())\n    a = list(map(int, input().split()))\n    m = max(a)\n    x = a.index(m)\n    k = a[::-1].index(m)\n    y = n - k - 1\n    if y - x > n // 2:\n        print(0)\n    else:\n        print(n // 2 - (y - x))", "for _ in range(int(input())):\n    n = int(input())\n    a = list(map(int, input().split()))\n    m = max(a)\n    x = a.index(m)\n    k = a[::-1].index(m)\n    y = n - k - 1\n    if y - x >= n // 2:\n        print(0)\n    else:\n        print(n // 2 - (y - x))", "for _ in range(int(input())):\n    n = int(input())\n    a = list(map(int, input().split()))\n    m = max(a)\n    x = a.index(m)\n    k = a[::-1].index(m)\n    y = n - k - 1\n    if y - x >= n // 2:\n        print(0)\n    else:\n        print(n // 2 - (y - x))", "for _ in range(int(input())):\n    n = int(input())\n    a = list(map(int, input().split()))\n    m = max(a)\n    x = a.index(m)\n    k = a[::-1].index(m)\n    y = n - k - 1\n    if y - x >= n // 2:\n        print(0)\n    else:\n        print(n // 2 - (y - x))", "for _ in range(int(input())):\n    n = int(input())\n    a = list(map(int, input().split()))\n    m = max(a)\n    x = a.index(m)\n    k = a[::-1].index(m)\n    y = n - k - 1\n    if y - x >= n // 2:\n        print(0)\n    else:\n        print(n // 2 - (y - x))", "for i in range(int(input())):\n    n = int(input())\n    w = list(map(int, input().split()))\n    m = max(w)\n    x = w.index(m)\n    k = w[::-1].index(m)\n    y = n - k - 1\n    if y - x >= n // 2:\n        print(0)\n    else:\n        print(n // 2 - y + x)", "t = int(input())\nfor i in range(t):\n    n = int(input())\n    l = [int(j) for j in input().split()]\n    m = max(l)\n    x = l.index(m)\n    k = l[::-1].index(m)\n    y = n - k - 1\n    if y - x >= n // 2:\n        print(0)\n    else:\n        print(n // 2 - (y - x))", "t = int(input())\nfor i in range(0, t):\n    n = int(input())\n    l = list(map(int, input().split()))\n    m = max(l)\n    i1 = l.index(m)\n    i2 = n - l[::-1].index(m) - 1\n    if abs(i1 - i2) < n // 2:\n        print(n // 2 - (i2 - i1))\n    else:\n        print(0)", "for i in range(int(input())):\n    n = int(input())\n    l1 = list(map(int, input().split()))\n    x = l1.index(max(l1))\n    y = n - l1[::-1].index(max(l1)) - 1\n    if y - x > n // 2:\n        print(0)\n    else:\n        print(n // 2 - (y - x))", "def func(a, n):\n    count = 0\n    m = max(a)\n    arr = []\n    for i in a:\n        if i != m:\n            count += 1\n        if i == m:\n            arr.append(count)\n            count = 0\n    if count > 0:\n        arr[0] = arr[0] + count\n    l = max(arr)\n    return max(l - n // 2 + 1, 0)\nx = int(input())\nfor i in range(x):\n    n = int(input())\n    a = list(map(int, input().split()))\n    print(func(a, n))", "for i in range(int(input())):\n    n = int(input())\n    l1 = list(map(int, input().split()))\n    x = l1.index(max(l1))\n    y = n - l1[::-1].index(max(l1)) - 1\n    if y - x > n // 2:\n        print(0)\n    else:\n        print(n // 2 - (y - x))", "for i in range(int(input())):\n    n = int(input())\n    l1 = list(map(int, input().split()))\n    x = l1.index(max(l1))\n    y = n - l1[::-1].index(max(l1)) - 1\n    if y - x > n // 2:\n        print(0)\n    else:\n        print(n // 2 - (y - x))", "for i in range(int(input())):\n    n = int(input())\n    l1 = list(map(int, input().split()))\n    x = l1.index(max(l1))\n    y = n - l1[::-1].index(max(l1)) - 1\n    if y - x > n // 2:\n        print(0)\n    else:\n        print(n // 2 - (y - x))", "for i in range(int(input())):\n    n = int(input())\n    l1 = list(map(int, input().split()))\n    x = l1.index(max(l1))\n    y = n - l1[::-1].index(max(l1)) - 1\n    if y - x > n // 2:\n        print(0)\n    else:\n        print(n // 2 - (y - x))", "for _ in range(int(input())):\n    n = int(input())\n    l = list(map(int, input().split()))\n    x = l.index(max(l))\n    y = n - l[::-1].index(max(l)) - 1\n    if y - x > n // 2:\n        print('0')\n    else:\n        print(n // 2 - (y - x))", "for i in range(int(input())):\n    n = int(input())\n    l1 = list(map(int, input().split()))\n    x = l1.index(max(l1))\n    y = n - l1[::-1].index(max(l1)) - 1\n    if y - x > n // 2:\n        print(0)\n    else:\n        print(n // 2 - (y - x))", "for t in range(int(input())):\n    n = int(input())\n    s = list(map(int, input().split()))\n    arr = []\n    m = max(s)\n    c = 0\n    for i in s:\n        if i != m:\n            c += 1\n        else:\n            arr.append(c)\n            c = 0\n    if c != 0:\n        arr[0] += c\n    print(max(max(arr) - n // 2 + 1, 0))", "t = int(input())\nwhile t > 0:\n    n = int(input())\n    if n % 2 == 0:\n        l = list(map(int, input().split()))\n        a = l.index(max(l))\n        b = n // 2\n        c = n - l[::-1].index(max(l)) - 1\n        d = abs(a - c)\n        if b < d:\n            print(0)\n        else:\n            print(b - d)\n    else:\n        print(0)\n    t = t - 1", "for _ in range(int(input())):\n    n = int(input())\n    l1 = list(map(int, input().split()))\n    x = l1.index(max(l1))\n    y = n - l1[::-1].index(max(l1)) - 1\n    if y - x > n // 2:\n        print(0)\n    else:\n        print(n // 2 - (y - x))", "for _ in range(int(input())):\n    n = int(input())\n    l = list(map(int, input().split()))\n    m = max(l)\n    (mg, t) = (0, 0)\n    half = n // 2\n    l = l * 2\n    for i in l:\n        if i < m:\n            t += 1\n            if mg < t:\n                mg = t\n        else:\n            t = 0\n    if mg - half >= 0:\n        print(mg - half + 1)\n    else:\n        print(0)", "for i in range(int(input())):\n    n = int(input())\n    l1 = list(map(int, input().split()))\n    x = l1.index(max(l1))\n    y = n - l1[::-1].index(max(l1)) - 1\n    if y - x > n // 2:\n        print(0)\n    else:\n        print(n // 2 - (y - x))", "for i in range(int(input())):\n    n = int(input())\n    l1 = list(map(int, input().split()))\n    x = l1.index(max(l1))\n    y = n - l1[::-1].index(max(l1)) - 1\n    if y - x > n // 2:\n        print(0)\n    else:\n        print(n // 2 - (y - x))", "for i in range(int(input())):\n    n = int(input())\n    l1 = list(map(int, input().split()))\n    x = l1.index(max(l1))\n    y = n - l1[::-1].index(max(l1)) - 1\n    if y - x > n // 2:\n        print(0)\n    else:\n        print(n // 2 - (y - x))", "for i in range(int(input())):\n    n = int(input())\n    l1 = list(map(int, input().split()))\n    x = l1.index(max(l1))\n    y = n - l1[::-1].index(max(l1)) - 1\n    if y - x > n // 2:\n        print(0)\n    else:\n        print(n // 2 - (y - x))", "for i in range(int(input())):\n    n = int(input())\n    l1 = list(map(int, input().split()))\n    x = l1.index(max(l1))\n    y = n - l1[::-1].index(max(l1)) - 1\n    if y - x > n // 2:\n        print(0)\n    else:\n        print(n // 2 - (y - x))", "for i in range(int(input())):\n    n = int(input())\n    l1 = list(map(int, input().split()))\n    x = l1.index(max(l1))\n    y = n - l1[::-1].index(max(l1)) - 1\n    if y - x > n // 2:\n        print(0)\n    else:\n        print(n // 2 - (y - x))", "for i in range(int(input())):\n    n = int(input())\n    l1 = list(map(int, input().split()))\n    max_index = l1.index(max(l1))\n    min_index = n - l1[::-1].index(max(l1)) - 1\n    if min_index - max_index > n // 2:\n        print(0)\n    else:\n        print(n // 2 - (min_index - max_index))", "for _ in range(int(input())):\n    n = int(input())\n    l = list(map(int, input().split()))\n    m = max(l)\n    (mg, t) = (0, 0)\n    half = n // 2\n    l = l * 2\n    for i in l:\n        if i < m:\n            t += 1\n            if mg < t:\n                mg = t\n        else:\n            t = 0\n    if mg - half >= 0:\n        print(mg - half + 1)\n    else:\n        print(0)", "for i in range(int(input())):\n    n = int(input())\n    l1 = list(map(int, input().split()))\n    x = l1.index(max(l1))\n    y = n - l1[::-1].index(max(l1)) - 1\n    if y - x > n // 2:\n        print(0)\n    else:\n        print(n // 2 - (y - x))", "for i in range(int(input())):\n    n = int(input())\n    l1 = list(map(int, input().split()))\n    x = l1.index(max(l1))\n    y = n - l1[::-1].index(max(l1)) - 1\n    if y - x > n // 2:\n        print(0)\n    else:\n        print(n // 2 - (y - x))", "for i in range(int(input())):\n    n = int(input())\n    l1 = list(map(int, input().split()))\n    x = l1.index(max(l1))\n    y = n - l1[::-1].index(max(l1)) - 1\n    if y - x > n // 2:\n        print(0)\n    else:\n        print(n // 2 - (y - x))", "for i in range(int(input())):\n    o = int(input())\n    list5 = list(map(int, input().split()))\n    index_max = list5.index(max(list5))\n    index_max_rev = o - list5[::-1].index(max(list5)) - 1\n    if index_max_rev - index_max > o // 2:\n        print(0)\n    else:\n        print(o // 2 - (index_max_rev - index_max))", "t = int(input())\nfor i in range(t):\n    n = int(input())\n    l = list(map(int, input().split()))\n    a = l.index(max(l))\n    b = n - l[::-1].index(max(l)) - 1\n    if b - a > n // 2:\n        print(0)\n    else:\n        print(n // 2 - (b - a))", "for i in range(int(input())):\n    n = int(input())\n    l1 = list(map(int, input().split()))\n    x = l1.index(max(l1))\n    y = n - l1[::-1].index(max(l1)) - 1\n    if y - x > n // 2:\n        print(0)\n    else:\n        print(n // 2 - (y - x))", "for i in range(int(input())):\n    n = int(input())\n    l1 = list(map(int, input().split()))\n    x = l1.index(max(l1))\n    y = n - l1[::-1].index(max(l1)) - 1\n    if y - x > n // 2:\n        print(0)\n    else:\n        print(n // 2 - (y - x))", "for i in range(int(input())):\n    n = int(input())\n    l1 = list(map(int, input().split()))\n    x = l1.index(max(l1))\n    y = n - l1[::-1].index(max(l1)) - 1\n    if y - x > n // 2:\n        print(0)\n    else:\n        print(n // 2 - (y - x))", "for i in range(int(input())):\n    n = int(input())\n    l1 = list(map(int, input().split()))\n    x = l1.index(max(l1))\n    y = n - l1[::-1].index(max(l1)) - 1\n    if y - x > n // 2:\n        print(0)\n    else:\n        print(n // 2 - (y - x))", "for _ in range(int(input())):\n    n = int(input())\n    boxes = list(map(int, input().split()))\n    res = max(boxes)\n    dic = []\n    for i in range(n):\n        if boxes[i] == res:\n            dic.append(i + 1)\n    dic.append(dic[0] + n)\n    a = n // 2\n    ans = 0\n    for i in range(1, len(dic)):\n        ans += max(0, dic[i] - dic[i - 1] - a)\n    print(ans)", "t = int(input())\nfor _ in range(t):\n    n = int(input())\n    w = list(map(int, input().split()))\n    s = max(w)\n    half = n // 2\n    fm = w.index(s)\n    lm = fm\n    for i in range(fm + 1, n):\n        if w[i] == s:\n            lm = i\n    ml = lm - fm + 1\n    if ml > half:\n        print(0)\n    else:\n        print(half - ml + 1)", "t = int(input())\nfor i in range(t):\n    n = int(input())\n    l = list(map(int, input().split()))\n    m = max(l)\n    d = []\n    for j in range(n):\n        if l[j] == m:\n            d.append(j + 1)\n    d.append(d[0] + n)\n    h = n // 2\n    ans = 0\n    for k in range(1, len(d)):\n        ans += max(0, d[k] - d[k - 1] - h)\n    print(ans)", "t = int(input())\nfor i in range(t):\n    n = int(input())\n    l = list(map(int, input().split()))\n    m = max(l)\n    d = []\n    for j in range(n):\n        if l[j] == m:\n            d.append(j + 1)\n    d.append(d[0] + n)\n    h = n // 2\n    ans = 0\n    for k in range(1, len(d)):\n        ans += max(0, d[k] - d[k - 1] - h)\n    print(ans)", "t = int(input())\nfor i in range(t):\n    n = int(input())\n    l = list(map(int, input().split()))\n    m = max(l)\n    d = []\n    for j in range(n):\n        if l[j] == m:\n            d.append(j + 1)\n    d.append(d[0] + n)\n    h = n // 2\n    ans = 0\n    for k in range(1, len(d)):\n        ans += max(0, d[k] - d[k - 1] - h)\n    print(ans)", "t = int(input())\nfor i in range(t):\n    n = int(input())\n    a = list(map(int, input().split()))\n    max_1 = max(a)\n    a = a + a[:n // 2 - 1]\n    (start, end, res) = (0, 0, 0)\n    while end < len(a):\n        if a[end] == max_1:\n            end += 1\n            start = end + 0\n        elif end - start + 1 == n / 2:\n            res += 1\n            end += 1\n            start += 1\n        else:\n            end += 1\n    print(res)", "t = int(input())\nfor ii in range(0, t):\n    n = int(input())\n    a = list(map(int, input().split(' ')))\n    l = len(a)\n    r = max(a)\n    dp = []\n    req = 0\n    flag = 1\n    if flag == 0:\n        for i in range(0, l):\n            if a[i] == r:\n                dp.append(i + 1)\n        if dp[0] > l // 2:\n            req = req + (l - dp[-1]) + 1\n        elif l - dp[-1] + dp[0] - 1 > l // 2:\n            req = req + (l - dp[-1] + dp[0]) - l // 2\n        k = dp[0]\n        if len(dp) == n:\n            print(n - 1)\n            continue\n        for i in range(1, len(dp)):\n            if dp[i] - k > l // 2:\n                req = req + dp[i] - k - l // 2\n            k = dp[i]\n        print(req)\n    else:\n        for i in range(0, l):\n            if a[i] == r:\n                dp.append(i + 1)\n        dp2 = []\n        for i in range(1, len(dp)):\n            dp2.append(dp[i] - dp[i - 1] - 1)\n        dp2.append(l - dp[-1] + dp[0] - 1)\n        for i in dp2:\n            if i >= l // 2:\n                req = req + i + 1 - l // 2\n        print(req)", "t = int(input())\nfor i in range(t):\n    n = int(input())\n    a = list(map(int, input().split()))\n    max_1 = max(a)\n    a = a + a[:n // 2 - 1]\n    (start, end, res) = (0, 0, 0)\n    while end < len(a):\n        if a[end] == max_1:\n            end += 1\n            start = end + 0\n        elif end - start + 1 == n / 2:\n            res += 1\n            end += 1\n            start += 1\n        else:\n            end += 1\n    print(res)", "t = int(input())\nfor i in range(t):\n    n = int(input())\n    a = list(map(int, input().split()))\n    max_1 = max(a)\n    a = a + a[:n // 2 - 1]\n    (start, end, res) = (0, 0, 0)\n    while end < len(a):\n        if a[end] == max_1:\n            end += 1\n            start = end + 0\n        elif end - start + 1 == n / 2:\n            res += 1\n            end += 1\n            start += 1\n        else:\n            end += 1\n    print(res)", "for i in range(int(input())):\n    n = int(input())\n    l1 = list(map(int, input().split()))\n    x = l1.index(max(l1))\n    y = n - l1[::-1].index(max(l1)) - 1\n    if y - x > n // 2:\n        print(0)\n    else:\n        print(n // 2 - (y - x))"]