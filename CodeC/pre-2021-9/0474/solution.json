["MOD = 10000009\n\ndef count_palindromes(s):\n    n = len(s)\n    count = 1\n    for i in range(n // 2):\n        j = n - i - 1\n        if s[i] == '?' and s[j] == '?':\n            count = count * 26 % MOD\n        elif s[i] == s[j] or s[i] == '?' or s[j] == '?':\n            continue\n        else:\n            return 0\n    if n % 2 == 1 and s[n // 2] == '?':\n        count = count * 26 % MOD\n    return count\nt = int(input())\nfor _ in range(t):\n    s = input().strip()\n    print(count_palindromes(s))", "mod = 10000009\nfor _ in range(int(input())):\n    s = input()\n    ans = 1\n    n = len(s)\n    for i in range((n + 1) // 2):\n        if s[i] == s[-1 - i] and s[i] == '?':\n            ans = ans * 26 % mod\n        elif s[i] != s[-i - 1] and s[i] != '?' and (s[-i - 1] != '?'):\n            ans = 0\n            break\n    print(ans)", "mod = 10000009\nt = int(input())\nfor _ in range(t):\n    s = input()\n    ln = len(s)\n    dx = 1\n    for i in range(ln // 2):\n        xn = ln - i - 1\n        x = s[i]\n        y = s[xn]\n        if x == '?' and y == '?':\n            dx = dx * 26 % mod\n        elif x == y:\n            continue\n        elif x == '?' or y == '?':\n            continue\n        else:\n            dx = 0\n            break\n    if ln % 2 == 1 and ln > 1:\n        if s[ln // 2] == '?':\n            dx = dx * 26 % mod\n    elif ln == 1:\n        if s == '?':\n            dx = 26 % mod\n    print(dx)", "mod = 10000009\nt = int(input())\nfor _ in range(t):\n    s = input()\n    ln = len(s)\n    dx = 1\n    for i in range(ln // 2):\n        xn = ln - i - 1\n        x = s[i]\n        y = s[xn]\n        if x == '?' and y == '?':\n            dx = dx * 26 % mod\n        elif x == y:\n            continue\n        elif x == '?' or y == '?':\n            continue\n        else:\n            dx = 0\n            break\n    if ln % 2 == 1 and ln > 1:\n        if s[ln // 2] == '?':\n            dx = dx * 26 % mod\n    elif ln == 1:\n        if s == '?':\n            dx = 26 % mod\n    print(dx)", "mod = 10000009\nt = int(input())\nfor _ in range(t):\n    s = input()\n    ln = len(s)\n    dx = 1\n    for i in range(ln // 2):\n        xn = ln - i - 1\n        x = s[i]\n        y = s[xn]\n        if x == '?' and y == '?':\n            dx = dx * 26 % mod\n        elif x == y:\n            continue\n        elif x == '?' or y == '?':\n            continue\n        else:\n            dx = 0\n            break\n    if ln % 2 == 1 and ln > 1:\n        if s[ln // 2] == '?':\n            dx = dx * 26 % mod\n    elif ln == 1:\n        if s == '?':\n            dx = 26 % mod\n    print(dx)", "t = int(input())\nfor i in range(t):\n    s = input()\n    c = 1\n    d = len(s)\n    for i in range((d + 1) // 2):\n        j = d - 1 - i\n        if s[i] != '?' and s[j] != '?' and (s[i] != s[j]):\n            c = 0\n            break\n        elif s[i] == '?' and s[j] == '?':\n            c = c * 26 % 10000009\n    print(c)", "t = int(input())\nfor i in range(t):\n    s = input()\n    c = 1\n    d = len(s)\n    for i in range((d + 1) // 2):\n        j = d - 1 - i\n        if s[i] != '?' and s[j] != '?' and (s[i] != s[j]):\n            c = 0\n            break\n        elif s[i] == '?' and s[j] == '?':\n            c = c * 26 % 10000009\n    print(c)", "for _ in range(int(input())):\n    S = input()\n    possible = 1\n    (start, end) = (0, len(S) - 1)\n    flag = True\n    while start <= end:\n        if S[start] == '?' and S[end] == '?':\n            possible = possible * 26 % 10000009\n        elif S[start] != '?' and S[end] != '?' and (S[start] != S[end]):\n            print(0)\n            flag = False\n            break\n        start += 1\n        end -= 1\n    if flag:\n        print(possible)", "for i in range(int(input())):\n    s = input()\n    c = 1\n    d = len(s)\n    for i in range((d + 1) // 2):\n        j = d - 1 - i\n        if s[i] != '?' and s[j] != '?' and (s[i] != s[j]):\n            c = 0\n            break\n        elif s[i] == '?' and s[j] == '?':\n            c = c * 26 % 10000009\n    print(c)", "for _ in range(int(input())):\n    s = input()\n    n = len(s)\n    count = 0\n    for i in range(n // 2):\n        if s[i] != s[n - i - 1]:\n            if s[i] != '?' and s[n - 1 - i] != '?':\n                print(0)\n                break\n        elif s[i] == '?' and s[n - i - 1] == '?':\n            count += 1\n    else:\n        if n & 1 == 1:\n            if s[n // 2] == '?':\n                count += 1\n        print(pow(26, count, 10000009))", "for _ in range(int(input())):\n    s = input()\n    n = len(s)\n    count = 0\n    for i in range(n // 2):\n        if s[i] != s[n - i - 1]:\n            if s[i] != '?' and s[n - 1 - i] != '?':\n                print(0)\n                break\n        elif s[i] == '?' and s[n - i - 1] == '?':\n            count += 1\n    else:\n        if n & 1 == 1:\n            if s[n // 2] == '?':\n                count += 1\n        print(pow(26, count, 10000009))", "tests = int(input())\nfor i in range(tests):\n    string = input()\n    length = len(string)\n    ans = 1\n    end = (length - 1) // 2 + 1\n    for j in range(end):\n        if string[j] == '?' and string[-j - 1] == '?':\n            ans *= 26\n        elif string[j] == '?' or string[-j - 1] == '?':\n            ans *= 1\n        elif string[j] != string[-j - 1]:\n            ans = 0\n            break\n        ans %= 10000009\n    print(ans)", "tests = int(input())\nfor i in range(tests):\n    string = input()\n    length = len(string)\n    ans = 1\n    end = (length - 1) // 2 + 1\n    for j in range(end):\n        if string[j] == '?' and string[-j - 1] == '?':\n            ans *= 26\n        elif string[j] == '?' or string[-j - 1] == '?':\n            ans *= 1\n        elif string[j] != string[-j - 1]:\n            ans = 0\n            break\n        ans %= 10000009\n    print(ans)", "tests = int(input())\nfor i in range(tests):\n    string = input()\n    length = len(string)\n    ans = 1\n    for j in range(length // 2):\n        if string[j] == '?' and string[-j - 1] == '?':\n            ans *= 26\n        elif string[j] == '?' or string[-j - 1] == '?':\n            ans *= 1\n        elif string[j] != string[-j - 1]:\n            ans = 0\n            break\n        ans %= 10000009\n    if length & 1 and string[length // 2] == '?':\n        ans *= 26\n        ans %= 10000009\n    print(ans)", "for _ in range(int(input())):\n    s1 = str(input())\n    n = len(s1)\n    ans = 1\n    for i in range((n + 1) // 2):\n        if s1[i] == '?' and s1[n - i - 1] == '?':\n            ans = ans * 26 % 10000009\n        elif s1[i] != '?' and s1[n - i - 1] != '?' and (s1[i] != s1[n - i - 1]):\n            ans = 0\n            break\n    print(ans)", "for _ in range(int(input())):\n    s1 = str(input())\n    n = len(s1)\n    ans = 1\n    for i in range((n + 1) // 2):\n        if s1[i] == '?' and s1[n - i - 1] == '?':\n            ans = ans * 26 % 10000009\n        elif s1[i] != '?' and s1[n - i - 1] != '?' and (s1[i] != s1[n - i - 1]):\n            ans = 0\n            break\n    print(ans)", "for _ in range(int(input())):\n    s1 = input()\n    n = len(s1)\n    ans = 1\n    for i in range((n + 1) // 2):\n        if s1[i] == '?' and s1[n - i - 1] == '?':\n            ans = ans * 26 % 10000009\n        elif s1[i] != '?' and s1[n - i - 1] != '?' and (s1[i] != s1[n - i - 1]):\n            ans = 0\n            break\n    print(ans)", "for _ in range(int(input())):\n    s1 = input()\n    n = len(s1)\n    ans = 1\n    for i in range((n + 1) // 2):\n        if s1[i] == '?' and s1[n - i - 1] == '?':\n            ans = ans * 26 % 10000009\n        elif s1[i] != '?' and s1[n - i - 1] != '?' and (s1[i] != s1[n - i - 1]):\n            ans = 0\n            break\n    print(ans)", "from math import gcd, sqrt, ceil, floor, log10, log2\nfrom heapq import heapify, heappop, heappush, nsmallest, nlargest\nfrom collections import Counter, deque, OrderedDict, defaultdict\nfrom itertools import combinations, permutations, zip_longest\nfrom bisect import bisect_left, bisect_right\nfrom functools import lru_cache, reduce\nimport sys\nimport time\nimport string\nimport operator\nRECURSION_LIMIT = int(10000000.0)\nINT_MAX = float('inf')\nINT_MIN = float('-inf')\nMOD = int(10000000.0) + 9\nNEWLINE = '\\n'\nSPACE = ' '\nsys.setrecursionlimit(RECURSION_LIMIT)\ninp = lambda fn: fn(input())\ninp_vars = lambda fn, delim, convert_to=list: convert_to(map(fn, input().split(delim)))\nenum = lambda itr: enumerate(itr)\n\ndef toposort(graph, n):\n    degree = [0] * n\n    for node in graph:\n        for adj in graph[node]:\n            degree[adj] += 1\n    bfs_queue = [node for node in range(n) if not degree[node]]\n    for node in bfs_queue:\n        for adj in graph[node]:\n            degree[adj] -= 1\n            if not degree[adj]:\n                bfs_queue.append(adj)\n    return (bfs_queue, degree)\n\ndef dfs(graph, node, visited):\n    visited.add(node)\n    for adj in graph[node]:\n        if adj in visited:\n            continue\n        dfs(graph, adj, visited)\n\ndef solve(*args, **kwargs):\n    s = args[0]\n    n = len(s)\n    res = 1\n    for i in range((n + 1) // 2):\n        if s[i] != s[n - i - 1] and s[i] != '?' and (s[n - i - 1] != '?'):\n            return 0\n        if s[i] == s[n - i - 1] == '?':\n            res = res * 26 % MOD\n    return res\n\ndef main(*args, **kwargs):\n    for _ in range(int(input())):\n        arg1 = inp(str)\n        res = solve(*(arg1,))\n        if type(res) in {list, tuple, set}:\n            print(*res, sep='\\n')\n        else:\n            print(res)\nmain()", "t = int(input())\nfor i in range(t):\n    x = input()\n    y = len(x)\n    ans = 1\n    modulo = 10 ** 7 + 9\n    for j in range((y + 1) // 2):\n        if x[j] != x[y - 1 - j] and x[j] != '?' and (x[y - 1 - j] != '?'):\n            ans = 0\n            break\n        elif x[j] == '?' and x[y - 1 - j] == '?':\n            ans = ans * 26 % modulo\n    print(ans)", "t = int(input())\nmod = 10000009\nwhile t:\n    s = input()\n    m = len(s)\n    ans = 1\n    for i in range(m // 2 + 1):\n        if i == m // 2 and m & 1 == 0:\n            break\n        if (s[i] != '?' and s[-(i + 1)] != '?') and s[i] != s[-(i + 1)]:\n            ans = 0\n            break\n        if s[i] == s[-(i + 1)] == '?':\n            ans = ans * 26 % mod\n    print(ans % mod)\n    t -= 1", "MOD = 10000009\n\ndef solve():\n    s = input()\n    ls = len(s)\n    res = 1\n    if ls == 1:\n        if s[0] == '?':\n            print(26)\n        else:\n            print(1)\n        return\n    if ls & 1:\n        for i in range(ls // 2):\n            first_ch = s[i]\n            last_ch = s[ls - i - 1]\n            if first_ch == '?' and last_ch == '?':\n                res = res * 26 % MOD\n            elif first_ch == '?' or last_ch == '?':\n                res = res * 1 % MOD\n            elif first_ch != last_ch:\n                res = res * 0 % MOD\n        if s[ls // 2] == '?':\n            res = res * 26 % MOD\n    else:\n        for i in range(ls // 2):\n            first_ch = s[i]\n            last_ch = s[ls - i - 1]\n            if first_ch == '?' and last_ch == '?':\n                res = res * 26 % MOD\n            elif first_ch == '?' or last_ch == '?':\n                res = res * 1 % MOD\n            elif first_ch != last_ch:\n                res = res * 0 % MOD\n    print(res)\nfor _ in range(int(input())):\n    solve()", "mod = 10000009\nt = int(input())\nwhile t:\n    t = t - 1\n    s = input()\n    i = 0\n    j = len(s) - 1\n    c = 1\n    while i <= j:\n        if s[i] == '?' and s[j] == '?':\n            c = c * 26 % mod\n        elif s[i] == '?' or s[j] == '?':\n            pass\n        elif s[i] != s[j]:\n            c = 0\n            break\n        i = i + 1\n        j = j - 1\n    print(c % mod)", "mod = 10000009\nt = int(input())\nwhile t:\n    t = t - 1\n    s = input()\n    i = 0\n    j = len(s) - 1\n    c = 1\n    while i <= j:\n        if s[i] == '?' and s[j] == '?':\n            c = c * 26 % mod\n        elif s[i] == '?' or s[j] == '?':\n            pass\n        elif s[i] != s[j]:\n            c = 0\n            break\n        i = i + 1\n        j = j - 1\n    print(c % mod)", "mod = 10000009\nt = int(input())\nwhile t:\n    t = t - 1\n    s = input()\n    i = 0\n    j = len(s) - 1\n    c = 1\n    while i <= j:\n        if s[i] == '?' and s[j] == '?':\n            c = c * 26 % mod\n        elif s[i] == '?' or s[j] == '?':\n            pass\n        elif s[i] != s[j]:\n            c = 0\n            break\n        i = i + 1\n        j = j - 1\n    print(c % mod)", "mod = 10000009\nfor _ in range(int(input())):\n    st = input()\n    c = 1\n    i = 0\n    j = len(st) - 1\n    while i <= j:\n        if st[i] == '?' and st[j] == '?':\n            c = c * 26 % mod\n        elif st[i] == '?' or st[j] == '?':\n            pass\n        elif st[i] != st[j]:\n            c = 0\n            break\n        i = i + 1\n        j = j - 1\n    print(c % mod)", "mod = 10000009\nfor _ in range(int(input())):\n    st = input()\n    c = 1\n    i = 0\n    j = len(st) - 1\n    while i <= j:\n        if st[i] == '?' and st[j] == '?':\n            c = c * 26 % mod\n        elif st[i] == '?' or st[j] == '?':\n            pass\n        elif st[i] != st[j]:\n            c = 0\n            break\n        i = i + 1\n        j = j - 1\n    print(c % mod)", "T = int(input())\nfor _ in range(T):\n    r = input()\n    n = len(r)\n    (a, b, c) = (0, n - 1, 1)\n    while a <= b:\n        if r[a] == '?' == r[b]:\n            c = c * 26 % 10000009\n        elif r[a] != '?' and r[b] != '?' and (r[a] != r[b]):\n            c = 0\n            break\n        a += 1\n        b -= 1\n    print(c)", "mod = 10000009\nfor _ in range(int(input())):\n    st = input()\n    c = 1\n    i = 0\n    j = len(st) - 1\n    while i <= j:\n        if st[i] == '?' and st[j] == '?':\n            c = c * 26 % mod\n        elif st[i] == '?' or st[j] == '?':\n            pass\n        elif st[i] != st[j]:\n            c = 0\n            break\n        i = i + 1\n        j = j - 1\n    print(c % mod)", "t = int(input())\nfor i in range(t):\n    x = input()\n    n = len(x)\n    a = 0\n    b = n - 1\n    count = 1\n    while a <= b:\n        if x[a] == '?' == x[b]:\n            count = count * 26 % 10000009\n        elif x[a] != '?' and x[b] != '?' and (x[a] != x[b]):\n            count = 0\n            break\n        a += 1\n        b -= 1\n    print(count)", "mod = 10000009\nfor _ in range(int(input())):\n    st = input()\n    c = 1\n    i = 0\n    j = len(st) - 1\n    while i <= j:\n        if st[i] == '?' and st[j] == '?':\n            c = c * 26 % mod\n        elif st[i] == '?' or st[j] == '?':\n            pass\n        elif st[i] != st[j]:\n            c = 0\n            break\n        i = i + 1\n        j = j - 1\n    print(c % mod)", "for _ in range(int(input())):\n    s = input()\n    l = len(s)\n    flag = False\n    count = 0\n    if l % 2 == 1:\n        if s[l // 2] == '?':\n            count += 1\n    for i in range(0, l // 2):\n        if s[i] == '?' and s[l - i - 1] == '?':\n            count += 1\n        elif s[i] != s[l - i - 1] and s[i] != '?' and (s[l - i - 1] != '?'):\n            flag = True\n            break\n    if flag:\n        print(0)\n    else:\n        ans = 1\n        for i in range(count):\n            ans = ans * 26 % 10000009\n        print(ans)", "t = int(input())\nfor i in range(t):\n    x = input()\n    y = len(x)\n    ans = 1\n    modulo = 10 ** 7 + 9\n    for j in range((y + 1) // 2):\n        if x[j] != x[y - 1 - j] and x[j] != '?' and (x[y - 1 - j] != '?'):\n            ans = 0\n            break\n        elif x[j] == '?' and x[y - 1 - j] == '?':\n            ans = ans * 26 % modulo\n    print(ans)", "for _ in range(int(input())):\n    q = input()\n    ln = len(q)\n    ans = 1\n    modn = 10 ** 7 + 9\n    for i in range((ln + 1) // 2):\n        if q[i] != q[ln - 1 - i] and q[i] != '?' and (q[ln - 1 - i] != '?'):\n            ans = 0\n            break\n        elif q[i] == '?' and q[ln - 1 - i] == '?':\n            ans = ans * 26 % modn\n    print(ans)", "T = int(input())\nfor _ in range(T):\n    r = input()\n    n = len(r)\n    (a, b, c) = (0, n - 1, 1)\n    while a <= b:\n        if r[a] == '?' == r[b]:\n            c = c * 26 % 10000009\n        elif r[a] != '?' and r[b] != '?' and (r[a] != r[b]):\n            c = 0\n            break\n        a += 1\n        b -= 1\n    print(c)", "T = int(input())\nfor i in range(T):\n    s = input()\n    x = 0\n    y = len(s) - 1\n    z = 1\n    while x <= y:\n        if s[x] == '?' == s[y]:\n            z = z * 26 % 10000009\n        elif s[x] != '?' and s[y] != '?' and (s[x] != s[y]):\n            z = 0\n            break\n        x += 1\n        y -= 1\n    print(z)", "mod = 10000009\nfor _ in range(int(input())):\n    st = input()\n    c = 1\n    i = 0\n    j = len(st) - 1\n    while i <= j:\n        if st[i] == '?' and st[j] == '?':\n            c = c * 26 % mod\n        elif st[i] == '?' or st[j] == '?':\n            pass\n        elif st[i] != st[j]:\n            c = 0\n            break\n        i = i + 1\n        j = j - 1\n    print(c % mod)", "mod = 10000009\nfor _ in range(int(input())):\n    st = input()\n    c = 1\n    i = 0\n    j = len(st) - 1\n    while i <= j:\n        if st[i] == '?' and st[j] == '?':\n            c = c * 26 % mod\n        elif st[i] == '?' or st[j] == '?':\n            pass\n        elif st[i] != st[j]:\n            c = 0\n            break\n        i = i + 1\n        j = j - 1\n    print(c % mod)", "t = int(input())\nfor i in range(t):\n    s = input()\n    n = len(s)\n    (a, b, c) = (0, n - 1, 1)\n    while a <= b:\n        if s[a] == '?' == s[b]:\n            c = c * 26 % 10000009\n        elif s[a] != '?' and s[b] != '?' and (s[a] != s[b]):\n            c = 0\n            break\n        a += 1\n        b -= 1\n    print(c)", "try:\n    from debug import debug, timer\nexcept ImportError:\n    pass\nfrom sys import stdin\ninput = stdin.readline\n\ndef rii():\n    return range(int(input().strip()))\n\ndef ii():\n    return int(input().strip())\n\ndef mii():\n    return map(int, input().strip().split(' '))\n\ndef lmii():\n    return list(map(int, input().strip().split(' ')))\n\ndef si():\n    return str(input().strip())\n\ndef getvals():\n    while True:\n        yield from input().split()\n\ndef tri(n):\n    return n * (n + 1) // 2\nmodulus = 10000009\n\ndef smallest_first(m, n):\n    return (min(m, n), max(m, n))\nfrom functools import reduce\n\ndef solve(s):\n    if len(s) == 1:\n        return 26 if s == '?' else 1\n    if len(s) == 2:\n        return 26 if s == '??' else 1 if any(['?' in s, s == s[::-1]]) else 0\n    (left, half, end) = (0, len(s) // 2, len(s))\n    adj = 1 if end & 1 else 0\n    ans = reduce(lambda x, y: x * y % modulus, [26 if all([l == '?', r == '?']) else 1 if any([l == '?', r == '?', l == r]) else 0 for (l, r) in zip(s[left:half], s[end:half - 1 + adj:-1])])\n    if adj:\n        ans = ans * 26 % modulus if s[half] == '?' else ans\n    return ans\n\ndef do_codechef():\n    for t in rii():\n        print(solve(si()))\ndo_codechef()\nexit()", "t = int(input())\nfor _ in range(t):\n    l = input()\n    n = len(l)\n    (a, b, c) = (0, n - 1, 1)\n    while a <= b:\n        if l[a] == '?' == l[b]:\n            c = c * 26 % 10000009\n        elif l[a] != '?' and l[b] != '?' and (l[a] != l[b]):\n            c = 0\n            break\n        a += 1\n        b -= 1\n    print(c)", "for _ in range(int(input())):\n    l = input()\n    n = len(l)\n    (a, b, c) = (0, n - 1, 1)\n    while a <= b:\n        if l[a] == '?' == l[b]:\n            c = c * 26 % 10000009\n        elif l[a] != '?' and l[b] != '?' and (l[a] != l[b]):\n            c = 0\n            break\n        a += 1\n        b -= 1\n    print(c)", "mod = 10000009\nfor _ in range(int(input())):\n    st = input()\n    c = 1\n    i = 0\n    j = len(st) - 1\n    while i <= j:\n        if st[i] == '?' and st[j] == '?':\n            c = c * 26 % mod\n        elif st[i] == '?' or st[j] == '?':\n            pass\n        elif st[i] != st[j]:\n            c = 0\n            break\n        i = i + 1\n        j = j - 1\n    print(c % mod)", "for _ in range(int(input())):\n    l = input()\n    n = len(l)\n    (a, b, c) = (0, n - 1, 1)\n    while a <= b:\n        if l[a] == '?' == l[b]:\n            c = c * 26 % 10000009\n        elif l[a] != '?' and l[b] != '?' and (l[a] != l[b]):\n            c = 0\n            break\n        a += 1\n        b -= 1\n    print(c)", "for _ in range(int(input())):\n    l = input()\n    n = len(l)\n    (a, b, c) = (0, n - 1, 1)\n    while a <= b:\n        if l[a] == '?' == l[b]:\n            c = c * 26 % 10000009\n        elif l[a] != '?' and l[b] != '?' and (l[a] != l[b]):\n            c = 0\n            break\n        a += 1\n        b -= 1\n    print(c)", "for _ in range(int(input())):\n    l = input()\n    n = len(l)\n    (a, b, c) = (0, n - 1, 1)\n    while a <= b:\n        if l[a] == '?' == l[b]:\n            c = c * 26 % 10000009\n        elif l[a] != '?' and l[b] != '?' and (l[a] != l[b]):\n            c = 0\n            break\n        a += 1\n        b -= 1\n    print(c)", "t = int(input())\nfor i in range(t):\n    q = input()\n    l = len(q)\n    ans = 1\n    mod = 10 ** 7 + 9\n    for j in range((l + 1) // 2):\n        if q[j] != q[l - 1 - j] and q[j] != '?' and (q[l - 1 - j] != '?'):\n            ans = 0\n            break\n        elif q[j] == '?' and q[l - 1 - j] == '?':\n            ans = ans * 26 % mod\n    print(ans)", "for _ in range(int(input())):\n    q = input()\n    ln = len(q)\n    ans = 1\n    modn = 10 ** 7 + 9\n    for i in range((ln + 1) // 2):\n        if q[i] != q[ln - 1 - i] and q[i] != '?' and (q[ln - 1 - i] != '?'):\n            ans = 0\n            break\n        elif q[i] == '?' and q[ln - 1 - i] == '?':\n            ans = ans * 26 % modn\n    print(ans)", "for _ in range(int(input())):\n    q = input()\n    ln = len(q)\n    ans = 1\n    modn = 10 ** 7 + 9\n    for i in range((ln + 1) // 2):\n        if q[i] != q[ln - 1 - i] and q[i] != '?' and (q[ln - 1 - i] != '?'):\n            ans = 0\n            break\n        elif q[i] == '?' and q[ln - 1 - i] == '?':\n            ans = ans * 26 % modn\n    print(ans)", "for _ in range(int(input())):\n    s = input()\n    nWays = 1\n    n = len(s)\n    for i in range(n // 2):\n        if s[i] == '?' and s[-1 - i] == '?':\n            nWays = nWays * 26 % 10000009\n        elif s[i] != '?' and s[-1 - i] != '?' and (s[i] != s[-i - 1]):\n            nWays = 0\n            break\n    if n % 2 and s[n // 2] == '?':\n        nWays = nWays * 26 % (10 ** 7 + 9)\n    print(nWays)", "for _ in range(int(input())):\n    s = input()\n    nWays = 1\n    n = len(s)\n    f = True\n    for i in range(n // 2):\n        if s[i] == s[-i - 1]:\n            if s[i] == '?':\n                nWays = nWays * 26 % (10 ** 7 + 9)\n        elif s[i] == '?' and s[-i - 1] != '?' or (s[i] != '?' and s[-i - 1] == '?'):\n            continue\n        else:\n            nWays = 0\n            f = False\n            break\n    if f and n % 2 and (s[n // 2] == '?'):\n        nWays = nWays * 26 % (10 ** 7 + 9)\n    print(nWays)", "for j in range(int(input())):\n    s = input()\n    l = len(s)\n    ans = 1\n    mod = 10000009\n    for i in range((l + 1) // 2):\n        if s[i] != s[l - 1 - i] and s[i] != '?' and (s[l - 1 - i] != '?'):\n            ans = 0\n            break\n        elif s[i] == '?' and s[l - 1 - i] == '?':\n            ans = ans * 26 % mod\n    print(ans)", "for _ in range(int(input())):\n    s = input()\n    N = len(s)\n    ans = 1\n    for i in range(N // 2 + N % 2):\n        if s[i] == '?':\n            if s[N - 1 - i] == '?':\n                ans = ans * 26 % 10000009\n        elif s[N - 1 - i] != '?' and s[N - 1 - i] != s[i]:\n            ans = 0\n            break\n    print(ans)", "for _ in range(int(input())):\n    s = input()\n    l = len(s)\n    ans = 1\n    mod = 10000009\n    for i in range((l + 1) // 2):\n        if s[i] == s[l - i - 1] == '?':\n            ans = ans * 26 % mod\n        elif s[i].isalpha() and s[l - 1 - i].isalpha() and (s[i] != s[l - i - 1]):\n            ans = 0\n    print(ans)", "for _ in range(int(input())):\n    s = input()\n    l = len(s)\n    ans = 1\n    mod = 10000009\n    for i in range((l + 1) // 2):\n        if s[i] == s[l - i - 1] == '?':\n            ans = ans * 26 % mod\n        elif s[i].isalpha() and s[l - 1 - i].isalpha() and (s[i] != s[l - i - 1]):\n            ans = 0\n        if l == 2 and i == 0:\n            break\n    print(ans)", "for _ in range(int(input())):\n    s = input()\n    l = len(s)\n    ans = 1\n    mod = 10000009\n    if l == 1:\n        if s == '?':\n            ans = 26\n    else:\n        for i in range((l + 1) // 2):\n            if s[i] == s[l - i - 1] == '?':\n                ans = ans * 26 % mod\n            elif s[i].isalpha() and s[l - 1 - i].isalpha() and (s[i] != s[l - i - 1]):\n                ans = 0\n            if l == 2 and i == 0:\n                break\n    print(ans)", "for _ in range(int(input())):\n    s = input()\n    l = len(s)\n    ans = 1\n    mod = 10000009\n    if l == 1:\n        if s == '?':\n            ans = 26\n    else:\n        for i in range((l + 1) // 2):\n            if s[i] == '?' and s[l - i - 1] == '?':\n                ans = ans * 26 % mod\n            elif s[i].isalpha() and s[l - 1 - i].isalpha() and (s[i] != s[l - i - 1]):\n                ans = 0\n            if l == 2 and i == 0:\n                break\n    print(ans)", "for _ in range(int(input())):\n    s = input()\n    l = len(s)\n    flag = False\n    count = 0\n    if l % 2 == 1:\n        if s[l // 2] == '?':\n            count += 1\n    for i in range(0, l // 2):\n        if s[i] == '?' and s[l - i - 1] == '?':\n            count += 1\n        elif s[i] != s[l - i - 1] and s[i] != '?' and (s[l - i - 1] != '?'):\n            flag = True\n            break\n    if flag:\n        print(0)\n    else:\n        ans = 1\n        for i in range(count):\n            ans = ans * 26 % 10000009\n        print(ans)", "for _ in range(int(input())):\n    s = input()\n    l = len(s)\n    flag = False\n    count = 0\n    if l % 2 == 1:\n        if s[l // 2] == '?':\n            count += 1\n    for i in range(0, l // 2):\n        if s[i] == '?' and s[l - i - 1] == '?':\n            count += 1\n        elif s[i] != s[l - i - 1] and s[i] != '?' and (s[l - i - 1] != '?'):\n            flag = True\n            break\n    if flag:\n        print(0)\n    else:\n        ans = 1\n        for i in range(count):\n            ans = ans * 26 % 10000009\n        print(ans)", "for _ in range(int(input())):\n    s = input()\n    l = len(s)\n    flag = False\n    count = 0\n    if l % 2 == 1:\n        if s[l // 2] == '?':\n            count += 1\n    for i in range(0, l // 2):\n        if s[i] == '?' and s[l - i - 1] == '?':\n            count += 1\n        elif s[i] != s[l - i - 1] and s[i] != '?' and (s[l - i - 1] != '?'):\n            flag = True\n            break\n    if flag:\n        print(0)\n    else:\n        ans = 1\n        for i in range(count):\n            ans = ans * 26 % 10000009\n        print(ans)", "for t in range(0, int(input())):\n    string = input()\n    count = 0\n    r = 0\n    k = len(string)\n    if k % 2 != 0:\n        if string[k // 2] == '?':\n            count += 1\n    for i in range(0, len(string) // 2):\n        if string[i] == '?' and string[k - 1] == '?':\n            count += 1\n        elif string[i] != string[k - 1] and string[i] != '?' and (string[k - 1] != '?'):\n            r = 1\n            break\n        k -= 1\n    if r == 1:\n        print(0)\n    else:\n        ans = 1\n        for i in range(0, count):\n            ans = ans * 26 % 10000009\n        print(ans)", "tc = int(input())\nfor _ in range(tc):\n    s = input()\n    n = len(s)\n    ans = 1\n    for i in range(n // 2):\n        x = (s[i] == '?') + (s[n - i - 1] == '?')\n        if x == 2:\n            ans = ans * 26 % 10000009\n        elif x == 0 and s[i] != s[n - i - 1]:\n            ans = 0\n            break\n    if n % 2 == 1 and s[n // 2] == '?':\n        ans *= 26\n    print(ans)", "for _ in range(int(input())):\n    s = input()\n    i = 0\n    j = len(s) - 1\n    cnt = 1\n    f = 1\n    while i <= j:\n        if s[i] == '?' and s[j] == '?':\n            cnt = cnt * 26 % 10000009\n        elif s[i] == '?' or s[j] == '?':\n            pass\n        elif s[i] != s[j]:\n            f = -1\n            break\n        i += 1\n        j -= 1\n    if f == -1:\n        print(0)\n    else:\n        print(cnt)", "t = int(input())\nwhile t > 0:\n    t -= 1\n    s = input()\n    n = len(s)\n    l = 0\n    r = n - 1\n    count = 0\n    imposible = False\n    while l <= r:\n        if s[l] == '?' and s[r] == '?':\n            count += 1\n        elif s[l] != '?' and s[r] != '?' and (s[l] != s[r]):\n            imposible = True\n        l += 1\n        r -= 1\n    if imposible == True:\n        print('0')\n    else:\n        ans = 1\n        for i in range(count):\n            ans = ans * 26 % 10000009\n        print(ans)", "for _ in range(int(input())):\n    recipe = input()\n    n = len(recipe)\n    i = 0\n    j = n - 1\n    ans = 1\n    while i <= j:\n        if recipe[i] == '?' and recipe[j] == '?':\n            ans = ans * 26 % 10000009\n        elif recipe[i] == '?' or recipe[j] == '?':\n            pass\n        elif recipe[i] != recipe[j]:\n            ans = 0\n            break\n        i += 1\n        j -= 1\n    print(ans % 10000009)", "for t in range(int(input())):\n    s = input()\n    ans = 1\n    b = 0\n    du = len(s)\n    if du == 1:\n        if s[0] == '?':\n            print(26)\n        else:\n            print(1)\n    else:\n        for i in range(du // 2):\n            if s[i] == '?' and s[-i - 1] == '?':\n                ans = ans * 26 % 10000009\n            elif (s[i] == '?' or s[-i - 1] == '?') or s[i] == s[-i - 1]:\n                ans = ans\n            elif s[i] != s[-i - 1]:\n                ans = 0\n                b = 1\n                print(ans % 10000009)\n                break\n        if du % 2 != 0:\n            if s[du // 2] == '?':\n                ans = ans * 26 % 10000009\n        if b == 0:\n            print(ans % 10000009)", "for t in range(int(input())):\n    s = input()\n    ans = 1\n    b = 0\n    du = len(s)\n    if du == 1:\n        if s[0] == '?':\n            print(26)\n        else:\n            print(1)\n    else:\n        for i in range(du // 2):\n            if s[i] == '?' and s[-i - 1] == '?':\n                ans = ans * 26 % 10000009\n            elif (s[i] == '?' or s[-i - 1] == '?') or s[i] == s[-i - 1]:\n                ans = ans\n            elif s[i] != s[-i - 1]:\n                ans = 0\n                b = 1\n                print(ans % 10000009)\n                break\n        if du % 2 != 0:\n            if s[du // 2] == '?':\n                ans = ans * 26 % 10000009\n        if b == 0:\n            print(ans % 10000009)", "for _ in range(int(input())):\n    str1 = str(input())\n    n = len(str1)\n    (a, b, c) = (0, n - 1, 1)\n    while a <= b:\n        if str1[a] == '?' == str1[b]:\n            c = c * 26 % 10000009\n        elif str1[a] != '?' and str1[b] != '?' and (str1[a] != str1[b]):\n            c = 0\n            break\n        a += 1\n        b -= 1\n    print(c)", "t = int(input())\nfor i in range(t):\n    l = input()\n    n = len(l)\n    (a, b, c) = (0, n - 1, 1)\n    while a <= b:\n        if l[a] == '?' == l[b]:\n            c = c * 26 % 10000009\n        elif l[a] != '?' and l[b] != '?' and (l[a] != l[b]):\n            c = 0\n            break\n        a += 1\n        b -= 1\n    print(c)", "T = int(input())\nfor i in range(T):\n    l = input()\n    n = len(l)\n    (a, b, c) = (0, n - 1, 1)\n    while a <= b:\n        if l[a] == '?' == l[b]:\n            c = c * 26 % 10000009\n        elif l[a] != '?' and l[b] != '?' and (l[a] != l[b]):\n            c = 0\n            break\n        a += 1\n        b -= 1\n    print(c)", "for _ in range(int(input())):\n    l = input()\n    n = len(l)\n    (a, b, c) = (0, n - 1, 1)\n    while a <= b:\n        if l[a] == '?' == l[b]:\n            c = c * 26 % 10000009\n        elif l[a] != '?' and l[b] != '?' and (l[a] != l[b]):\n            c = 0\n            break\n        a += 1\n        b -= 1\n    print(c)", "for _ in range(int(input())):\n    l = input()\n    n = len(l)\n    (a, b, c) = (0, n - 1, 1)\n    while a <= b:\n        if l[a] == '?' == l[b]:\n            c = c * 26 % 10000009\n        elif l[a] != '?' and l[b] != '?' and (l[a] != l[b]):\n            c = 0\n            break\n        a += 1\n        b -= 1\n    print(c)", "for _ in range(int(input())):\n    pal = input().strip()\n    mul = 0\n    flag = True\n    if len(pal) % 2 == 0:\n        till = len(pal) // 2\n    else:\n        till = len(pal) // 2 + 1\n    for i in range(till):\n        (left, right) = (pal[i], pal[len(pal) - i - 1])\n        if left == '?':\n            if right == '?':\n                mul += 1\n        elif right == '?':\n            continue\n        elif left != right:\n            flag = False\n            break\n    if flag:\n        print(max(26 ** mul, 1) % 10000009)\n    else:\n        print('0')", "k = 10 ** 7 + 9\nfor _ in range(int(input())):\n    s = input()\n    n = len(s)\n    (i, j) = (0, n - 1)\n    (c, f) = (1, 0)\n    while i <= j:\n        if s[i] == s[j]:\n            if s[i] == '?':\n                c = c % k * 26 % k\n        elif s[i] != s[j]:\n            if s[i] == '?' or s[j] == '?':\n                pass\n            else:\n                c = 0\n                break\n        i += 1\n        j -= 1\n    print(c)", "try:\n    for _ in range(0, int(input())):\n        x = input()\n        l = len(x)\n        ans = 1\n        u = 0\n        v = l - 1\n        while u <= v:\n            if x[u] == '?' and x[v] == '?':\n                ans = ans * 26 % 10000009\n            elif x[u] != '?' and x[v] != '?' and (x[u] != x[v]):\n                ans = 0\n                break\n            u += 1\n            v -= 1\n        print(ans)\nexcept:\n    pass", "for _ in range(int(input())):\n    S = input()\n    possible = 1\n    (start, end) = (0, len(S) - 1)\n    flag = True\n    while start <= end:\n        if S[start] == '?' and S[end] == '?':\n            possible = possible * 26 % 10000009\n        elif S[start] != '?' and S[end] != '?' and (S[start] != S[end]):\n            print(0)\n            flag = False\n            break\n        start += 1\n        end -= 1\n    if flag:\n        print(possible)", "t = int(input())\nfor _ in range(t):\n    l = input()\n    n = len(l)\n    prod = 1\n    for k in range(n // 2):\n        i = l[k]\n        j = l[n - k - 1]\n        if i != j and (i != '?' and j != '?'):\n            prod = 0\n            break\n        elif i == j and i == '?':\n            prod *= 26\n        prod = prod % 10000009\n    if n % 2 != 0:\n        if l[n // 2] == '?':\n            prod *= 26\n    print(prod)", "t = 0\ntry:\n    t = int(input())\nexcept:\n    pass\nfor _ in range(t):\n    l = input()\n    n = len(l)\n    prod = 1\n    for k in range(n // 2):\n        i = l[k]\n        j = l[n - k - 1]\n        if i != j and (i != '?' and j != '?'):\n            prod = 0\n            break\n        elif i == j and i == '?':\n            prod *= 26\n        prod = prod % 10000009\n    if n % 2 != 0:\n        if l[n // 2] == '?':\n            prod *= 26\n    print(prod)", "t = 0\ntry:\n    t = int(input())\nexcept:\n    pass\nfor _ in range(t):\n    l = input()\n    n = len(l)\n    prod = 1\n    for k in range(n // 2):\n        i = l[k]\n        j = l[n - k - 1]\n        if i != j and (i != '?' and j != '?'):\n            prod *= 0\n            break\n        elif i == j and i == '?':\n            prod *= 26\n        prod = prod % 10000009\n    if n % 2 != 0:\n        if l[n // 2] == '?':\n            prod *= 26\n    print(prod)", "for _ in range(int(input())):\n    s = list(input())\n    n = len(s)\n    (S, mod) = (1, 10000009)\n    for i in range(n):\n        if s[i] == '?' and s[n - i - 1] == '?':\n            S = S * 26 % mod\n            (s[i], s[n - i - 1]) = ('.', '.')\n        elif s[i] != '?' and s[n - i - 1] != '?':\n            if s[i] != s[n - i - 1]:\n                S = 0\n                break\n    print(S % mod)", "for _ in range(int(input())):\n    s = list(input())\n    n = len(s)\n    an = 1\n    mod = 10000009\n    for i in range(n):\n        if s[i] == '?' and s[n - i - 1] == '?':\n            an = an * 26 % mod\n            s[i] = '.'\n            s[n - i - 1] = '.'\n        elif s[i] != '?' and s[n - i - 1] != '?':\n            if s[i] != s[n - i - 1]:\n                an = 0\n                break\n    print(an % mod)", "t = int(input())\nfor _ in range(t):\n    s = input()\n    s = [i for i in s]\n    n = len(s)\n    c = 1\n    mc = 1\n    for i in range(len(s)):\n        if s[i] == '?' and s[abs(n - 1 - i)] == '?':\n            s[abs(n - 1 - i)] = s[i] = 'a'\n            c *= 26\n        elif s[i] != s[abs(n - 1 - i)] and s[i] != '?' and (s[abs(n - 1 - i)] != '?'):\n            c = 0\n            mc = 0\n            break\n        c = c % 10000009\n    print(c)", "from math import ceil\n\ndef isPalindrome(s, N):\n    for i in range(ceil(N / 2)):\n        if s[i] != s[N - i - 1] and s[i] != '?' and (s[N - i - 1] != '?'):\n            return False\n    return True\nT = int(input())\nans = []\nm = 10 ** 7 + 9\nfor _ in range(T):\n    S = input()\n    N = len(S)\n    if isPalindrome(S, N):\n        count = 0\n        for i in range(ceil(N / 2)):\n            if S[i] == '?' and S[N - 1 - i] == '?':\n                count += 1\n        if count == 0:\n            ans.append(1)\n        else:\n            ans.append((26 % m) ** count % m)\n    else:\n        ans.append(0)\nfor i in ans:\n    print(i)", "from math import ceil\n\ndef isPalindrome(s, N):\n    for i in range(ceil(N / 2)):\n        if s[i] != s[N - i - 1] and s[i] != '?' and (s[N - i - 1] != '?'):\n            return False\n    return True\nT = int(input())\nans = []\nm = 10 ** 7 + 9\nfor _ in range(T):\n    S = input()\n    N = len(S)\n    if isPalindrome(S, N):\n        count = 0\n        for i in range(ceil(N / 2)):\n            if S[i] == '?' and S[N - 1 - i] == '?':\n                count += 1\n        if count == 0:\n            ans.append(1)\n        else:\n            ans.append((26 % m) ** count % m)\n    else:\n        ans.append(0)\nfor i in ans:\n    print(i)", "test = int(input())\nfor _ in range(test):\n    strText = input()\n    n = len(strText)\n    ans = 1\n    rangeCheck = n\n    if n % 2 == 0:\n        rangeCheck = rangeCheck // 2\n    else:\n        rangeCheck = rangeCheck // 2 + 1\n    if len(strText) == strText.count('?'):\n        ans = ans * 26 ** rangeCheck % (10 ** 7 + 9)\n    else:\n        for i in range(rangeCheck):\n            start = strText[i]\n            end = strText[n - 1 - i]\n            if start == '?' and end == '?':\n                ans = ans * 26 % (10 ** 7 + 9)\n            elif start != end:\n                if start != '?' and end != '?':\n                    ans = 0\n                    break\n    print(ans)", "t = int(input())\nfor _ in range(t):\n    s = input()\n    n = len(s)\n    if n == 1 and s[0] == '?':\n        print(26)\n    else:\n        count = 1\n        left = 0\n        right = n - 1\n        while left <= right:\n            if s[left] == '?' and s[right] == '?':\n                left += 1\n                right -= 1\n                count = count * 26 % 10000009\n            elif s[left] == '?' or s[right] == '?' or s[left] == s[right]:\n                left += 1\n                right -= 1\n                continue\n            else:\n                count = 0\n                break\n        print(count)", "mod = 10 ** 7 + 9\nfrom sys import stdin, stdout\nfor _ in range(int(stdin.readline())):\n    s = input().strip()\n    n = len(s)\n    m = 1\n    for i in range(n // 2):\n        if s[i] == s[n - i - 1] and s[i] == '?':\n            m = m * 26 % mod\n        elif s[i] != s[n - i - 1] and (s[i] == '?' or s[n - i - 1] == '?'):\n            pass\n        elif s[i] == s[n - i - 1]:\n            pass\n        else:\n            print(0)\n            break\n    else:\n        if n % 2 == 1 and s[n // 2] == '?':\n            m = m * 26 % mod\n        print(m)", "mod = 10 ** 7 + 9\nfrom sys import stdin, stdout\nfor _ in range(int(stdin.readline())):\n    s = input().strip()\n    n = len(s)\n    m = 1\n    for i in range(n // 2):\n        if s[i] == s[n - i - 1] and s[i] == '?':\n            m = m * 26 % mod\n        elif s[i] != s[n - i - 1] and (s[i] == '?' or s[n - i - 1] == '?'):\n            pass\n        elif s[i] == s[n - i - 1]:\n            pass\n        else:\n            print(0)\n            break\n    else:\n        if n % 2 == 1 and s[n // 2] == '?':\n            m = m * 26 % mod\n        print(m)", "for _ in range(int(input())):\n    s = input()\n    m = 10 ** 7 + 9\n    i = 0\n    j = len(s) - 1\n    c = 1\n    while i <= j:\n        if s[i] == s[j] == '?':\n            c = c % m * (26 % m) % m\n            i += 1\n            j -= 1\n        elif s[i] == '?' or s[j] == '?' or s[i] == s[j]:\n            i += 1\n            j -= 1\n        else:\n            c = 0\n            break\n    print(c)", "for u in range(int(input())):\n    s = input()\n    i = 0\n    j = len(s) - 1\n    c = 1\n    m = 10 ** 7 + 9\n    while i <= j:\n        if s[i] == s[j] == '?':\n            c = 26 % m * (c % m) % m\n            i += 1\n            j -= 1\n        elif s[i] == '?' or s[j] == '?' or s[i] == s[j]:\n            i += 1\n            j -= 1\n        else:\n            c = 0\n            break\n    print(c % m)", "for _ in range(int(input())):\n    a = input()\n    i = 0\n    j = len(a) - 1\n    ans = 1\n    mod = 10 ** 7 + 9\n    while i <= j:\n        if a[i] == '?' and a[j] == '?':\n            ans = ans % mod * (26 % mod) % mod\n            i += 1\n            j -= 1\n        elif a[i] == '?' or a[j] == '?' or a[i] == a[j]:\n            i += 1\n            j -= 1\n        else:\n            ans = 0\n            break\n    print(ans)", "test = int(input())\nfor _ in range(test):\n    string = list(input())\n    answer = 1\n    for i in range(len(string) // 2):\n        if string[i] == '?' and string[len(string) - i - 1] == '?':\n            answer = answer * 26 % 10000009\n        elif string[i] == '?' or string[len(string) - i - 1] == '?':\n            answer = answer * 1\n        elif string[i] != string[len(string) - i - 1]:\n            answer = 0\n            break\n    if len(string) % 2 != 0:\n        if string[len(string) // 2] == '?':\n            answer = answer * 26\n    print(answer % 10000009)", "a = int(input())\nfor _ in range(a):\n    b = list(input())\n    s = 1\n    for i in range(len(b) // 2):\n        if b[i] == '?' and b[len(b) - 1 - i] == '?':\n            s = s * 26 % 10000009\n        elif b[i] == '?' or b[len(b) - 1 - i] == '?':\n            s *= 1\n        elif b[i] != b[len(b) - 1 - i]:\n            s = 0\n            c = True\n            break\n    if len(b) % 2 == 1:\n        if b[len(b) // 2] == '?':\n            s = s * 26 % 10000009\n    print(s)", "def solve():\n    s = input()\n    n = len(s)\n    c = 1\n    for i in range((n - 1) // 2 + 1):\n        if s[i] == '?' and s[n - i - 1] == '?':\n            c = c * 26 % 10000009\n        elif s[i] == '?' or s[n - i - 1] == '?':\n            c = c * 1\n        elif s[i] != s[n - i - 1]:\n            c = 0\n            break\n    print(c)\nt = int(input())\nwhile t > 0:\n    solve()\n    t = t - 1"]