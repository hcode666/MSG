["from sys import stdin\nMOD = 1000000007\nfor trial in range(int(stdin.readline())):\n    (N, K) = map(int, stdin.readline().split())\n    Kmod = K % MOD\n    K1mod = (K - 1) % MOD\n    K2mod = (K - 2) % MOD\n    if K == 1:\n        print(0)\n    elif K == 2:\n        print(2)\n    else:\n        inner = (Kmod * K1mod * K1mod % MOD + Kmod * K1mod * K2mod * K2mod % MOD) % MOD\n        if N == 1:\n            print(K * (K - 1) % MOD)\n        elif N == 2:\n            print(inner)\n        else:\n            print(inner * pow(K ** 2 - 3 * K + 3, N - 2, MOD) % MOD)", "from sys import stdin\nMOD = 1000000007\nfor trial in range(int(stdin.readline())):\n    (N, K) = map(int, stdin.readline().split())\n    Kmod = K % MOD\n    K1mod = (K - 1) % MOD\n    K2mod = (K - 2) % MOD\n    if K == 1:\n        print(0)\n    elif K == 2:\n        print(2)\n    else:\n        inner = (Kmod * K1mod * K1mod % MOD + Kmod * K1mod * K2mod * K2mod % MOD) % MOD\n        if N == 1:\n            print(K * (K - 1) % MOD)\n        elif N == 2:\n            print(inner)\n        else:\n            print(inner * pow(K ** 2 - 3 * K + 3, N - 2, MOD) % MOD)"]