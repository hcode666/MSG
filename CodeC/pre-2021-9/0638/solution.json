["for _ in range(int(input())):\n    (n, k, answer) = map(int, input().split())\n    a = list(map(int, input().split()))\n    o = input()\n    if k == 0:\n        print(answer)\n    elif o[0] == 'X':\n        ans = a[0]\n        for i in range(1, n):\n            ans ^= a[i]\n        if k % 2 == 0:\n            print(answer)\n        else:\n            print(answer ^ ans)\n    elif o[0] == 'O':\n        ans = a[0]\n        for i in range(1, n):\n            ans |= a[i]\n        print(answer | ans)\n    else:\n        ans = a[0]\n        for i in range(1, n):\n            ans &= a[i]\n        print(answer & ans)", "for _ in range(int(input())):\n    (n, k, answer) = map(int, input().split())\n    a = list(map(int, input().split()))\n    o = input()\n    if k == 0:\n        print(answer)\n    elif o[0] == 'X':\n        ans = a[0]\n        for i in range(1, n):\n            ans ^= a[i]\n        if k % 2 == 0:\n            print(answer)\n        else:\n            print(answer ^ ans)\n    elif o[0] == 'O':\n        ans = a[0]\n        for i in range(1, n):\n            ans |= a[i]\n        print(answer | ans)\n    else:\n        ans = a[0]\n        for i in range(1, n):\n            ans &= a[i]\n        print(answer & ans)", "for _ in range(int(input())):\n    (n, k, answer) = map(int, input().split())\n    a = list(map(int, input().split()))\n    o = input()\n    if k == 0:\n        print(answer)\n    elif o[0] == 'X':\n        ans = a[0]\n        for i in range(1, n):\n            ans ^= a[i]\n        if k % 2 == 0:\n            print(answer)\n        else:\n            print(answer ^ ans)\n    elif o[0] == 'O':\n        ans = a[0]\n        for i in range(1, n):\n            ans |= a[i]\n        print(answer | ans)\n    else:\n        ans = a[0]\n        for i in range(1, n):\n            ans &= a[i]\n        print(answer & ans)", "for _ in range(int(input())):\n    (n, k, answer) = map(int, input().split())\n    a = list(map(int, input().split()))\n    o = input()\n    if k == 0:\n        print(answer)\n    else:\n        if o[0] == 'X':\n            if k % 2:\n                for i in range(n):\n                    answer ^= a[i]\n        elif o[0] == 'O':\n            for i in range(n):\n                answer |= a[i]\n        else:\n            for i in range(n):\n                answer &= a[i]\n        print(answer)", "T = int(input())\nfor i in range(T):\n    (n, k, ans) = [int(x) for x in input().split()]\n    a = [int(x) for x in input().split()]\n    b = input()\n    if k == 0:\n        print(ans)\n    else:\n        if b[0] == 'A':\n            for i in a:\n                ans &= i\n        elif b[0] == 'O':\n            for i in a:\n                ans |= i\n        elif k % 2:\n            for i in a:\n                ans ^= i\n        print(ans)", "T = int(input())\nfor i in range(T):\n    (n, k, ans) = [int(x) for x in input().split()]\n    a = [int(x) for x in input().split()]\n    b = input()\n    if k == 0:\n        print(ans)\n    else:\n        if b[0] == 'A':\n            for i in a:\n                ans &= i\n        elif b[0] == 'O':\n            for i in a:\n                ans |= i\n        elif k % 2:\n            for i in a:\n                ans ^= i\n        print(ans)", "mod = 1000000007\nread_int = lambda : int(input().strip())\nread_str = lambda : input().strip()\nread_str_arr = lambda : input().strip().split()\nread_int_arr = lambda : [int(x) for x in input().strip().split()]\n\ndef apply_op(op, A, n, ans):\n    for i in range(n):\n        if op == 'AND':\n            ans &= A[i]\n        elif op == 'OR':\n            ans |= A[i]\n        elif op == 'XOR':\n            ans ^= A[i]\n        else:\n            raise\n    return ans\n\ndef solve():\n    (n, k, ans) = read_int_arr()\n    A = read_int_arr()\n    op = read_str()\n    if k == 0:\n        print(ans)\n    elif op == 'XOR' and k & 1 == 0:\n        print(ans)\n    else:\n        print(apply_op(op, A, n, ans))\nfor _ in range(int(input())):\n    solve()", "T = int(input())\nfor i in range(T):\n    (n, k, ans) = [int(x) for x in input().split()]\n    a = [int(x) for x in input().split()]\n    b = input()\n    if k == 0:\n        print(ans)\n    else:\n        if b[0] == 'A':\n            for i in a:\n                ans &= i\n        elif b[0] == 'O':\n            for i in a:\n                ans |= i\n        elif k % 2:\n            for i in a:\n                ans ^= i\n        print(ans)", "T = int(input())\nfor i in range(T):\n    (n, k, ans) = [int(x) for x in input().split()]\n    a = [int(x) for x in input().split()]\n    b = input()\n    if k == 0:\n        print(ans)\n    else:\n        if b[0] == 'A':\n            for i in a:\n                ans &= i\n        elif b[0] == 'O':\n            for i in a:\n                ans |= i\n        elif k % 2:\n            for i in a:\n                ans ^= i\n        print(ans)", "for _ in range(int(input())):\n    (n, k, ans) = [int(x) for x in input().split()]\n    a = [int(x) for x in input().split()]\n    b = input()\n    if k == 0:\n        print(ans)\n    else:\n        if b[0] == 'A':\n            for i in a:\n                ans &= i\n        elif b[0] == 'O':\n            for i in a:\n                ans |= i\n        elif k % 2:\n            for i in a:\n                ans ^= i\n        print(ans)", "T = int(input())\nfor i in range(T):\n    (n, k, ans) = [int(x) for x in input().split()]\n    a = [int(x) for x in input().split()]\n    b = input()\n    if k == 0:\n        print(ans)\n    else:\n        if b[0] == 'A':\n            for i in a:\n                ans &= i\n        elif b[0] == 'O':\n            for i in a:\n                ans |= i\n        elif k % 2:\n            for i in a:\n                ans ^= i\n        print(ans)", "def fnc(n, k, answer, s, a):\n    for i in range(k):\n        for j in range(n):\n            if s == 'XOR':\n                answer ^= a[j]\n            elif s == 'OR':\n                answer |= a[j]\n            else:\n                answer &= a[j]\n    return answer\nfor _ in range(int(input())):\n    (n, k, answer) = [int(x) for x in input().split()]\n    a = [int(x) for x in input().split()]\n    s = input().strip()\n    if s == 'XOR':\n        k %= 2\n    else:\n        k = min(k, 1)\n    print(fnc(n, k, answer, s, a))", "def fnc(n, k, answer, s, a):\n    for i in range(k):\n        for j in range(n):\n            if s == 'XOR':\n                answer ^= a[j]\n            elif s == 'OR':\n                answer |= a[j]\n            else:\n                answer &= a[j]\n    return answer\nfor _ in range(int(input())):\n    (n, k, answer) = [int(x) for x in input().split()]\n    a = [int(x) for x in input().split()]\n    s = input().strip()\n    if s == 'XOR':\n        k %= 2\n    else:\n        k = min(k, 1)\n    print(fnc(n, k, answer, s, a))", "for _ in range(int(input())):\n    (n, k, ans) = [int(x) for x in input().split()]\n    a = [int(x) for x in input().split()]\n    b = input()\n    if k == 0:\n        print(ans)\n    else:\n        if b[0] == 'A':\n            for i in a:\n                ans &= i\n        elif b[0] == 'O':\n            for i in a:\n                ans |= i\n        elif k % 2:\n            for i in a:\n                ans ^= i\n        print(ans)", "def fnc(n, k, answer, s, a):\n    for i in range(k):\n        for j in range(n):\n            if s == 'XOR':\n                answer ^= a[j]\n            elif s == 'OR':\n                answer |= a[j]\n            else:\n                answer &= a[j]\n    return answer\nt = int(input())\nfor T in range(t):\n    (n, k, answer) = [int(x) for x in input().split()]\n    a = [int(x) for x in input().split()]\n    s = input().strip()\n    if s == 'XOR':\n        k %= 2\n    else:\n        k = min(k, 1)\n    print(fnc(n, k, answer, s, a))", "import sys\n\ndef input():\n    return sys.stdin.readline().strip()\n\ndef iinput():\n    return int(input())\n\ndef rinput():\n    return map(int, sys.stdin.readline().strip().split())\n\ndef get_list():\n    return list(map(int, sys.stdin.readline().strip().split()))\nfor _ in range(iinput()):\n    (n, k, ans) = rinput()\n    a = get_list()\n    b = input()\n    if k == 0:\n        print(ans)\n    else:\n        if b[0] == 'A':\n            for i in a:\n                ans &= i\n        elif b[0] == 'O':\n            for i in a:\n                ans |= i\n        elif k % 2:\n            for i in a:\n                ans ^= i\n        print(ans)", "for _ in range(int(input())):\n    (n, k, ans) = [int(x) for x in input().split()]\n    a = [int(x) for x in input().split()]\n    b = input()\n    if k == 0:\n        print(ans)\n    else:\n        if b[0] == 'A':\n            for i in a:\n                ans &= i\n        elif b[0] == 'O':\n            for i in a:\n                ans |= i\n        elif k % 2:\n            for i in a:\n                ans ^= i\n        print(ans)", "T = int(input())\nans = []\nfor _ in range(T):\n    (N, K, Ans) = [int(i) for i in input().split()]\n    A = [int(i) for i in input().split()]\n    S = input().strip()\n    if S == 'XOR':\n        x = A[0]\n        for i in range(1, N):\n            x ^= A[i]\n        if K % 2 != 0:\n            Ans ^= x\n    elif S == 'AND':\n        x = A[0]\n        for i in range(1, N):\n            x &= A[i]\n        if K != 0:\n            Ans &= x\n    elif S == 'OR':\n        x = A[0]\n        for i in range(1, N):\n            x |= A[i]\n        if K != 0:\n            Ans |= x\n    ans.append(Ans)\nfor i in ans:\n    print(i)", "for _ in range(int(input())):\n    (n, k, ans) = map(int, input().split())\n    a = [int(item) for item in input().split()]\n    s = input().strip()\n    if k == 0:\n        print(ans)\n    else:\n        if s == 'AND':\n            for i in range(n):\n                ans = ans & a[i]\n        elif s == 'OR':\n            for i in range(n):\n                ans = ans | a[i]\n        elif k % 2 == 0:\n            pass\n        else:\n            for i in range(n):\n                ans = ans ^ a[i]\n        print(ans)", "for _ in range(int(input())):\n    (n, k, ans) = [int(x) for x in input().split()]\n    a = [int(x) for x in input().split()]\n    b = input()\n    if k == 0:\n        print(ans)\n    else:\n        if b[0] == 'A':\n            for i in a:\n                ans &= i\n        elif b[0] == 'O':\n            for i in a:\n                ans |= i\n        elif k % 2:\n            for i in a:\n                ans ^= i\n        print(ans)", "for _ in range(int(input())):\n    (n, k, ans) = map(int, input().split())\n    a = [int(item) for item in input().split()]\n    s = input().strip()\n    if k == 0:\n        print(ans)\n    else:\n        if s == 'AND':\n            for i in range(n):\n                ans = ans & a[i]\n        elif s == 'OR':\n            for i in range(n):\n                ans = ans | a[i]\n        elif k % 2 == 0:\n            pass\n        else:\n            for i in range(n):\n                ans = ans ^ a[i]\n        print(ans)", "for _ in range(int(input())):\n    (n, k, answer) = map(int, input().split())\n    a = [int(item) for item in input().split()]\n    s = input().strip()\n    if k == 0:\n        print(answer)\n    else:\n        if s == 'AND':\n            for i in range(n):\n                answer = answer & a[i]\n        elif s == 'OR':\n            for i in range(n):\n                answer = answer | a[i]\n        elif k % 2 == 0:\n            pass\n        else:\n            for i in range(n):\n                answer = answer ^ a[i]\n        print(answer)", "for _ in range(int(input())):\n    (n, k, ans) = map(int, input().split())\n    a = list(map(int, input().split()))\n    op = input().strip()\n    if k == 0:\n        print(ans)\n    else:\n        if op == 'AND':\n            for i in range(n):\n                ans = ans & a[i]\n        elif op == 'OR':\n            for i in range(n):\n                ans = ans | a[i]\n        elif k % 2 == 0:\n            pass\n        else:\n            for i in range(n):\n                ans = ans ^ a[i]\n        print(ans)", "def solve():\n    (n, k, answer) = map(int, input().split())\n    array = list(map(int, input().split()))\n    operator = input()\n    if k == 0:\n        print(answer)\n    else:\n        if operator[0] == 'X':\n            if k % 2 == 0:\n                pass\n            else:\n                for i in array:\n                    answer = answer ^ i\n        elif operator[0] == 'A':\n            for i in array:\n                answer = answer & i\n        else:\n            for i in array:\n                answer = answer | i\n        print(answer)\nt = int(input())\nwhile t != 0:\n    solve()\n    t -= 1", "test = int(input())\nfor _ in range(test):\n    (n, k, answer) = map(int, input().split())\n    array = list(map(int, input().split()))\n    operator = input()\n    if k == 0:\n        print(answer)\n    else:\n        if operator[0] == 'X':\n            if k % 2 == 0:\n                pass\n            else:\n                for i in array:\n                    answer = answer ^ i\n        elif operator[0] == 'A':\n            for i in array:\n                answer = answer & i\n        else:\n            for i in array:\n                answer = answer | i\n        print(answer)", "t = int(input())\nfor i in range(t):\n    (n, k, ans) = map(int, input().split())\n    a1 = [int(x) for x in input().split()]\n    s = input()\n    if not k:\n        print(ans)\n    else:\n        if s[0] == 'X':\n            if k % 2 == 0:\n                pass\n            else:\n                for j in a1:\n                    ans = ans ^ j\n        elif s[0] == 'A':\n            for j in a1:\n                ans = ans & j\n        else:\n            for j in a1:\n                ans = ans | j\n        print(ans)", "import functools\nfor _ in range(int(input())):\n    (n, k, ans) = map(int, input().split())\n    l = list(map(int, input().split()))\n    op = input().strip()\n    if k > 0:\n        if op[0] == 'A':\n            for i in range(len(l)):\n                ans = ans & l[i]\n            print(ans)\n        elif op[0] == 'O':\n            for i in range(len(l)):\n                ans = ans | l[i]\n            print(ans)\n        elif k % 2 == 0:\n            print(ans)\n        else:\n            for i in range(len(l)):\n                ans = ans ^ l[i]\n            print(ans)\n    elif k == 0:\n        print(ans)", "import functools\nfor _ in range(int(input())):\n    (n, k, ans) = map(int, input().split())\n    l = list(map(int, input().split()))\n    op = input().strip()\n    if k > 0:\n        if op[0] == 'A':\n            for i in range(len(l)):\n                ans = ans & l[i]\n            print(ans)\n        elif op[0] == 'O':\n            for i in range(len(l)):\n                ans = ans | l[i]\n            print(ans)\n        elif k % 2 == 0:\n            print(ans)\n        else:\n            for i in range(len(l)):\n                ans = ans ^ l[i]\n            print(ans)\n    elif k == 0:\n        print(ans)", "import functools\nfor _ in range(int(input())):\n    (n, k, ans) = map(int, input().split())\n    l = list(map(int, input().split()))\n    op = input().strip()\n    if k > 0:\n        if op[0] == 'A':\n            for i in range(len(l)):\n                ans = ans & l[i]\n            print(ans)\n        elif op[0] == 'O':\n            for i in range(len(l)):\n                ans = ans | l[i]\n            print(ans)\n        elif k % 2 == 0:\n            print(ans)\n        else:\n            for i in range(len(l)):\n                ans = ans ^ l[i]\n            print(ans)\n    elif k == 0:\n        print(ans)", "for _ in range(int(input())):\n    (n, k, a) = map(int, input().split())\n    l = list(map(int, input().split()))\n    s = input().strip()\n    if k == 0:\n        print(a)\n    else:\n        if s == 'AND':\n            for x in l:\n                a = a & x\n        elif s == 'OR':\n            for x in l:\n                a = a | x\n        elif s == 'XOR':\n            if k % 2 != 0:\n                for x in l:\n                    a = a ^ x\n        print(a)", "for _ in range(int(input())):\n    (n, k, a) = map(int, input().split())\n    l = list(map(int, input().split()))\n    s = input().strip()\n    if k == 0:\n        print(a)\n    else:\n        if s == 'AND':\n            for x in l:\n                a = a & x\n        elif s == 'OR':\n            for x in l:\n                a = a | x\n        elif s == 'XOR':\n            if k % 2 != 0:\n                for x in l:\n                    a = a ^ x\n        print(a)", "t = int(input())\nwhile t > 0:\n    (n, k, a) = map(int, input().split())\n    l = list(map(int, input().split()))\n    s = input().strip()\n    if k > 0:\n        if s == 'XOR':\n            if k % 2 != 0:\n                for i in l:\n                    a ^= i\n        elif s == 'AND':\n            for i in l:\n                a &= i\n        else:\n            for i in l:\n                a |= i\n    print(a)\n    t -= 1", "t = int(input())\nwhile t > 0:\n    (n, k, a) = map(int, input().split())\n    l = list(map(int, input().split()))\n    s = input().strip()\n    if k > 0:\n        if s == 'XOR':\n            if k % 2 != 0:\n                for i in range(n):\n                    a ^= l[i]\n        elif s == 'AND':\n            for i in range(n):\n                a &= l[i]\n        else:\n            for i in range(n):\n                a |= l[i]\n    print(a)\n    t -= 1", "testcases = int(input())\nwhile testcases != 0:\n    (N, K, answer) = list(map(int, input().split()))\n    inputArray = list(map(int, input().split()))\n    operat = input()\n    if K == 0:\n        print(answer)\n    elif K % 2 == 0 and operat[0] == 'X':\n        print(answer)\n    else:\n        if operat[0] == 'X':\n            for j in range(N):\n                answer ^= inputArray[j]\n        elif operat[0] == 'A':\n            for j in range(N):\n                answer &= inputArray[j]\n        else:\n            for j in range(N):\n                answer |= inputArray[j]\n        print(answer)\n    testcases -= 1", "from functools import reduce\nops = {'XOR': lambda x, y: x ^ y, 'AND': lambda x, y: x & y, 'OR': lambda x, y: x | y}\nfor _ in range(int(input())):\n    (n, k, ans) = map(int, input().split())\n    arr = list(map(int, input().split()))\n    op = input().strip()\n    tot = reduce(ops[op], arr)\n    if k == 0:\n        print(ans)\n        continue\n    if op == 'XOR':\n        if k % 2 == 0:\n            print(ans)\n        else:\n            print(ans ^ tot)\n    elif op == 'AND':\n        print(ans & tot)\n    else:\n        print(ans | tot)", "from functools import reduce\nops = {'XOR': lambda x, y: x ^ y, 'AND': lambda x, y: x & y, 'OR': lambda x, y: x | y}\nfor _ in range(int(input())):\n    (n, k, ans) = map(int, input().split())\n    arr = list(map(int, input().split()))\n    op = input().strip()\n    tot = reduce(ops[op], arr)\n    if k == 0:\n        print(ans)\n        continue\n    if op == 'XOR':\n        if k % 2 == 0:\n            print(ans)\n        else:\n            print(ans ^ tot)\n    elif op == 'AND':\n        print(ans & tot)\n    else:\n        print(ans | tot)", "def fnc(n, k, answer, s, a):\n    for i in range(k):\n        for j in range(n):\n            if s == 'XOR':\n                answer ^= a[j]\n            elif s == 'OR':\n                answer |= a[j]\n            else:\n                answer &= a[j]\n    return answer\nt = int(input())\nfor T in range(t):\n    (n, k, answer) = [int(x) for x in input().split()]\n    a = [int(x) for x in input().split()]\n    s = input().strip()\n    if s == 'XOR':\n        k %= 2\n    else:\n        k = min(k, 1)\n    print(fnc(n, k, answer, s, a))", "for _ in range(int(input())):\n    (N, K, Ans) = map(int, input().split())\n    A = list(map(int, input().split()))\n    oper = input()\n    Ans_0 = Ans\n    oper = oper.strip()\n    if K % 2 == 0:\n        m = 2\n    else:\n        m = 1\n    if oper == 'AND':\n        for j in range(m):\n            for i in range(N):\n                Ans = Ans & A[i]\n    elif oper == 'OR':\n        for j in range(m):\n            for i in range(N):\n                Ans = Ans | A[i]\n    elif oper == 'XOR':\n        for j in range(m):\n            for i in range(N):\n                Ans = Ans ^ A[i]\n    if K != 0:\n        print(Ans)\n    else:\n        print(Ans_0)", "def fnc(n, k, answer, s, a):\n    for i in range(k):\n        for j in range(n):\n            if s == 'XOR':\n                answer ^= a[j]\n            elif s == 'OR':\n                answer |= a[j]\n            else:\n                answer &= a[j]\n    return answer\nt = int(input())\nfor T in range(t):\n    (n, k, answer) = [int(x) for x in input().split()]\n    a = [int(x) for x in input().split()]\n    s = input().strip()\n    if s == 'XOR':\n        k %= 2\n    else:\n        k = min(k, 1)\n    print(fnc(n, k, answer, s, a))", "def fnc(n, k, answer, s, a):\n    for i in range(k):\n        for j in range(n):\n            if s == 'XOR':\n                answer ^= a[j]\n            elif s == 'OR':\n                answer |= a[j]\n            else:\n                answer &= a[j]\n    return answer\nt = int(input())\nfor T in range(t):\n    (n, k, answer) = [int(x) for x in input().split()]\n    a = [int(x) for x in input().split()]\n    s = input().strip()\n    if s == 'XOR':\n        k %= 2\n    else:\n        k = min(k, 1)\n    print(fnc(n, k, answer, s, a))", "def fnc(n, k, answer, s, a):\n    for i in range(k):\n        for j in range(n):\n            if s == 'XOR':\n                answer ^= a[j]\n            elif s == 'OR':\n                answer |= a[j]\n            else:\n                answer &= a[j]\n    return answer\nt = int(input())\nfor T in range(t):\n    (n, k, answer) = [int(x) for x in input().split()]\n    a = [int(x) for x in input().split()]\n    s = input().strip()\n    if s == 'XOR':\n        k %= 2\n    else:\n        k = min(k, 1)\n    print(fnc(n, k, answer, s, a))", "t = int(input())\nfor T in range(t):\n    (n, k, ans) = [int(x) for x in input().split()]\n    a = [int(x) for x in input().split()]\n    s = input().strip()\n    if k > 0:\n        if s == 'OR' or s == 'AND':\n            for i in a:\n                if s == 'OR':\n                    ans |= i\n                elif s == 'AND':\n                    ans &= i\n        elif k % 2 == 0:\n            pass\n        else:\n            for i in a:\n                ans ^= i\n    print(ans)", "testcases = int(input())\nwhile testcases != 0:\n    (N, K, answer) = list(map(int, input().split()))\n    inputArray = list(map(int, input().split()))\n    operat = input()\n    if K == 0:\n        print(answer)\n    elif K % 2 == 0 and operat[0] == 'X':\n        print(answer)\n    else:\n        if operat[0] == 'X':\n            for j in range(N):\n                answer ^= inputArray[j]\n        elif operat[0] == 'A':\n            for j in range(N):\n                answer &= inputArray[j]\n                if answer == 0:\n                    break\n        else:\n            for j in range(N):\n                answer |= inputArray[j]\n        print(answer)\n    testcases -= 1", "testcases = int(input())\nwhile testcases != 0:\n    (N, K, answer) = list(map(int, input().split()))\n    inputArray = list(map(int, input().split()))\n    operat = input()\n    if K == 0:\n        print(answer)\n    elif K % 2 == 0 and operat[0] == 'X':\n        print(answer)\n    else:\n        if operat[0] == 'X':\n            for j in range(N):\n                answer ^= inputArray[j]\n        elif operat[0] == 'A':\n            for j in range(N):\n                answer &= inputArray[j]\n        else:\n            for j in range(N):\n                answer |= inputArray[j]\n        print(answer)\n    testcases -= 1", "def f(N, K, A, op, arr):\n    if K == 0:\n        return A\n    orig = A\n    for j in range(N):\n        if op == 'XOR':\n            A = A ^ arr[j]\n        elif op == 'AND':\n            A = A & arr[j]\n        elif op == 'OR':\n            A = A | arr[j]\n    if op == 'XOR' and K % 2 == 0:\n        return orig\n    return A\nt = int(input())\nfor _ in range(t):\n    (N, K, A) = list(map(int, input().strip().split()))\n    arr = list(map(int, input().strip().split()))\n    op = input().strip()\n    ans = f(N, K, A, op, arr)\n    print(ans)", "def f(N, K, A, op, arr):\n    if K == 0:\n        return A\n    orig = A\n    for j in range(N):\n        if op == 'XOR':\n            A = A ^ arr[j]\n        elif op == 'AND':\n            A = A & arr[j]\n        elif op == 'OR':\n            A = A | arr[j]\n    if op == 'XOR' and K % 2 == 0:\n        return orig\n    return A\nt = int(input())\nfor _ in range(t):\n    (N, K, A) = list(map(int, input().strip().split()))\n    arr = list(map(int, input().strip().split()))\n    op = input().strip()\n    ans = f(N, K, A, op, arr)\n    print(ans)", "def f(N, K, A, op, arr):\n    if K == 0:\n        return A\n    orig = A\n    for j in range(N):\n        if op == 'XOR':\n            A = A ^ arr[j]\n        elif op == 'AND':\n            A = A & arr[j]\n        elif op == 'OR':\n            A = A | arr[j]\n    if op == 'XOR' and K % 2 == 0:\n        return orig\n    return A\nt = int(input())\nfor _ in range(t):\n    (N, K, A) = list(map(int, input().strip().split()))\n    arr = list(map(int, input().strip().split()))\n    op = input().strip()\n    ans = f(N, K, A, op, arr)\n    print(ans)", "def f(N, K, A, op, arr):\n    if K == 0:\n        return A\n    orig = A\n    for j in range(N):\n        if op == 'XOR':\n            A = A ^ arr[j]\n        elif op == 'AND':\n            A = A & arr[j]\n        elif op == 'OR':\n            A = A | arr[j]\n    if op == 'XOR' and K % 2 == 0:\n        return orig\n    return A\nTC = int(input())\nfor _ in range(TC):\n    (N, K, A) = list(map(int, input().strip().split()))\n    arr = list(map(int, input().strip().split()))\n    op = input().strip()\n    ans = f(N, K, A, op, arr)\n    print(ans)", "for _ in range(int(input())):\n    (n, k, a) = map(int, input().split())\n    l = list(map(int, input().split()))\n    s = input()\n    if k == 0:\n        print(a)\n    else:\n        if s[0] == 'X':\n            if k % 2 == 0:\n                pass\n            else:\n                for j in l:\n                    a = a ^ j\n        elif s[0] == 'A':\n            for j in l:\n                a = a & j\n        else:\n            for j in l:\n                a = a | j\n        print(a)", "for _ in range(int(input())):\n    (n, k, a) = map(int, input().split())\n    l = list(map(int, input().split()))\n    s = input()\n    if not k:\n        print(a)\n    else:\n        if s[0] == 'X':\n            if k % 2 == 0:\n                pass\n            else:\n                for j in l:\n                    a = a ^ j\n        elif s[0] == 'A':\n            for j in l:\n                a = a & j\n        else:\n            for j in l:\n                a = a | j\n        print(a)", "def F(n, k, answer, op, a):\n    if k == 0:\n        return answer\n    op_cal = a[0]\n    if op == 'XOR':\n        for i in a[1:]:\n            op_cal = op_cal ^ i\n        if k % 2 == 0:\n            op_cal = 0\n        answer = answer ^ op_cal\n    elif op == 'AND':\n        for i in a[1:]:\n            op_cal = op_cal & i\n        answer = answer & op_cal\n    elif op == 'OR':\n        for i in a[1:]:\n            op_cal = op_cal | i\n        answer = answer | op_cal\n    return answer\nt = int(input())\nfor i in range(t):\n    (n, k, answer) = list(map(int, input().split()))\n    a = list(map(int, input().split()))\n    op = input().strip()\n    print(F(n, k, answer, op, a))", "for _ in range(int(input())):\n    (n, k, a) = map(int, input().split())\n    arr = map(int, input().split())\n    oper = input()\n    if not k:\n        print(a)\n    else:\n        if oper[0] == 'X':\n            if k % 2 == 0:\n                pass\n            else:\n                for j in arr:\n                    a = a ^ j\n        elif oper[0] == 'A':\n            for j in arr:\n                a = a & j\n        else:\n            for j in arr:\n                a = a | j\n        print(a)", "T = int(input())\nfor t in range(T):\n    (n, k, ans) = map(int, input().split())\n    arr = list(map(int, input().split()))\n    op = input().strip()\n    if op == 'XOR':\n        k = k % 2\n        for j in range(k):\n            for i in range(n):\n                ans ^= arr[i]\n    else:\n        k = min(1, k)\n        for j in range(k):\n            for i in range(n):\n                if op == 'AND':\n                    ans &= arr[i]\n                else:\n                    ans |= arr[i]\n    print(ans)", "for _ in range(int(input())):\n    (n, k, a) = map(int, input().split())\n    arr = map(int, input().split())\n    oper = input()\n    if not k:\n        print(a)\n    else:\n        if oper[0] == 'X':\n            if k % 2 == 0:\n                pass\n            else:\n                for j in arr:\n                    a = a ^ j\n        elif oper[0] == 'A':\n            for j in arr:\n                a = a & j\n        else:\n            for j in arr:\n                a = a | j\n        print(a)", "for _ in range(int(input())):\n    (n, k, a) = map(int, input().split())\n    arr = map(int, input().split())\n    oper = input()\n    if not k:\n        print(a)\n    else:\n        if oper[0] == 'X':\n            if k % 2 == 0:\n                pass\n            else:\n                for j in arr:\n                    a = a ^ j\n        elif oper[0] == 'A':\n            for j in arr:\n                a = a & j\n        else:\n            for j in arr:\n                a = a | j\n        print(a)", "__author__ = 'Ronald Kaiser'\n__email__ = 'raios dot catodicos at gmail dot com'\nfrom operator import xor, and_, or_\nfrom functools import reduce\nf = {'XOR': xor, 'AND': and_, 'OR': or_}\nfor _ in range(int(input())):\n    (N, K, ans) = list(map(int, input().split()))\n    A = list(map(int, input().split()))\n    o = input().strip()\n    if K == 0 or (o == 'XOR' and K % 2 == 0):\n        print(ans)\n        continue\n    print(reduce(f[o], A, ans))", "__author__ = 'Ronald Kaiser'\n__email__ = 'raios dot catodicos at gmail dot com'\nfrom operator import xor, and_, or_\nf = {'XOR': xor, 'AND': and_, 'OR': or_}\nfor _ in range(int(input())):\n    (N, K, ans) = list(map(int, input().split()))\n    A = list(map(int, input().split()))\n    o = input().strip()\n    if K == 0 or (o == 'XOR' and K % 2 == 0):\n        print(ans)\n        continue\n    x = A[0]\n    for i in range(1, N):\n        x = f[o](x, A[i])\n    print(f[o](x, ans))", "__author__ = 'Ronald Kaiser'\n__email__ = 'raios dot catodicos at gmail dot com'\n(OR, XOR, AND) = ('OR', 'XOR', 'AND')\nf = {XOR: lambda x, y: x ^ y, AND: lambda x, y: x & y, OR: lambda x, y: x | y}\nfor _ in range(int(input())):\n    (N, K, ans) = list(map(int, input().split()))\n    A = list(map(int, input().split()))\n    o = input().strip()\n    if K == 0 or (o == XOR and K % 2 == 0):\n        print(ans)\n        continue\n    x = A[0]\n    for i in range(1, N):\n        x = f[o](x, A[i])\n    print(f[o](x, ans))", "for _ in range(int(input())):\n    (n, k, ans) = map(int, input().split())\n    a = map(int, input().split())\n    op = input().strip()\n    if k > 0:\n        if op == 'OR' or op == 'AND':\n            for i in a:\n                if op == 'OR':\n                    ans |= i\n                elif op == 'AND':\n                    ans &= i\n        elif k % 2 == 0:\n            pass\n        else:\n            for i in a:\n                ans ^= i\n    print(ans)", "def main():\n    from sys import stdin, stdout\n    from functools import reduce\n    from operator import xor, and_, or_\n    inp = stdin.readline\n    out = stdout.write\n    res = []\n    t = int(inp().strip())\n    for _ in range(t):\n        (n, k, ans) = map(int, inp().strip().split())\n        a = list(map(int, inp().strip().split()))\n        op = input()\n        if not k or (not k & 1 and op[0] == 'X'):\n            res.append(str(ans) + '\\n')\n        else:\n            for i in a:\n                if op[0] == 'X':\n                    ans ^= i\n                elif op[0] == 'A':\n                    ans &= i\n                else:\n                    ans |= i\n            res.append(str(ans) + '\\n')\n    for i in range(t):\n        out(res[i])\nmain()", "for _ in range(int(input())):\n    (n, k, a) = map(int, input().split())\n    arr = map(int, input().split())\n    oper = input()\n    if not k:\n        print(a)\n    else:\n        if oper[0] == 'X':\n            if k % 2 == 0:\n                pass\n            else:\n                for j in arr:\n                    a = a ^ j\n        elif oper[0] == 'A':\n            for j in arr:\n                a = a & j\n        else:\n            for j in arr:\n                a = a | j\n        print(a)", "for _ in range(int(input())):\n    (n, k, a) = map(int, input().split())\n    arr = map(int, input().split())\n    oper = input()\n    if not k:\n        print(a)\n    else:\n        if oper[0] == 'X':\n            if k % 2 == 0:\n                pass\n            else:\n                for j in arr:\n                    a = a ^ j\n        elif oper[0] == 'A':\n            for j in arr:\n                a = a & j\n        else:\n            for j in arr:\n                a = a | j\n        print(a)", "for _ in range(int(input())):\n    (_, k, ans) = map(int, input().split())\n    a = map(int, input().split())\n    op = input()\n    if not k or (not k & 1 and op[0] == 'X'):\n        print(ans)\n    else:\n        for n in a:\n            if op[0] == 'X':\n                ans ^= n\n            elif op[0] == 'O':\n                ans |= n\n            else:\n                ans &= n\n        print(ans)", "from functools import reduce\nt = int(input())\nwhile t:\n    (n, k, ans) = map(int, input().strip().split())\n    a = list(map(int, input().strip().split()))\n    operator = input().strip()\n    if operator == 'XOR':\n        m = reduce(lambda c, d: c ^ d, a)\n        if k > 0:\n            if k % 2 == 0:\n                ans = ans ^ 0\n            else:\n                ans = ans ^ m\n    elif operator == 'AND':\n        m = reduce(lambda c, d: c & d, a)\n        if k > 0:\n            ans = ans & m\n    elif operator == 'OR':\n        m = reduce(lambda c, d: c | d, a)\n        if k > 0:\n            ans = ans | m\n    print(ans)\n    t -= 1", "t = int(input())\nwhile t:\n    (n, k, ans) = map(int, input().strip().split())\n    a = list(map(int, input().strip().split()))\n    operator = input().strip()\n    if operator == 'XOR':\n        if k > 0:\n            if k % 2 == 0:\n                ans = ans ^ 0\n            else:\n                for j in range(n):\n                    ans = ans ^ a[j]\n    elif operator == 'AND':\n        if k > 0:\n            for j in range(n):\n                ans = ans & a[j]\n    elif operator == 'OR':\n        if k > 0:\n            for j in range(n):\n                ans = ans | a[j]\n    print(ans)\n    t -= 1", "def f(N, K, ans, A, str1):\n    if str1 == 'XOR':\n        if K > 0:\n            if K % 2 == 1:\n                for j in range(N):\n                    ans = ans ^ A[j]\n    elif str1 == 'AND':\n        if K > 0:\n            for j in range(N):\n                ans = ans & A[j]\n    elif K > 0:\n        for j in range(N):\n            ans = ans | A[j]\n    return ans\nfor _ in range(int(input())):\n    (n, k, a) = map(int, input().strip().split())\n    A = list(map(int, input().strip().split()))\n    s = input().strip()\n    print(f(n, k, a, A, s))", "for t in range(int(input())):\n    (n, k, ans) = input().strip().split()\n    n = int(n)\n    k = int(k)\n    ans = int(ans)\n    a = list(map(int, input().strip().split()))\n    op = input().strip()\n    if k != 0:\n        if op == 'XOR':\n            if k % 2 == 0:\n                print(ans)\n            else:\n                for i in a:\n                    ans = ans ^ i\n                print(ans)\n        elif op == 'OR':\n            for i in a:\n                ans = ans | i\n            print(ans)\n        elif op == 'AND':\n            for i in a:\n                ans = ans & i\n            print(ans)\n    else:\n        print(ans)", "for t in range(int(input())):\n    (n, k, ans) = input().strip().split()\n    n = int(n)\n    k = int(k)\n    ans = int(ans)\n    a = list(map(int, input().strip().split()))\n    op = input().strip()\n    if k != 0:\n        if op == 'XOR':\n            if k % 2 == 0:\n                print(ans)\n            else:\n                for i in a:\n                    ans = ans ^ i\n                print(ans)\n        elif op == 'OR':\n            for i in a:\n                ans = ans | i\n            print(ans)\n        elif op == 'AND':\n            for i in a:\n                ans = ans & i\n            print(ans)\n    else:\n        print(ans)", "d = {'XOR': '^', 'OR': '|', 'AND': '&'}\nt = int(input())\nwhile t:\n    t -= 1\n    (n, k, ans) = list(map(int, input().strip().split()))\n    a = list(map(int, input().strip().split()))\n    operator = d[input().strip()]\n    tempans = a[0]\n    for j in range(1, n):\n        tempans = eval('tempans' + operator + 'a[j]')\n    if k == 0:\n        print(ans)\n    elif operator != '^' or k % 2:\n        print(eval('tempans' + operator + 'ans'))\n    else:\n        print(ans)", "for ijk in range(0, int(input())):\n    (n, k, ans) = input().strip().split()\n    n = int(n)\n    k = int(k)\n    ans = int(ans)\n    a = list(map(int, input().strip().split()))\n    op = input().strip()\n    if k != 0:\n        if op == 'XOR':\n            if k % 2 == 0:\n                print(ans)\n            else:\n                for i in a:\n                    ans = ans ^ i\n                print(ans)\n        elif op == 'OR':\n            for i in a:\n                ans = ans | i\n            print(ans)\n        elif op == 'AND':\n            for i in a:\n                ans = ans & i\n            print(ans)\n    else:\n        print(ans)", "from sys import stdin, stdout\n\ndef sin():\n    return stdin.readline().rstrip()\n\ndef listInput():\n    return list(map(int, sin().split()))\n\ndef printBS(li):\n    if not li:\n        return\n    for i in range(len(li) - 1):\n        stdout.write('%d ' % li[i])\n    stdout.write('%d\\n' % li[-1])\nt = int(sin())\nfor _ in range(t):\n    (n, k, ans) = listInput()\n    li = listInput()\n    op = sin()\n    if op == 'AND':\n        if k != 0:\n            for i in li:\n                ans = ans & i\n    elif op == 'OR':\n        if k != 0:\n            for i in li:\n                ans = ans | i\n    elif k % 2 == 1:\n        for i in li:\n            ans = ans ^ i\n    print(ans)", "test = int(input())\nfor t in range(test):\n    (a, b, answer) = map(int, input().strip().split())\n    seanswerond = list(map(int, input().strip().split()))\n    operation = input().strip()\n    if b == 0 or (b % 2 == 0 and operation == 'XOR'):\n        print(answer)\n    else:\n        for i in seanswerond:\n            if operation == 'XOR':\n                answer = answer ^ i\n            elif operation == 'OR':\n                answer = answer | i\n            else:\n                answer = answer & i\n        print(answer)", "test = int(input())\nfor t in range(test):\n    (a, b, answer) = map(int, input().strip().split())\n    seanswerond = list(map(int, input().strip().split()))\n    operation = input().strip()\n    if b == 0 or (b % 2 == 0 and operation == 'XOR'):\n        print(answer)\n    else:\n        for i in seanswerond:\n            if operation == 'XOR':\n                answer = answer ^ i\n            elif operation == 'OR':\n                answer = answer | i\n            else:\n                answer = answer & i\n        print(answer)", "import operator\n\ndef F(K, answer, op, A):\n    for k in range(K):\n        for a in A:\n            answer = op(answer, a)\n    return answer\nfor t in range(int(input())):\n    (N, K, answer) = map(int, input().split())\n    A = list(map(int, input().split()))\n    operator_name = input().strip()\n    fun = None\n    if operator_name == 'AND':\n        fun = operator.and_\n        K = min(K, 1)\n    elif operator_name == 'OR':\n        fun = operator.or_\n        K = min(K, 1)\n    elif operator_name == 'XOR':\n        fun = operator.xor\n        K %= 2\n    print(F(K, answer, fun, A))", "import operator\n\ndef F(K, answer, op, A):\n    for k in range(K):\n        for a in A:\n            answer = op(answer, a)\n    return answer\nT = int(input())\nfor t in range(T):\n    (N, K, answer) = map(int, input().split())\n    A = list(map(int, input().split()))\n    operator_name = input().strip()\n    fun = None\n    if operator_name == 'AND':\n        fun = operator.and_\n        K = min(K, 1)\n    elif operator_name == 'OR':\n        fun = operator.or_\n        K = min(K, 1)\n    elif operator_name == 'XOR':\n        fun = operator.xor\n        K %= 2\n    print(F(K, answer, fun, A))", "for tc in range(int(input().strip())):\n    (N, K, Ans) = map(int, input().strip().split())\n    A = [int(x) for x in input().strip().split()]\n    op = input().strip()\n    for i in A:\n        if K > 0:\n            if op == 'AND':\n                Ans = Ans & i\n            elif op == 'OR':\n                Ans = Ans | i\n            elif K & 1 == 1:\n                Ans = Ans ^ i\n    print(Ans)", "for t in range(0, int(input())):\n    (n, k, ans) = map(int, input().strip().split())\n    arr = list(map(int, input().strip().split()))\n    ops = input().strip()\n    if k == 0 or (k % 2 == 0 and ops == 'XOR'):\n        print(ans)\n    else:\n        for i in arr:\n            if ops == 'XOR':\n                ans ^= i\n            elif ops == 'OR':\n                ans |= i\n            else:\n                ans &= i\n        print(ans)", "for t in range(0, int(input())):\n    (n, k, ans) = map(int, input().strip().split())\n    arr = list(map(int, input().strip().split()))\n    ops = input().strip()\n    if k == 0 or (k % 2 == 0 and ops == 'XOR'):\n        print(ans)\n    else:\n        for i in arr:\n            if ops == 'XOR':\n                ans ^= i\n            elif ops == 'OR':\n                ans |= i\n            else:\n                ans &= i\n        print(ans)", "t = int(input())\nfor z in range(t):\n    (N, K, Answer) = map(int, input().split())\n    A = map(int, input().split())\n    operator = input().strip()\n    if K:\n        for a in A:\n            if operator == 'OR':\n                Answer = Answer | a\n            elif operator == 'XOR' and K % 2:\n                Answer = Answer ^ a\n            elif operator == 'AND':\n                Answer = Answer & a\n    print(Answer)", "T = int(input())\nfor t in range(T):\n    (N, K, Answer) = map(int, input().split())\n    A = map(int, input().split())\n    Operator = input().strip()\n    if K:\n        for a in A:\n            if Operator == 'AND':\n                Answer &= a\n            if Operator == 'XOR' and K % 2:\n                Answer ^= a\n            if Operator == 'OR':\n                Answer |= a\n    print(Answer)", "__author__ = 'star-lord'\n\ndef calc(n, k, ans, op, array):\n    if k == 0 or (k % 2 == 0 and op == 'XOR'):\n        return ans\n    else:\n        for element in array:\n            if op == 'XOR':\n                ans ^= element\n            elif op == 'AND':\n                ans &= element\n            else:\n                ans |= element\n        return ans\ntestCase = int(input())\nwhile testCase > 0:\n    (n, k, ans) = map(int, input().strip().split())\n    array = map(int, input().strip().split())\n    operator = input().strip()\n    print(calc(n, k, ans, operator, array))\n    testCase -= 1", "def main():\n    import operator\n\n    def g(N, K, A, operation, answer):\n        if K:\n            operation = operation.rstrip()\n            if operation == 'XOR':\n                K = K % 2\n                operation = operation = operator.xor\n            elif operation == 'OR':\n                operation = operator.or_\n                K = 1\n            else:\n                operation = operator.and_\n                K = 1\n            for i in range(K):\n                for j in A:\n                    answer = operation(answer, j)\n        return answer\n    for T in range(int(input())):\n        (N, K, answer) = map(int, input().split())\n        A = map(int, input().split())\n        operation = input()\n        print(g(N, K, A, operation, answer))\nmain()", "t = int(input())\nfor i in range(t):\n    (x, k, answer) = map(int, input().split())\n    a = map(int, input().split())\n    op = input().strip()\n    if k:\n        for i in a:\n            if op == 'AND':\n                answer &= i\n            if op == 'OR':\n                answer |= i\n            if op == 'XOR' and k % 2:\n                answer ^= i\n    print(answer)", "t = int(input())\nfor i in range(t):\n    (x, k, answer) = map(int, input().split())\n    a = map(int, input().split())\n    op = input().strip()\n    if k:\n        for i in a:\n            if op == 'AND':\n                answer &= i\n            if op == 'OR':\n                answer |= i\n            if op == 'XOR' and k % 2:\n                answer ^= i\n    print(answer)", "import sys\nT = int(sys.stdin.readline())\nAns = ''\nfor t in range(T):\n    (N, k, Answer) = map(int, sys.stdin.readline().split())\n    A = list(map(int, sys.stdin.readline().split()))\n    Q = sys.stdin.readline().split()\n    for item in Q:\n        if item[0] == 'A' or item[0] == 'O' or item[0] == 'X':\n            op = item\n            break\n    if k == 0:\n        Ans += str(Answer) + '\\n'\n        continue\n    key = A[0]\n    if op[0] == 'X':\n        for i in range(1, N):\n            key = key ^ A[i]\n    elif op[0] == 'O':\n        for i in range(1, N):\n            key = key | A[i]\n    else:\n        for i in range(1, N):\n            key = key & A[i]\n    if op[0] == 'A':\n        Ans += str(Answer & key) + '\\n'\n    elif op[0] == 'O':\n        Ans += str(Answer | key) + '\\n'\n    elif k % 2 == 1:\n        Ans += str(Answer ^ key) + '\\n'\n    else:\n        Ans += str(Answer) + '\\n'\nsys.stdout.write(Ans)", "T = int(input())\nfor t in range(T):\n    (N, K, Answer) = map(int, input().split())\n    A = map(int, input().split())\n    Operator = input().rstrip()\n    if K:\n        for a in A:\n            if Operator == 'AND':\n                Answer &= a\n            if Operator == 'XOR' and K % 2:\n                Answer ^= a\n            if Operator == 'OR':\n                Answer |= a\n    print(Answer)", "T = int(input())\nfor t in range(T):\n    (N, K, Answer) = map(int, input().split())\n    A = map(int, input().split())\n    Operator = input().strip()\n    if K:\n        for a in A:\n            if Operator == 'AND':\n                Answer &= a\n            if Operator == 'XOR' and K % 2:\n                Answer ^= a\n            if Operator == 'OR':\n                Answer |= a\n    print(Answer)", "T = int(input())\nfor t in range(T):\n    (N, K, Answer) = map(int, input().split())\n    A = map(int, input().strip().split())\n    Operator = input().strip()\n    if K:\n        for a in A:\n            if Operator == 'AND':\n                Answer &= a\n            if Operator == 'XOR' and K % 2:\n                Answer ^= a\n            if Operator == 'OR':\n                Answer |= a\n    print(Answer)", "T = int(input().strip())\nfor t in range(T):\n    (N, K, Answer) = map(int, input().strip().split())\n    A = map(int, input().strip().split())\n    Operator = input().strip()\n    if K:\n        for a in A:\n            if Operator == 'AND':\n                Answer &= a\n            if Operator == 'XOR' and K % 2:\n                Answer ^= a\n            if Operator == 'OR':\n                Answer |= a\n    print(Answer)"]