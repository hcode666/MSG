["import sys\nimport numpy as np\nMAX = 1000005\na = []\nx = []\nl = np.zeros(MAX)\nr = np.zeros(MAX)\ndp = np.zeros(MAX)\nlast = []\nn = int(sys.stdin.readline())\nh = sys.stdin.readline().split()\nfor i in range(1, n + 1):\n    p = int(h[i - 1])\n    if l[p] == 0:\n        l[p] = i\n    r[p] = i\nfor i in range(1, 500001):\n    if l[i] and r[i]:\n        a.append((l[i], r[i], i))\na.sort()\na.append((n + 7, n + 7, i))\nxx = a[0][0]\nyy = a[0][1]\nii = a[0][2]\nx.append(0)\nfor i in range(1, len(a)):\n    if a[i][0] < yy:\n        ii ^= a[i][2]\n        if a[i][1] > yy:\n            yy = a[i][1]\n    else:\n        x.append(ii)\n        xx = a[i][0]\n        yy = a[i][1]\n        ii = a[i][2]\nn = len(x)\ncxor = x[0]\nfor i in range(MAX):\n    last.append(-1)\nlast[0] = 0\nfor i in range(1, n):\n    cxor ^= x[i]\n    if last[cxor] != -1:\n        dp[i] = max(dp[i - 1], 1 + dp[last[cxor]])\n    else:\n        dp[i] = dp[i - 1]\n    last[cxor] = i\nprint(int(dp[n - 1]))", "import sys\nimport numpy as np\nMAX = 1000005\na = []\nx = []\nl = np.zeros(MAX)\nr = np.zeros(MAX)\ndp = np.zeros(MAX)\nlast = []\nn = int(sys.stdin.readline())\nh = sys.stdin.readline().split()\nfor i in range(1, n + 1):\n    p = int(h[i - 1])\n    if l[p] == 0:\n        l[p] = i\n    r[p] = i\nfor i in range(1, 500001):\n    if l[i] and r[i]:\n        a.append((l[i], r[i], i))\na.sort()\na.append((n + 7, n + 7, i))\nxx = a[0][0]\nyy = a[0][1]\nii = a[0][2]\nx.append(0)\nfor i in range(1, len(a)):\n    if a[i][0] < yy:\n        ii ^= a[i][2]\n        if a[i][1] > yy:\n            yy = a[i][1]\n    else:\n        x.append(ii)\n        xx = a[i][0]\n        yy = a[i][1]\n        ii = a[i][2]\nn = len(x)\ncxor = x[0]\nfor i in range(MAX):\n    last.append(-1)\nlast[0] = 0\nfor i in range(1, n):\n    cxor ^= x[i]\n    if last[cxor] != -1:\n        dp[i] = max(dp[i - 1], 1 + dp[last[cxor]])\n    else:\n        dp[i] = dp[i - 1]\n    last[cxor] = i\nprint(int(dp[n - 1]))"]