["import sys\nfor _ in range(int(sys.stdin.readline())):\n    (n, m) = list(map(int, sys.stdin.readline().split()))\n    A = []\n    B = []\n    for i in range(n):\n        A.append(list(map(int, sys.stdin.readline().split())))\n    for i in range(n):\n        B.append(list(map(int, sys.stdin.readline().split())))\n    A_even = []\n    B_even = []\n    A_odd = []\n    B_odd = []\n    if n == 1 or m == 1:\n        if A == B:\n            sys.stdout.write('YES\\n')\n        else:\n            sys.stdout.write('NO\\n')\n        continue\n    for i in range(n):\n        for j in range(m):\n            if (i + j) % 2 == 0:\n                A_even.append(A[i][j])\n                B_even.append(B[i][j])\n            else:\n                A_odd.append(A[i][j])\n                B_odd.append(B[i][j])\n    A_even.sort()\n    A_odd.sort()\n    B_even.sort()\n    B_odd.sort()\n    if A_even == B_even and A_odd == B_odd:\n        sys.stdout.write('YES\\n')\n    else:\n        sys.stdout.write('NO\\n')", "import sys\nfor _ in range(int(sys.stdin.readline())):\n    (n, m) = list(map(int, sys.stdin.readline().split()))\n    A = []\n    B = []\n    for i in range(n):\n        A.append(list(map(int, sys.stdin.readline().split())))\n    for i in range(n):\n        B.append(list(map(int, sys.stdin.readline().split())))\n    A_even = []\n    B_even = []\n    A_odd = []\n    B_odd = []\n    if n == 1 or m == 1:\n        if A == B:\n            sys.stdout.write('YES\\n')\n        else:\n            sys.stdout.write('NO\\n')\n        continue\n    for i in range(n):\n        for j in range(m):\n            if (i + j) % 2 == 0:\n                A_even.append(A[i][j])\n                B_even.append(B[i][j])\n            else:\n                A_odd.append(A[i][j])\n                B_odd.append(B[i][j])\n    A_even.sort()\n    A_odd.sort()\n    B_even.sort()\n    B_odd.sort()\n    if A_even == B_even and A_odd == B_odd:\n        sys.stdout.write('YES\\n')\n    else:\n        sys.stdout.write('NO\\n')", "for i in range(int(input())):\n    (n, m) = map(int, input().split())\n    a = []\n    b = []\n    for i in range(n):\n        a.append(list(map(int, input().split())))\n    for i in range(n):\n        b.append(list(map(int, input().split())))\n    if m == 1 or n == 1:\n        if a == b:\n            print('YES')\n        else:\n            print('NO')\n    else:\n        a1 = []\n        a2 = []\n        b1 = []\n        b2 = []\n        for i in range(n):\n            for j in range(m):\n                if (i + j) % 2 == 0:\n                    a1.append(a[i][j])\n                    b1.append(b[i][j])\n                else:\n                    a2.append(a[i][j])\n                    b2.append(b[i][j])\n        a1.sort()\n        b1.sort()\n        a2.sort()\n        b2.sort()\n        if a1 == b1 and a2 == b2:\n            print('YES')\n        else:\n            print('NO')", "for i in range(int(input())):\n    (n, m) = map(int, input().split())\n    a = []\n    b = []\n    for i in range(n):\n        a.append(list(map(int, input().split())))\n    for i in range(n):\n        b.append(list(map(int, input().split())))\n    if m == 1 or n == 1:\n        if a == b:\n            print('YES')\n        else:\n            print('NO')\n    else:\n        a1 = []\n        a2 = []\n        b1 = []\n        b2 = []\n        for i in range(n):\n            for j in range(m):\n                if (i + j) % 2 == 0:\n                    a1.append(a[i][j])\n                    b1.append(b[i][j])\n                else:\n                    a2.append(a[i][j])\n                    b2.append(b[i][j])\n        a1.sort()\n        b1.sort()\n        a2.sort()\n        b2.sort()\n        if a1 == b1 and a2 == b2:\n            print('YES')\n        else:\n            print('NO')", "t = int(input())\nfor i in range(t):\n    (n, m) = [int(x) for x in input().split()]\n    t1 = []\n    t2 = []\n    for k in range(n):\n        temp = [int(x) for x in input().split()]\n        t1.append(temp)\n    for k in range(n):\n        temp = [int(x) for x in input().split()]\n        t2.append(temp)\n    if n == 1 or m == 1:\n        if t1 == t2:\n            print('YES')\n        else:\n            print('NO')\n    else:\n        tempa1 = []\n        tempa2 = []\n        tempb1 = []\n        tempb2 = []\n        for i in range(n):\n            for j in range(m):\n                if (i + j) % 2 == 0:\n                    tempa1.append(t1[i][j])\n                    tempb1.append(t2[i][j])\n                else:\n                    tempa2.append(t1[i][j])\n                    tempb2.append(t2[i][j])\n        tempa1.sort()\n        tempa2.sort()\n        tempb1.sort()\n        tempb2.sort()\n        if tempa1 == tempb1 and tempa2 == tempb2:\n            print('YES')\n        else:\n            print('NO')", "test_cases = int(input())\nfor _ in range(test_cases):\n    (rows, columns) = list(map(int, input().split()))\n    a = [list(map(int, input().split())) for _ in range(rows)]\n    b = [list(map(int, input().split())) for _ in range(rows)]\n    if rows == 1 or columns == 1:\n        if a == b:\n            print('YES')\n        else:\n            print('NO')\n    else:\n        white_a = list()\n        black_a = list()\n        white_b = list()\n        black_b = list()\n        for i in range(rows):\n            for j in range(columns):\n                if (i + j) % 2 == 0:\n                    white_a.append(a[i][j])\n                    white_b.append(b[i][j])\n                else:\n                    black_a.append(a[i][j])\n                    black_b.append(b[i][j])\n        if set(white_a) == set(white_b) and set(black_a) == set(black_b):\n            print('YES')\n        else:\n            print('NO')", "test_cases = int(input())\nfor _ in range(test_cases):\n    (rows, columns) = list(map(int, input().split()))\n    a = [list(map(int, input().split())) for _ in range(rows)]\n    b = [list(map(int, input().split())) for _ in range(rows)]\n    if rows == 1 or columns == 1:\n        if a == b:\n            print('YES')\n        else:\n            print('NO')\n    else:\n        white_a = list()\n        black_a = list()\n        white_b = list()\n        black_b = list()\n        for i in range(rows):\n            for j in range(columns):\n                if (i + j) % 2 == 0:\n                    white_a.append(a[i][j])\n                    white_b.append(b[i][j])\n                else:\n                    black_a.append(a[i][j])\n                    black_b.append(b[i][j])\n        if set(white_a) == set(white_b) and set(black_a) == set(black_b):\n            print('YES')\n        else:\n            print('NO')", "for _ in range(int(input())):\n    (n, m) = map(int, input().split())\n    (al, bl) = ([], [])\n    for a in range(n):\n        l = list(map(int, input().split()))\n        al.append(l)\n    for a in range(n):\n        l = list(map(int, input().split()))\n        bl.append(l)\n    (ae, ao, be, bo) = ([], [], [], [])\n    if n == 1 or m == 1:\n        if al == bl:\n            print('YES')\n        else:\n            print('NO')\n    else:\n        (ao, ae, bo, be) = ([], [], [], [])\n        for i in range(n):\n            for j in range(m):\n                if i + j & 1 == 0:\n                    ae.append(al[i][j])\n                    be.append(bl[i][j])\n                else:\n                    ao.append(al[i][j])\n                    bo.append(bl[i][j])\n        ae.sort()\n        ao.sort()\n        be.sort()\n        bo.sort()\n        if ae == be and ao == bo:\n            print('YES')\n        else:\n            print('NO')", "n = int(input())\nwhile n > 0:\n    n = n - 1\n    A = input()\n    c = []\n    d = []\n    e = []\n    f = []\n    g = []\n    h = []\n    z = 0\n    y = 0\n    A = A.split(' ')\n    A = list(map(lambda x: int(x), A))\n    a = A[0]\n    b = A[1]\n    count = 0\n    found = 0\n    for i in range(0, a):\n        x = input()\n        x = x.split()\n        x = list(map(lambda x: int(x), x))\n        c.append(x)\n    for i in range(0, a):\n        x = input()\n        x = x.split()\n        x = list(map(lambda x: int(x), x))\n        d.append(x)\n    if a == 1 or b == 1:\n        if c == d:\n            print('YES')\n        else:\n            print('NO')\n        continue\n    for i in range(0, a):\n        for j in range(0, b, 2):\n            if i % 2 == 0:\n                e.append(c[i][j])\n                g.append(d[i][j])\n                if j + 1 < b:\n                    f.append(c[i][j + 1])\n                    h.append(d[i][j + 1])\n            else:\n                if j + 1 < b:\n                    e.append(c[i][j + 1])\n                    g.append(d[i][j + 1])\n                f.append(c[i][j])\n                h.append(d[i][j])\n    e.sort()\n    f.sort()\n    g.sort()\n    h.sort()\n    for i in range(0, len(e)):\n        if e[i] == g[i]:\n            count = count + 1\n    for i in range(0, len(f)):\n        if f[i] == h[i]:\n            found = found + 1\n    if count == len(e) and found == len(f):\n        print('YES')\n    else:\n        print('NO')", "from math import *\nfrom bisect import *\nt = int(input())\nfor _ in range(t):\n    (memo_1, memo_0) = ({}, {})\n    (n, m) = map(int, input().split())\n    if n == 1 or m == 1:\n        if n == 1:\n            a = input()\n            b = input()\n        if m == 1:\n            a = [int(input()) for i in range(n)]\n            b = [int(input()) for i in range(n)]\n        print('YES' if a == b else 'NO')\n        continue\n    for i in range(n):\n        for (j, v) in enumerate(list(map(int, input().split()))):\n            if (i + j) % 2:\n                memo_1[v] = memo_1.get(v, 0) + 1\n            else:\n                memo_0[v] = memo_0.get(v, 0) + 1\n    for i in range(n):\n        for (j, v) in enumerate(list(map(int, input().split()))):\n            if (i + j) % 2:\n                memo_1[v] = memo_1.get(v, 0) - 1\n            else:\n                memo_0[v] = memo_0.get(v, 0) - 1\n    count = 0\n    for i in memo_0.values():\n        count += abs(i)\n    for i in memo_1.values():\n        count += abs(i)\n    if count == 0:\n        print('YES')\n    else:\n        print('NO')", "for _ in range(int(input())):\n    (N, M) = map(int, input().split())\n    if min(N, M) > 1:\n        A = {}\n        for i in range(N):\n            tmp = list(map(int, input().split()))\n            for j in range(M):\n                A[tmp[j]] = A.get(tmp[j], 0) + (i + j) % 2\n        B = {}\n        for i in range(N):\n            tmp = list(map(int, input().split()))\n            for j in range(M):\n                B[tmp[j]] = B.get(tmp[j], 0) + (i + j) % 2\n        print('YES' if A == B else 'NO')\n    else:\n        A = []\n        for i in range(N):\n            A += list(map(int, input().split()))\n        B = []\n        for i in range(N):\n            B += list(map(int, input().split()))\n        print('YES' if A == B else 'NO')", "for _ in range(int(input())):\n    (n, m) = list(map(int, input().split()))\n    A = []\n    B = []\n    for i in range(n):\n        A.append(list(map(int, input().split())))\n    for i in range(n):\n        B.append(list(map(int, input().split())))\n    A_even = []\n    B_even = []\n    A_odd = []\n    B_odd = []\n    if n == 1 or m == 1:\n        if A == B:\n            print('YES')\n        else:\n            print('NO')\n        continue\n    for i in range(n):\n        for j in range(m):\n            if (i + j) % 2 == 0:\n                A_even.append(A[i][j])\n                B_even.append(B[i][j])\n            else:\n                A_odd.append(A[i][j])\n                B_odd.append(B[i][j])\n    A_even.sort()\n    A_odd.sort()\n    B_even.sort()\n    B_odd.sort()\n    if A_even == B_even and A_odd == B_odd:\n        print('YES')\n    else:\n        print('NO')", "t = int(input())\nfor i in range(t):\n    (n, m) = [int(x) for x in input().split()]\n    t1 = []\n    t2 = []\n    for k in range(n):\n        temp = [int(x) for x in input().split()]\n        t1.append(temp)\n    for k in range(n):\n        temp = [int(x) for x in input().split()]\n        t2.append(temp)\n    if n == 1 or m == 1:\n        if t1 == t2:\n            print('YES')\n        else:\n            print('NO')\n    else:\n        tempa1 = []\n        tempa2 = []\n        tempb1 = []\n        tempb2 = []\n        for i in range(n):\n            for j in range(m):\n                if (i + j) % 2 == 0:\n                    tempa1.append(t1[i][j])\n                    tempb1.append(t2[i][j])\n                else:\n                    tempa2.append(t1[i][j])\n                    tempb2.append(t2[i][j])\n        tempa1.sort()\n        tempa2.sort()\n        tempb1.sort()\n        tempb2.sort()\n        if tempa1 == tempb1 and tempa2 == tempb2:\n            print('YES')\n        else:\n            print('NO')", "t = int(input())\nfor i in range(t):\n    (n, m) = [int(x) for x in input().split()]\n    t1 = []\n    t2 = []\n    for k in range(n):\n        temp = [int(x) for x in input().split()]\n        t1.append(temp)\n    for k in range(n):\n        temp = [int(x) for x in input().split()]\n        t2.append(temp)\n    if n == 1 or m == 1:\n        if t1 == t2:\n            print('YES')\n        else:\n            print('NO')\n    else:\n        tempa1 = []\n        tempa2 = []\n        tempb1 = []\n        tempb2 = []\n        for i in range(n):\n            for j in range(m):\n                if (i + j) % 2 == 0:\n                    tempa1.append(t1[i][j])\n                    tempb1.append(t2[i][j])\n                else:\n                    tempa2.append(t1[i][j])\n                    tempb2.append(t2[i][j])\n        tempa1.sort()\n        tempa2.sort()\n        tempb1.sort()\n        tempb2.sort()\n        if tempa1 == tempb1 and tempa2 == tempb2:\n            print('YES')\n        else:\n            print('NO')", "t = int(input())\nfor i in range(t):\n    (n, m) = [int(x) for x in input().split()]\n    t1 = []\n    t2 = []\n    for k in range(n):\n        temp = [int(x) for x in input().split()]\n        t1.append(temp)\n    for k in range(n):\n        temp = [int(x) for x in input().split()]\n        t2.append(temp)\n    if n == 1 or m == 1:\n        if t1 == t2:\n            print('YES')\n        else:\n            print('NO')\n    else:\n        tempa1 = []\n        tempa2 = []\n        tempb1 = []\n        tempb2 = []\n        for i in range(n):\n            for j in range(m):\n                if (i + j) % 2 == 0:\n                    tempa1.append(t1[i][j])\n                    tempb1.append(t2[i][j])\n                else:\n                    tempa2.append(t1[i][j])\n                    tempb2.append(t2[i][j])\n        tempa1.sort()\n        tempa2.sort()\n        tempb1.sort()\n        tempb2.sort()\n        if tempa1 == tempb1 and tempa2 == tempb2:\n            print('YES')\n        else:\n            print('NO')", "for _ in range(int(input())):\n    (n, m) = map(int, input().split())\n    (list1, list2) = ([], [])\n    for i in range(n):\n        list1.append(list(map(int, input().split())))\n    for i in range(n):\n        list2.append(list(map(int, input().split())))\n    if n == 1 or m == 1:\n        if list1 == list2:\n            print('YES')\n        else:\n            print('NO')\n        continue\n    (list3, list4, list5, list6) = ([], [], [], [])\n    for i in range(n):\n        for j in range(m):\n            if (i + j) % 2 == 0:\n                list3.append(list1[i][j])\n                list5.append(list2[i][j])\n            else:\n                list4.append(list1[i][j])\n                list6.append(list2[i][j])\n    list3.sort()\n    list4.sort()\n    list5.sort()\n    list6.sort()\n    if list3 == list5 and list4 == list6:\n        print('YES')\n    else:\n        print('NO')", "try:\n    for _ in range(int(input())):\n\n        def f(n, m):\n            lst1 = []\n            lst2 = []\n            lst3 = []\n            lst4 = []\n            lst5 = []\n            lst6 = []\n            for i in range(n):\n                lst1.append(list(map(int, input().split())))\n            for i in range(n):\n                lst2.append(list(map(int, input().split())))\n            if n == 1:\n                if m > 1:\n                    if lst1 == lst2:\n                        return 'YES'\n                    else:\n                        return 'NO'\n            if m == 1:\n                if n > 1:\n                    for i in range(n):\n                        for j in range(m):\n                            if lst1[i][j] != lst2[i][j]:\n                                return 'NO'\n                    return 'YES'\n            for i in range(0, n, 2):\n                for j in range(0, m, 2):\n                    lst3.append(lst1[i][j])\n                    lst5.append(lst2[i][j])\n            for i in range(1, n, 2):\n                for j in range(1, m, 2):\n                    lst3.append(lst1[i][j])\n                    lst5.append(lst2[i][j])\n            for i in range(0, n, 2):\n                for j in range(1, m, 2):\n                    lst4.append(lst1[i][j])\n                    lst6.append(lst2[i][j])\n            for i in range(1, n, 2):\n                for j in range(0, m, 2):\n                    lst4.append(lst1[i][j])\n                    lst6.append(lst2[i][j])\n            if sorted(lst3) == sorted(lst5) and sorted(lst4) == sorted(lst6):\n                return 'YES'\n            else:\n                return 'NO'\n        (n, m) = map(int, input().split())\n        print(f(n, m))\nexcept:\n    pass", "testcases = int(input())\nfor i in range(testcases):\n    (n, m) = map(int, input().split(' '))\n    list1 = []\n    list2 = []\n    list1_odd = []\n    list1_even = []\n    list2_odd = []\n    list2_even = []\n    for j in range(n):\n        a = list(map(int, input().split(' ')))\n        list1.append(a)\n    for j in range(n):\n        b = list(map(int, input().split(' ')))\n        list2.append(b)\n    if n == 1 or m == 1:\n        if list1 == list2:\n            print('YES')\n        else:\n            print('NO')\n        continue\n    for k in range(n):\n        for l in range(m):\n            if (l + k) % 2 == 0:\n                list1_even.append(list1[k][l])\n                list2_even.append(list2[k][l])\n            else:\n                list1_odd.append(list1[k][l])\n                list2_odd.append(list2[k][l])\n    list1_even.sort()\n    list2_even.sort()\n    list1_odd.sort()\n    list2_odd.sort()\n    if list1_even == list2_even and list1_odd == list2_odd:\n        print('YES')\n    else:\n        print('NO')", "testcases = int(input())\nfor i in range(testcases):\n    (n, m) = map(int, input().split(' '))\n    list1 = []\n    list2 = []\n    list1_odd = []\n    list1_even = []\n    list2_odd = []\n    list2_even = []\n    for j in range(n):\n        a = list(map(int, input().split(' ')))\n        list1.append(a)\n    for j in range(n):\n        b = list(map(int, input().split(' ')))\n        list2.append(b)\n    if n == 1 or m == 1:\n        if list1 == list2:\n            print('YES')\n        else:\n            print('NO')\n        continue\n    for k in range(n):\n        for l in range(m):\n            if (l + k) % 2 == 0:\n                list1_even.append(list1[k][l])\n                list2_even.append(list2[k][l])\n            else:\n                list1_odd.append(list1[k][l])\n                list2_odd.append(list2[k][l])\n    list1_even.sort()\n    list2_even.sort()\n    list1_odd.sort()\n    list2_odd.sort()\n    if list1_even == list2_even and list1_odd == list2_odd:\n        print('YES')\n    else:\n        print('NO')", "from collections import defaultdict\nt = int(input())\nfor _ in range(t):\n    (n, m) = list(map(int, input().split()))\n    a = []\n    b = []\n    for _ in range(n):\n        a.append(list(map(int, input().split())))\n    for _ in range(n):\n        b.append(list(map(int, input().split())))\n    if n == 1 and a != b:\n        print('NO')\n        continue\n    elif m == 1 and a != b:\n        print('NO')\n        continue\n    elif a == b:\n        print('YES')\n        continue\n    even_a = defaultdict(int)\n    even_b = defaultdict(int)\n    odd_a = defaultdict(int)\n    odd_b = defaultdict(int)\n    for i in range(n):\n        for j in range(m):\n            if i + j & 1 == 0:\n                even_a[a[i][j]] += 1\n                even_b[b[i][j]] += 1\n            else:\n                odd_a[a[i][j]] += 1\n                odd_b[b[i][j]] += 1\n    if even_a == even_b and odd_a == odd_b:\n        print('YES')\n    else:\n        print('NO')", "from collections import defaultdict\nt = int(input())\nwhile t:\n    s = input().split()\n    (n, m) = map(int, s)\n    A = []\n    for i in range(n):\n        s = input().split()\n        temp = list(map(int, s))\n        A.append(temp)\n    B = []\n    for i in range(n):\n        s = input().split()\n        temp = list(map(int, s))\n        B.append(temp)\n    if m == 1 or n == 1:\n        if A == B:\n            print('YES')\n        else:\n            print('NO')\n        t -= 1\n        continue\n    d = defaultdict(set)\n    for i in range(n):\n        for j in range(m):\n            d[A[i][j]].add((i, j))\n    ans = 'YES'\n    for i in range(n):\n        for j in range(m):\n            if A[i][j] == B[i][j]:\n                d[A[i][j]].remove((i, j))\n            elif B[i][j] in d:\n                flag = True\n                for (a, b) in d[B[i][j]]:\n                    dif = abs(a - i) + abs(b - j)\n                    if dif % 2 == 0:\n                        flag = False\n                        d[B[i][j]].remove((a, b))\n                        d[A[i][j]].add((a, b))\n                        d[A[i][j]].remove((i, j))\n                        (A[i][j], A[a][b]) = (A[a][b], A[i][j])\n                        break\n                if flag:\n                    ans = 'NO'\n                    break\n            else:\n                ans = 'NO'\n                break\n        if ans == 'NO':\n            break\n    print(ans)\n    t -= 1", "t = int(input())\nwhile t:\n    s = input().split()\n    (n, m) = map(int, s)\n    A = []\n    for i in range(n):\n        s = input().split()\n        temp = list(map(int, s))\n        A.append(temp)\n    B = []\n    for i in range(n):\n        s = input().split()\n        temp = list(map(int, s))\n        B.append(temp)\n    aA = []\n    bA = []\n    aB = []\n    bB = []\n    for i in range(n):\n        for j in range(m):\n            if (i + j) % 2 == 0:\n                aA.append(A[i][j])\n                aB.append(B[i][j])\n            else:\n                bA.append(A[i][j])\n                bB.append(B[i][j])\n    aA.sort()\n    bB.sort()\n    aB.sort()\n    bA.sort()\n    if m == 1 or n == 1:\n        if A == B:\n            ans = 'YES'\n        else:\n            ans = 'NO'\n    elif aA == aB and bB == bA:\n        ans = 'YES'\n    else:\n        ans = 'NO'\n    print(ans)\n    t -= 1", "from collections import Counter\n\ndef solve(a, b):\n    if len(a) == 1 or len(a[0]) == 1:\n        return 'NO'\n    r = len(a)\n    c = len(a[0])\n    a_counts1 = Counter()\n    a_counts2 = Counter()\n    b_counts1 = Counter()\n    b_counts2 = Counter()\n    x = 0\n    for i in range(r):\n        for j in range(c):\n            if j % 2 == x:\n                a_counts1[a[i][j]] += 1\n                b_counts1[b[i][j]] += 1\n        x ^= 1\n    x = 1\n    for i in range(r):\n        for j in range(c):\n            if j % 2 == x:\n                a_counts2[a[i][j]] += 1\n                b_counts2[b[i][j]] += 1\n        x ^= 1\n    if a_counts1 == b_counts1 and a_counts2 == b_counts2:\n        return 'YES'\n    return 'NO'\nfor _ in range(int(input())):\n    (n, _) = list(map(int, input().split()))\n    a = [list(map(int, input().split())) for _ in range(n)]\n    b = [list(map(int, input().split())) for _ in range(n)]\n    print(solve(a, b))", "for _ in range(int(input())):\n    (m, n) = map(int, input().split())\n    a = []\n    b = []\n    a1 = {}\n    a2 = {}\n    b1 = {}\n    b2 = {}\n    for i in range(m):\n        a.append(list(map(int, input().split())))\n    for i in range(m):\n        b.append(list(map(int, input().split())))\n    if m == 1 or n == 1:\n        if a == b:\n            print('YES')\n        else:\n            print('NO')\n    else:\n        for i in range(m):\n            for j in range(n):\n                if (i + j) % 2 == 0:\n                    if a[i][j] not in a1:\n                        a1[a[i][j]] = 0\n                    a1[a[i][j]] += 1\n                    if b[i][j] not in b1:\n                        b1[b[i][j]] = 0\n                    b1[b[i][j]] += 1\n                else:\n                    if a[i][j] not in a2:\n                        a2[a[i][j]] = 0\n                    a2[a[i][j]] += 1\n                    if b[i][j] not in b2:\n                        b2[b[i][j]] = 0\n                    b2[b[i][j]] += 1\n        if a1 == b1 and b2 == a2:\n            print('YES')\n        else:\n            print('NO')", "for _ in range(int(input())):\n    (m, n) = map(int, input().split())\n    a = []\n    b = []\n    a1 = {}\n    a2 = {}\n    b1 = {}\n    b2 = {}\n    for i in range(m):\n        a.append(list(map(int, input().split())))\n    for i in range(m):\n        b.append(list(map(int, input().split())))\n    if m == 1 or n == 1:\n        if a == b:\n            print('YES')\n        else:\n            print('NO')\n    else:\n        for i in range(m):\n            for j in range(n):\n                if i + j & 1:\n                    if a[i][j] not in a1:\n                        a1[a[i][j]] = 0\n                    a1[a[i][j]] += 1\n                    if b[i][j] not in b1:\n                        b1[b[i][j]] = 0\n                    b1[b[i][j]] += 1\n                else:\n                    if a[i][j] not in a2:\n                        a2[a[i][j]] = 0\n                    a2[a[i][j]] += 1\n                    if b[i][j] not in b2:\n                        b2[b[i][j]] = 0\n                    b2[b[i][j]] += 1\n        if a1 == b1 and b2 == a2:\n            print('YES')\n        else:\n            print('NO')", "t = int(input())\nwhile t:\n    t -= 1\n    (n, m) = input().split()\n    (n, m) = (int(n), int(m))\n    a = []\n    b = []\n    for i in range(n):\n        a.append(list(map(int, input().split())))\n    for i in range(n):\n        b.append(list(map(int, input().split())))\n    if n == 1 or m == 1:\n        if a == b:\n            print('YES')\n        else:\n            print('NO')\n    else:\n        ae = {}\n        ao = {}\n        be = {}\n        bo = {}\n        for i in range(n):\n            for j in range(m):\n                if (i + j) % 2 == 0:\n                    if a[i][j] not in ae:\n                        ae[a[i][j]] = 0\n                    ae[a[i][j]] += 1\n                    if b[i][j] not in be:\n                        be[b[i][j]] = 0\n                    be[b[i][j]] += 1\n                else:\n                    if a[i][j] not in ao:\n                        ao[a[i][j]] = 0\n                    ao[a[i][j]] += 1\n                    if b[i][j] not in bo:\n                        bo[b[i][j]] = 0\n                    bo[b[i][j]] += 1\n        if be == ae and bo == ao:\n            print('YES')\n        else:\n            print('NO')", "t = int(input())\nwhile t:\n    t -= 1\n    (n, m) = input().split()\n    (n, m) = (int(n), int(m))\n    a = []\n    b = []\n    for i in range(n):\n        a.append(list(map(int, input().split())))\n    for i in range(n):\n        b.append(list(map(int, input().split())))\n    ae = {}\n    ao = {}\n    be = {}\n    bo = {}\n    if n == 1 or m == 1:\n        if a == b:\n            print('YES')\n        else:\n            print('NO')\n    else:\n        for i in range(n):\n            for j in range(m):\n                if (i + j) % 2 == 0:\n                    if a[i][j] not in ae:\n                        ae[a[i][j]] = 0\n                    ae[a[i][j]] += 1\n                    if b[i][j] not in be:\n                        be[b[i][j]] = 0\n                    be[b[i][j]] += 1\n                else:\n                    if a[i][j] not in ao:\n                        ao[a[i][j]] = 0\n                    ao[a[i][j]] += 1\n                    if b[i][j] not in bo:\n                        bo[b[i][j]] = 0\n                    bo[b[i][j]] += 1\n        if ae == be and ao == bo:\n            print('YES')\n        else:\n            print('NO')", "t = int(input())\nwhile t:\n    t -= 1\n    (n, m) = input().split()\n    (n, m) = (int(n), int(m))\n    a = []\n    b = []\n    for i in range(n):\n        a.append(list(map(int, input().split())))\n    for i in range(n):\n        b.append(list(map(int, input().split())))\n    (ae, ao, be, bo) = ([], [], [], [])\n    if n == 1 or m == 1:\n        if a == b:\n            print('YES')\n        else:\n            print('NO')\n    else:\n        (ao, ae, bo, be) = ([], [], [], [])\n        for i in range(n):\n            for j in range(m):\n                if (i + j) % 2 == 0:\n                    ae.append(a[i][j])\n                    be.append(b[i][j])\n                else:\n                    ao.append(a[i][j])\n                    bo.append(b[i][j])\n        ae.sort()\n        ao.sort()\n        be.sort()\n        bo.sort()\n        if ae == be and ao == bo:\n            print('YES')\n        else:\n            print('NO')", "t = int(input())\nwhile t:\n    t -= 1\n    (n, m) = input().split()\n    (n, m) = (int(n), int(m))\n    a = []\n    b = []\n    for i in range(n):\n        a.append(list(map(int, input().split())))\n    for i in range(n):\n        b.append(list(map(int, input().split())))\n    (ae, ao, be, bo) = ([], [], [], [])\n    if n == 1 or m == 1:\n        if a == b:\n            print('YES')\n        else:\n            print('NO')\n    else:\n        (ao, ae, bo, be) = ([], [], [], [])\n        for i in range(n):\n            for j in range(m):\n                if i + j & 1 == 0:\n                    ae.append(a[i][j])\n                    be.append(b[i][j])\n                else:\n                    ao.append(a[i][j])\n                    bo.append(b[i][j])\n        ae.sort()\n        ao.sort()\n        be.sort()\n        bo.sort()\n        if ae == be and ao == bo:\n            print('YES')\n        else:\n            print('NO')", "t = int(input())\nwhile t:\n    t -= 1\n    (n, m) = input().split()\n    (n, m) = (int(n), int(m))\n    al = []\n    bl = []\n    for a in range(n):\n        l = list(map(int, input().split()))\n        al.append(l)\n    for a in range(n):\n        l = list(map(int, input().split()))\n        bl.append(l)\n    (ae, ao, be, bo) = ([], [], [], [])\n    if n == 1 or m == 1:\n        if al == bl:\n            print('YES')\n        else:\n            print('NO')\n    else:\n        (ao, ae, bo, be) = ([], [], [], [])\n        for i in range(n):\n            for j in range(m):\n                if i + j & 1 == 0:\n                    ae.append(al[i][j])\n                    be.append(bl[i][j])\n                else:\n                    ao.append(al[i][j])\n                    bo.append(bl[i][j])\n        ae.sort()\n        ao.sort()\n        be.sort()\n        bo.sort()\n        if ae == be and ao == bo:\n            print('YES')\n        else:\n            print('NO')", "t = int(input())\nwhile t:\n    t -= 1\n    (n, m) = map(int, input().split())\n    (al, bl) = ([], [])\n    for a in range(n):\n        l = list(map(int, input().split()))\n        al.append(l)\n    for a in range(n):\n        l = list(map(int, input().split()))\n        bl.append(l)\n    (ae, ao, be, bo) = ([], [], [], [])\n    if n == 1 or m == 1:\n        if al == bl:\n            print('YES')\n        else:\n            print('NO')\n    else:\n        (ao, ae, bo, be) = ([], [], [], [])\n        for i in range(n):\n            for j in range(m):\n                if i + j & 1 == 0:\n                    ae.append(al[i][j])\n                    be.append(bl[i][j])\n                else:\n                    ao.append(al[i][j])\n                    bo.append(bl[i][j])\n        ae.sort()\n        ao.sort()\n        be.sort()\n        bo.sort()\n        if ae == be and ao == bo:\n            print('YES')\n        else:\n            print('NO')", "for _ in range(int(input())):\n    (n, m) = map(int, input().split())\n    (al, bl) = ([], [])\n    for a in range(n):\n        l = list(map(int, input().split()))\n        al.append(l)\n    for a in range(n):\n        l = list(map(int, input().split()))\n        bl.append(l)\n    (ae, ao, be, bo) = ([], [], [], [])\n    if n == 1 or m == 1:\n        if al == bl:\n            print('YES')\n        else:\n            print('NO')\n    else:\n        (ao, ae, bo, be) = ([], [], [], [])\n        for i in range(n):\n            for j in range(m):\n                if i + j & 1 == 0:\n                    ae.append(al[i][j])\n                    be.append(bl[i][j])\n                else:\n                    ao.append(al[i][j])\n                    bo.append(bl[i][j])\n        ae.sort()\n        ao.sort()\n        be.sort()\n        bo.sort()\n        if ae == be and ao == bo:\n            print('YES')\n        else:\n            print('NO')", "def func(A, B, n, m):\n    if m == 1 or n == 1:\n        if A == B:\n            return 'YES'\n        else:\n            return 'NO'\n    ab = 0\n    bb = 0\n    for i in range(n):\n        if i % 2 == 0:\n            j = 0\n            while j < m:\n                ab += A[i][j]\n                bb += B[i][j]\n                j += 2\n        else:\n            j = 1\n            while j < m:\n                ab += A[i][j]\n                bb += B[i][j]\n                j += 2\n    if bb == ab:\n        return 'YES'\n    return 'NO'\nT = int(input())\nfor t in range(T):\n    (N, M) = list(map(int, input().split()))\n    A = []\n    B = []\n    for i in range(N):\n        A.append(list(map(int, input().split())))\n    for j in range(N):\n        B.append(list(map(int, input().split())))\n    res = func(A, B, N, M)\n    print(res)", "for _ in range(int(input())):\n    (n, m) = map(int, input().split())\n    m1 = []\n    m2 = []\n    for i in range(n):\n        m1.append(list(map(int, input().split())))\n    for i in range(n):\n        m2.append(list(map(int, input().split())))\n    if m == 1 or n == 1:\n        if m1 == m2:\n            print('YES')\n        else:\n            print('NO')\n    else:\n        (s1, s2, f) = (0, 0, 0)\n        for i in range(n):\n            for j in range(m):\n                if f == 0 and j % 2 == 0:\n                    s1 += m1[i][j]\n                    s2 += m2[i][j]\n                elif f == 1 and j % 2 == 1:\n                    s1 += m1[i][j]\n                    s2 += m2[i][j]\n            if f == 0:\n                f = 1\n            else:\n                f = 0\n        if s1 == s2:\n            print('YES')\n        else:\n            print('NO')", "t = int(input())\nfor i in range(t):\n    (n, m) = map(int, input().split())\n    ma1 = []\n    ma2 = []\n    for i in range(n):\n        ma1.append(list(map(int, input().split())))\n    for i in range(n):\n        ma2.append(list(map(int, input().split())))\n    p = []\n    q = []\n    if n == 1 or m == 1:\n        if ma1 == ma2:\n            print('YES')\n        else:\n            print('NO')\n    else:\n        for i in range(n):\n            for j in range(m):\n                p.append(ma1[i][j])\n                q.append(ma2[i][j])\n        p.sort()\n        q.sort()\n        if p != q:\n            print('NO')\n        else:\n            (sum1, sum2) = (0, 0)\n            f = 0\n            for i in range(n):\n                for j in range(m):\n                    if f == 0 and j % 2 == 0:\n                        sum1 += ma1[i][j]\n                        sum2 += ma2[i][j]\n                    elif f == 1 and j % 2 == 1:\n                        sum1 += ma1[i][j]\n                        sum2 += ma2[i][j]\n                if f == 1:\n                    f = 0\n                else:\n                    f = 1\n            if sum1 == sum2:\n                print('YES')\n            else:\n                print('NO')", "t = int(input())\nfor i in range(t):\n    (n, m) = map(int, input().split())\n    ma1 = []\n    ma2 = []\n    for i in range(n):\n        ma1.append(list(map(int, input().split())))\n    for i in range(n):\n        ma2.append(list(map(int, input().split())))\n    p = []\n    q = []\n    if n == 1 or m == 1:\n        if ma1 == ma2:\n            print('YES')\n        else:\n            print('NO')\n    else:\n        for i in range(n):\n            for j in range(m):\n                p.append(ma1[i][j])\n                q.append(ma2[i][j])\n        p.sort()\n        q.sort()\n        if p != q:\n            print('NO')\n        else:\n            (sum1, sum2) = (0, 0)\n            f = 0\n            (s, ss) = (0, 0)\n            for i in range(n):\n                for j in range(m):\n                    if f == 0 and j % 2 == 0:\n                        sum1 += ma1[i][j]\n                        sum2 += ma2[i][j]\n                    elif f == 1 and j % 2 == 1:\n                        sum1 += ma1[i][j]\n                        sum2 += ma2[i][j]\n                    s += ma1[i][j]\n                    ss += ma2[i][j]\n                if f == 1:\n                    f = 0\n                else:\n                    f = 1\n            if sum1 == sum2 and s == ss:\n                print('YES')\n            else:\n                print('NO')", "for _ in range(int(input())):\n    (n, m) = map(int, input().split())\n    m1 = []\n    m2 = []\n    for i in range(n):\n        m1.append(list(map(int, input().split())))\n    for i in range(n):\n        m2.append(list(map(int, input().split())))\n    (a1, a2, b1, b2) = ([], [], [], [])\n    if m == 1 or n == 1:\n        if m1 == m2:\n            print('YES')\n        else:\n            print('NO')\n    else:\n        for i in range(n):\n            for j in range(m):\n                if (i + j) % 2 == 0:\n                    a1.append(m1[i][j])\n                    a2.append(m2[i][j])\n                else:\n                    b1.append(m1[i][j])\n                    b2.append(m2[i][j])\n        a1.sort()\n        a2.sort()\n        b1.sort()\n        b2.sort()\n        if a1 == a2 and b1 == b2:\n            print('YES')\n        else:\n            print('NO')", "from collections import Counter\nfor _ in range(int(input())):\n    (n, m) = map(int, input().split())\n    al = list()\n    bl = list()\n    for a in range(n):\n        l = list(map(int, input().split()))\n        al.append(l)\n    for a in range(n):\n        l = list(map(int, input().split()))\n        bl.append(l)\n    if n == 1 or m == 1:\n        if al == bl:\n            print('YES')\n        else:\n            print('NO')\n    else:\n        (ao, ae, bo, be) = ([], [], [], [])\n        for i in range(n):\n            for j in range(m):\n                if i + j & 1 == 0:\n                    ae.append(al[i][j])\n                    be.append(bl[i][j])\n                else:\n                    ao.append(al[i][j])\n                    bo.append(bl[i][j])\n        if Counter(ae) == Counter(be) and Counter(ao) == Counter(bo):\n            print('YES')\n        else:\n            print('NO')", "t = int(input())\nfor __ in range(t):\n    (n, m) = map(int, input().split())\n    a = []\n    b = []\n    aeven = []\n    aodd = []\n    beven = []\n    bodd = []\n    for __ in range(n):\n        row = list(map(int, input().split()))\n        a.append(row)\n    for __ in range(n):\n        row = list(map(int, input().split()))\n        b.append(row)\n    if n == 1 or m == 1:\n        if a == b:\n            print('YES')\n        else:\n            print('NO')\n    else:\n        for i in range(n):\n            for j in range(m):\n                if (i + j) % 2 == 0:\n                    aeven.append(a[i][j])\n                    beven.append(b[i][j])\n                else:\n                    aodd.append(a[i][j])\n                    bodd.append(b[i][j])\n        aeven.sort()\n        beven.sort()\n        aodd.sort()\n        bodd.sort()\n        if aeven == beven and aodd == bodd:\n            print('YES')\n        else:\n            print('NO')", "for _ in range(int(input())):\n    (n, m) = map(int, input().split())\n    al = list()\n    bl = list()\n    for a in range(n):\n        l = list(map(int, input().split()))\n        al.append(l)\n    for a in range(n):\n        l = list(map(int, input().split()))\n        bl.append(l)\n    if n == 1 or m == 1:\n        if al == bl:\n            print('YES')\n        else:\n            print('NO')\n    else:\n        (ao, ae, bo, be) = (dict(), dict(), dict(), dict())\n        for i in range(n):\n            for j in range(m):\n                if i + j & 1 == 0:\n                    ae[al[i][j]] = ae.get(al[i][j], 0) + 1\n                    be[bl[i][j]] = be.get(bl[i][j], 0) + 1\n                else:\n                    ao[al[i][j]] = ao.get(al[i][j], 0) + 1\n                    bo[bl[i][j]] = bo.get(bl[i][j], 0) + 1\n        if ae == be and ao == bo:\n            print('YES')\n        else:\n            print('NO')", "for _ in range(int(input())):\n    (n, m) = map(int, input().split())\n    al = list()\n    bl = list()\n    for a in range(n):\n        l = list(map(int, input().split()))\n        al.append(l)\n    for a in range(n):\n        l = list(map(int, input().split()))\n        bl.append(l)\n    if n == 1 or m == 1:\n        if al == bl:\n            print('YES')\n        else:\n            print('NO')\n    else:\n        (ao, ae, bo, be) = ([], [], [], [])\n        for i in range(n):\n            for j in range(m):\n                if i + j & 1 == 0:\n                    ae.append(al[i][j])\n                    be.append(bl[i][j])\n                else:\n                    ao.append(al[i][j])\n                    bo.append(bl[i][j])\n        if sorted(ae) == sorted(be) and sorted(ao) == sorted(bo):\n            print('YES')\n        else:\n            print('NO')", "for _ in range(int(input())):\n    (n, m) = map(int, input().split())\n    if n == 1 or m == 1:\n        mat1 = [[int(ele) for ele in input().split()] for i in range(n)]\n        mat2 = [[int(ele) for ele in input().split()] for i in range(n)]\n        if mat1 == mat2:\n            print('YES')\n        else:\n            print('NO')\n    else:\n        al = list()\n        bl = list()\n        for a in range(n):\n            l = list(map(int, input().split()))\n            al.append(l)\n        for a in range(n):\n            l = list(map(int, input().split()))\n            bl.append(l)\n        (ao, ae, bo, be) = ([], [], [], [])\n        for i in range(n):\n            for j in range(m):\n                if i + j & 1 == 0:\n                    ae.append(al[i][j])\n                    be.append(bl[i][j])\n                else:\n                    ao.append(al[i][j])\n                    bo.append(bl[i][j])\n        if sorted(ae) == sorted(be) and sorted(ao) == sorted(bo):\n            print('YES')\n        else:\n            print('NO')", "T = int(input())\nfor t in range(T):\n    (n, m) = tuple(map(int, input().split()))\n    (a1, a2, b1, b2) = ([], [], [], [])\n    for i in range(n):\n        arr = tuple(map(int, input().split()))\n        for j in range(m):\n            if (i + j) % 2 == 0:\n                a1.append(arr[j])\n            else:\n                a2.append(arr[j])\n    for i in range(n):\n        arr = tuple(map(int, input().split()))\n        for j in range(m):\n            if (i + j) % 2 == 0:\n                b1.append(arr[j])\n            else:\n                b2.append(arr[j])\n    if m == 1 or n == 1:\n        if a1 == b1 and a2 == b2:\n            print('YES')\n        else:\n            print('NO')\n        continue\n    a1.sort()\n    a2.sort()\n    b1.sort()\n    b2.sort()\n    if a1 == b1 and a2 == b2:\n        print('YES')\n    else:\n        print('NO')", "from collections import defaultdict\n\ndef solve(matrix1, matrix2, n, m):\n    if n == 1 or (m == 1 and matrix1 != matrix2):\n        return 'NO'\n    matrix1a = defaultdict(int)\n    matrix1b = defaultdict(int)\n    matrix2a = defaultdict(int)\n    matrix2b = defaultdict(int)\n    index = 0\n    for row in range(n):\n        for col in range(index, m, 2):\n            matrix1a[matrix1[row][col]] += 1\n            matrix2a[matrix2[row][col]] += 1\n        index ^= 1\n    index = 1\n    for row in range(n):\n        for col in range(index, m, 2):\n            matrix1b[matrix1[row][col]] += 1\n            matrix2b[matrix2[row][col]] += 1\n        index ^= 1\n    if matrix1a == matrix2a and matrix2b == matrix1b:\n        return 'YES'\n    return 'NO'\n\ndef driver():\n    tests = int(input())\n    for test in range(tests):\n        (n, m) = [int(el) for el in input().split()]\n        matrix1 = [input().split() for row in range(n)]\n        matrix2 = [input().split() for row in range(n)]\n        print(solve(matrix1, matrix2, n, m))\ndriver()", "from collections import defaultdict\n\ndef solve(matrix1, matrix2, n, m):\n    if n == 1 and matrix1 != matrix2:\n        return 'NO'\n    elif m == 1 and matrix1 != matrix2:\n        return 'NO'\n    elif matrix1 == matrix2:\n        return 'YES'\n    matrix1a = defaultdict(int)\n    matrix1b = defaultdict(int)\n    matrix2a = defaultdict(int)\n    matrix2b = defaultdict(int)\n    index = 0\n    for row in range(n):\n        for col in range(index, m, 2):\n            matrix1a[matrix1[row][col]] += 1\n            matrix2a[matrix2[row][col]] += 1\n        index ^= 1\n    index = 1\n    for row in range(n):\n        for col in range(index, m, 2):\n            matrix1b[matrix1[row][col]] += 1\n            matrix2b[matrix2[row][col]] += 1\n        index ^= 1\n    if matrix1a == matrix2a and matrix2b == matrix1b:\n        return 'YES'\n    return 'NO'\n\ndef driver():\n    tests = int(input())\n    for test in range(tests):\n        (n, m) = [int(el) for el in input().split()]\n        matrix1 = [input().split() for row in range(n)]\n        matrix2 = [input().split() for row in range(n)]\n        print(solve(matrix1, matrix2, n, m))\ndriver()", "t = int(input())\nfor q in range(t):\n    a = []\n    b = []\n    c = []\n    o1 = []\n    e1 = []\n    o2 = []\n    e2 = []\n    (n, m) = [int(i) for i in input().split()]\n    for k in range(0, n):\n        b = [int(i) for i in input().split()]\n        a.append(b)\n    for k in range(0, n):\n        b = [int(i) for i in input().split()]\n        c.append(b)\n    for i in range(0, n):\n        for j in range(0, m):\n            if (i + j) % 2 == 0:\n                e1.append(a[i][j])\n                e2.append(c[i][j])\n            else:\n                o1.append(a[i][j])\n                o2.append(c[i][j])\n    e1.sort()\n    o1.sort()\n    e2.sort()\n    o2.sort()\n    if e2 == e1 and o2 == o1 and (n != 1) and (m != 1):\n        print('YES')\n    else:\n        print('NO')", "for _ in range(int(input())):\n    aMatrix = []\n    bMatrix = []\n    (n, m) = map(int, input().split())\n    for i in range(n):\n        p1 = list(map(int, input().split()))\n        aMatrix.append(p1)\n    for i in range(n):\n        q1 = list(map(int, input().split()))\n        bMatrix.append(q1)\n    c = 0\n    if n == 1 or m == 1:\n        for i in range(n):\n            for j in range(m):\n                if aMatrix[i][j] == bMatrix[i][j]:\n                    c += 1\n                else:\n                    break\n        if c == n * m:\n            print('YES')\n        else:\n            print('NO')\n    else:\n        p = []\n        q = []\n        r = []\n        s = []\n        for i in range(n):\n            for j in range(m):\n                if (i + j) % 2 == 0:\n                    p.append(aMatrix[i][j])\n                    q.append(bMatrix[i][j])\n                else:\n                    r.append(aMatrix[i][j])\n                    s.append(bMatrix[i][j])\n        if sorted(p) == sorted(q) and sorted(r) == sorted(s):\n            print('YES')\n        else:\n            print('NO')", "t = int(input())\nwhile t >= 1:\n    (n, m) = map(int, input().split())\n    a = [list(map(int, input().split())) for i in range(n)]\n    b = [list(map(int, input().split())) for i in range(n)]\n    A = []\n    B = []\n    for i in a:\n        A += i\n    for i in b:\n        B += i\n    A.sort()\n    B.sort()\n    if A == B and n != 1 and (m != 1):\n        print('YES')\n    else:\n        print('NO')\n    t -= 1", "for i in range(int(input())):\n    [row, col] = [int(ele) for ele in input().split()]\n    if row == 1 or col == 1:\n        mat1 = [[int(ele) for ele in input().split()] for i in range(row)]\n        mat2 = [[int(ele) for ele in input().split()] for i in range(row)]\n        if mat1 == mat2:\n            print('YES')\n        else:\n            print('NO')\n    else:\n        e1 = {}\n        e2 = {}\n        o1 = {}\n        o2 = {}\n        for i in range(row):\n            line = [int(ele) for ele in input().split()]\n            for j in range(col):\n                if (i + j) % 2 == 0:\n                    e1[line[j]] = e1.get(line[j], 0) + 1\n                else:\n                    o1[line[j]] = o1.get(line[j], 0) + 1\n        for i in range(row):\n            line = [int(ele) for ele in input().split()]\n            for j in range(col):\n                if (i + j) % 2 == 0:\n                    e2[line[j]] = e2.get(line[j], 0) + 1\n                else:\n                    o2[line[j]] = o2.get(line[j], 0) + 1\n        if e1 == e2 and o1 == o2:\n            print('YES')\n        else:\n            print('NO')", "for _ in range(int(input())):\n    (n, m) = map(int, input().split())\n    a = []\n    for i in range(n):\n        c = list(map(int, input().split()))\n        a.append(c)\n    b = []\n    for i in range(n):\n        c = list(map(int, input().split()))\n        b.append(c)\n    if n == 1 or m == 1:\n        if a == b:\n            print('YES')\n            continue\n        else:\n            print('NO')\n            continue\n    dic_ev_a = {}\n    dic_od_a = {}\n    dic_ev_b = {}\n    dic_od_b = {}\n    for i in range(n):\n        for j in range(m):\n            if (i + j) % 2 == 0:\n                if a[i][j] in dic_ev_a:\n                    dic_ev_a[a[i][j]] += 1\n                else:\n                    dic_ev_a[a[i][j]] = 1\n                if b[i][j] in dic_ev_b:\n                    dic_ev_b[b[i][j]] += 1\n                else:\n                    dic_ev_b[b[i][j]] = 1\n            if (i + j) % 2 == 1:\n                if a[i][j] in dic_od_a:\n                    dic_od_a[a[i][j]] += 1\n                else:\n                    dic_od_a[a[i][j]] = 1\n                if b[i][j] in dic_od_b:\n                    dic_od_b[b[i][j]] += 1\n                else:\n                    dic_od_b[b[i][j]] = 1\n    for i in dic_od_a:\n        if i not in dic_od_b:\n            break\n        if dic_od_b[i] != dic_od_a[i]:\n            break\n    else:\n        for i in dic_ev_a:\n            if i not in dic_ev_b:\n                break\n            if dic_ev_b[i] != dic_ev_a[i]:\n                break\n        else:\n            print('YES')\n            continue\n    print('NO')", "def solve():\n    (N, M) = map(int, input().split())\n    if N == 1 or M == 1:\n        A = []\n        B = []\n        for i in range(N):\n            A.append(list(map(int, input().split())))\n        for i in range(N):\n            B.append(list(map(int, input().split())))\n        if A == B:\n            print('YES')\n        else:\n            print('NO')\n        return\n    (even_A, odd_A, even_B, odd_B) = ([], [], [], [])\n    A = []\n    B = []\n    for i in range(N):\n        A.append(list(map(int, input().split())))\n    for i in range(N):\n        B.append(list(map(int, input().split())))\n    for i in range(N):\n        for j in range(M):\n            if (i + j) % 2 == 0:\n                even_A.append(A[i][j])\n                even_B.append(B[i][j])\n            else:\n                odd_A.append(A[i][j])\n                odd_B.append(B[i][j])\n    even_A.sort()\n    odd_A.sort()\n    even_B.sort()\n    odd_B.sort()\n    if even_A != even_B:\n        print('NO')\n        return\n    if odd_A != odd_B:\n        print('NO')\n        return\n    print('YES')\nfor _ in range(int(input())):\n    solve()", "from collections import Counter\nfor _ in range(int(input())):\n    (r, c) = map(int, input().split())\n    moo = 1\n    a1 = []\n    b1 = []\n    mee = {}\n    for i in range(r):\n        temp1 = list(map(int, input().split()))\n        a1.append(temp1)\n    for i in range(r):\n        temp1 = list(map(int, input().split()))\n        b1.append(temp1)\n    if r == 1 or c == 1:\n        for i in range(r):\n            for j in range(c):\n                if a1[i][j] != b1[i][j]:\n                    moo = 0\n                    break\n    else:\n        ao = []\n        ax = []\n        bo = []\n        bx = []\n        for i in range(r):\n            for j in range(c):\n                if (i + j) % 2 == 1:\n                    ao.append(a1[i][j])\n                    bo.append(b1[i][j])\n                else:\n                    ax.append(a1[i][j])\n                    bx.append(b1[i][j])\n        xao1 = dict(Counter(ao))\n        xbo1 = dict(Counter(bo))\n        xax1 = dict(Counter(ax))\n        xbx1 = dict(Counter(bx))\n        for i in ao:\n            if xao1.get(i) != xbo1.get(i):\n                moo = 0\n                break\n        for i in ax:\n            if xax1.get(i) != xbx1.get(i):\n                moo = 0\n                break\n    if moo:\n        print('YES')\n    else:\n        print('NO')", "t = int(input())\nfor _ in range(t):\n    (x, y) = input().split()\n    x = int(x)\n    y = int(y)\n    c1 = dict()\n    c2 = dict()\n    d1 = dict()\n    d2 = dict()\n    f = 0\n    if x == 1 or y == 1:\n        a = []\n        b = []\n        for i in range(x):\n            k = list(map(int, input().split()))\n            a.append(k)\n        for i in range(x):\n            k = list(map(int, input().split()))\n            b.append(k)\n        for i in range(x):\n            for j in range(y):\n                if a[i][j] != b[i][j]:\n                    f = 1\n                    break\n    else:\n        for i in range(x):\n            a = list(map(int, input().split()))\n            for j in range(y):\n                if (i + j) % 2 != 0:\n                    if a[j] in c1:\n                        c1[a[j]] += 1\n                    else:\n                        c1[a[j]] = 1\n                elif a[j] in c2:\n                    c2[a[j]] += 1\n                else:\n                    c2[a[j]] = 1\n        for i in range(x):\n            a = list(map(int, input().split()))\n            for j in range(y):\n                if (i + j) % 2 != 0:\n                    if a[j] in d1:\n                        d1[a[j]] += 1\n                    else:\n                        d1[a[j]] = 1\n                elif a[j] in d2:\n                    d2[a[j]] += 1\n                else:\n                    d2[a[j]] = 1\n        for k in c1:\n            if k in d1:\n                if c1[k] != d1[k]:\n                    f = 1\n                    break\n            else:\n                f = 1\n                break\n        for k in c2:\n            if k in d2:\n                if c2[k] != d2[k]:\n                    f = 1\n                    break\n            else:\n                f = 1\n                break\n    if f == 0:\n        print('YES')\n    else:\n        print('NO')", "c = 0\nt = int(input())\nfor _ in range(t):\n    a = []\n    b = []\n    (n, m) = map(int, input().split())\n    for i in range(n):\n        p = []\n        p = list(map(int, input().split()))\n        a.append(p)\n    for i in range(n):\n        q = []\n        q = list(map(int, input().split()))\n        b.append(q)\n    c = 0\n    if n == 1 or m == 1:\n        for i in range(n):\n            for j in range(m):\n                if a[i][j] == b[i][j]:\n                    c += 1\n                else:\n                    break\n        if c == n * m:\n            print('YES')\n        else:\n            print('NO')\n    else:\n        l1 = []\n        l2 = []\n        l3 = []\n        l4 = []\n        for i in range(n):\n            for j in range(m):\n                if (i + j) % 2 == 0:\n                    l1.append(a[i][j])\n                    l2.append(b[i][j])\n                else:\n                    l3.append(a[i][j])\n                    l4.append(b[i][j])\n        if sorted(l1) == sorted(l2) and sorted(l3) == sorted(l4):\n            print('YES')\n        else:\n            print('NO')", "t = int(input())\nfor _ in range(t):\n    (n, m) = map(int, input().split())\n    A = []\n    B = []\n    A1 = {}\n    A2 = {}\n    B1 = {}\n    B2 = {}\n    for i in range(n):\n        A.append(list(map(int, input().split())))\n        for j in range(m):\n            if (i + j) % 2 == 0:\n                if A[i][j] in A1.keys():\n                    A1.update({A[i][j]: A1[A[i][j]] + 1})\n                else:\n                    A1[A[i][j]] = 1\n            elif A[i][j] in A2.keys():\n                A2.update({A[i][j]: A2[A[i][j]] + 1})\n            else:\n                A2[A[i][j]] = 1\n    for i in range(n):\n        B.append(list(map(int, input().split())))\n        for j in range(m):\n            if (i + j) % 2 == 0:\n                if B[i][j] in B1.keys():\n                    B1.update({B[i][j]: B1[B[i][j]] + 1})\n                else:\n                    B1[B[i][j]] = 1\n            elif B[i][j] in B2.keys():\n                B2.update({B[i][j]: B2[B[i][j]] + 1})\n            else:\n                B2[B[i][j]] = 1\n    flag = 'YES'\n    if n == 1 or m == 1:\n        if A != B:\n            flag = 'NO'\n    else:\n        for i in A1.keys():\n            if i in B1.keys():\n                if A1[i] != B1[i]:\n                    flag = 'NO'\n                    break\n            else:\n                flag = 'NO'\n                break\n        for i in A2.keys():\n            if i in B2.keys():\n                if A2[i] != B2[i]:\n                    flag = 'NO'\n                    break\n            else:\n                flag = 'NO'\n                break\n    print(flag)", "for _ in range(int(input())):\n    (m, n) = map(int, input().split())\n    matrix1 = []\n    matrix2 = []\n    for i in range(m):\n        matrix1.append(list(map(int, input().split())))\n    for i in range(m):\n        matrix2.append(list(map(int, input().split())))\n    eve1 = []\n    odd1 = []\n    eve2 = []\n    odd2 = []\n    if m == 1 or n == 1:\n        if matrix1 == matrix2:\n            print('YES')\n        else:\n            print('NO')\n        continue\n    for i in range(m):\n        for j in range(n):\n            if i % 2 == 0 and j % 2 == 0 or (i % 2 == 1 and j % 2 == 1):\n                eve1.append(matrix1[i][j])\n                eve2.append(matrix2[i][j])\n            else:\n                odd1.append(matrix1[i][j])\n                odd2.append(matrix2[i][j])\n    if sorted(eve1) == sorted(eve2) and sorted(odd1) == sorted(odd2):\n        print('YES')\n    else:\n        print('NO')", "for i in range(int(input())):\n    [n, m] = [int(i) for i in input().split()]\n    a1 = []\n    for i in range(n):\n        a1.append([int(i) for i in input().split()])\n    a2 = []\n    for i in range(n):\n        a2.append([int(i) for i in input().split()])\n    if m == 1 or n == 1:\n        if a1 == a2:\n            print('YES')\n        else:\n            print('NO')\n        continue\n    e1 = {}\n    o1 = {}\n    e2 = {}\n    o2 = {}\n    for i in range(n):\n        for j in range(m):\n            if i + j & 1 == 0:\n                if a1[i][j] in e1:\n                    e1[a1[i][j]] += 1\n                else:\n                    e1[a1[i][j]] = 1\n                if a2[i][j] in e2:\n                    e2[a2[i][j]] += 1\n                else:\n                    e2[a2[i][j]] = 1\n            else:\n                if a1[i][j] in o1:\n                    o1[a1[i][j]] += 1\n                else:\n                    o1[a1[i][j]] = 1\n                if a2[i][j] in o2:\n                    o2[a2[i][j]] += 1\n                else:\n                    o2[a2[i][j]] = 1\n    if e1 == e2 and o1 == o2:\n        print('YES')\n    else:\n        print('NO')", "t = int(input())\nfor _ in range(t):\n    (n, m) = map(int, input().split())\n    A = []\n    B = []\n    A1 = {}\n    A2 = {}\n    B1 = {}\n    B2 = {}\n    for i in range(n):\n        A.append(list(map(int, input().split())))\n        for j in range(m):\n            if (i + j) % 2 == 0:\n                if A[i][j] in A1.keys():\n                    A1.update({A[i][j]: A1[A[i][j]] + 1})\n                else:\n                    A1[A[i][j]] = 1\n            elif A[i][j] in A2.keys():\n                A2.update({A[i][j]: A2[A[i][j]] + 1})\n            else:\n                A2[A[i][j]] = 1\n    for i in range(n):\n        B.append(list(map(int, input().split())))\n        for j in range(m):\n            if (i + j) % 2 == 0:\n                if B[i][j] in B1.keys():\n                    B1.update({B[i][j]: B1[B[i][j]] + 1})\n                else:\n                    B1[B[i][j]] = 1\n            elif B[i][j] in B2.keys():\n                B2.update({B[i][j]: B2[B[i][j]] + 1})\n            else:\n                B2[B[i][j]] = 1\n    flag = 'YES'\n    if n == 1 or m == 1:\n        if A != B:\n            flag = 'NO'\n    else:\n        for i in A1.keys():\n            if i in B1.keys():\n                if A1[i] != B1[i]:\n                    flag = 'NO'\n                    break\n            else:\n                flag = 'NO'\n                break\n        for i in A2.keys():\n            if i in B2.keys():\n                if A2[i] != B2[i]:\n                    flag = 'NO'\n                    break\n            else:\n                flag = 'NO'\n                break\n    print(flag)", "t = int(input())\nfor _ in range(t):\n    (n, m) = map(int, input().split())\n    A = []\n    B = []\n    A1 = {}\n    A2 = {}\n    B1 = {}\n    B2 = {}\n    for i in range(n):\n        A.append(list(map(int, input().split())))\n        for j in range(m):\n            if (i + j) % 2 == 0:\n                if A[i][j] in A1.keys():\n                    A1.update({A[i][j]: A1[A[i][j]] + 1})\n                else:\n                    A1[A[i][j]] = 1\n            elif A[i][j] in A2.keys():\n                A2.update({A[i][j]: A2[A[i][j]] + 1})\n            else:\n                A2[A[i][j]] = 1\n    for i in range(n):\n        B.append(list(map(int, input().split())))\n        for j in range(m):\n            if (i + j) % 2 == 0:\n                if B[i][j] in B1.keys():\n                    B1.update({B[i][j]: B1[B[i][j]] + 1})\n                else:\n                    B1[B[i][j]] = 1\n            elif B[i][j] in B2.keys():\n                B2.update({B[i][j]: B2[B[i][j]] + 1})\n            else:\n                B2[B[i][j]] = 1\n    flag = 'YES'\n    if n == 1 or m == 1:\n        if A != B:\n            flag = 'NO'\n    else:\n        for i in A1.keys():\n            if i in B1.keys():\n                if A1[i] != B1[i]:\n                    flag = 'NO'\n                    break\n            else:\n                flag = 'NO'\n                break\n        for i in A2.keys():\n            if i in B2.keys():\n                if A2[i] != B2[i]:\n                    flag = 'NO'\n                    break\n            else:\n                flag = 'NO'\n                break\n    print(flag)", "def solve():\n    (n, m) = list(map(int, input().split()))\n    (arr1, arr2) = ([], [])\n    for i in range(n):\n        row = list(map(int, input().split()))\n        arr1.append(row)\n    for i in range(n):\n        row = list(map(int, input().split()))\n        arr2.append(row)\n    if n == 1 or m == 1:\n        for i in range(n):\n            for j in range(m):\n                if arr1[i][j] != arr2[i][j]:\n                    return 'NO'\n    (a1, b1, a2, b2) = ({}, {}, {}, {})\n    for i in range(n):\n        for j in range(m):\n            if (i + j) % 2:\n                if arr1[i][j] not in a1:\n                    a1[arr1[i][j]] = 0\n                a1[arr1[i][j]] += 1\n                if arr2[i][j] not in b1:\n                    b1[arr2[i][j]] = 0\n                b1[arr2[i][j]] += 1\n            else:\n                if arr1[i][j] not in a2:\n                    a2[arr1[i][j]] = 0\n                a2[arr1[i][j]] += 1\n                if arr2[i][j] not in b2:\n                    b2[arr2[i][j]] = 0\n                b2[arr2[i][j]] += 1\n    for i in a1:\n        if i not in b1 or a1[i] != b1[i]:\n            return 'NO'\n    for i in a2:\n        if i not in b2 or a2[i] != b2[i]:\n            return 'NO'\n    return 'YES'\nfor _ in range(int(input())):\n    print(solve())", "t = int(input())\nfor _ in range(t):\n    (n, m) = [int(x) for x in input().split()]\n    A = [0] * n\n    B = [0] * n\n    for i in range(n):\n        b = [int(x) for x in input().split()]\n        A[i] = b\n    for i in range(n):\n        b = [int(x) for x in input().split()]\n        B[i] = b\n    flag = True\n    if n == 1 or m == 1:\n        for i in range(n):\n            for j in range(m):\n                if A[i][j] != B[i][j]:\n                    flag = False\n        if flag == True:\n            print('YES')\n        else:\n            print('NO')\n        continue\n    d1 = dict()\n    d2 = dict()\n    for i in range(n):\n        for j in range(m):\n            v1 = A[i][j]\n            v2 = B[i][j]\n            if d1.get(v1, -1) == -1:\n                d1[v1] = [(i, j)]\n            else:\n                d1[v1].append((i, j))\n            if d2.get(v2, -1) == -1:\n                d2[v2] = [(i, j)]\n            else:\n                d2[v2].append((i, j))\n    for val in d1:\n        if flag == False:\n            break\n        inds1 = d1.get(val)\n        l1 = len(inds1)\n        inds2 = d2.get(val, -1)\n        if inds2 == -1:\n            flag = False\n            break\n        l2 = len(inds2)\n        if l1 != l2:\n            flag = False\n            break\n        samecount1 = 0\n        samecount2 = 0\n        for i in range(l1):\n            ind1 = inds1[i]\n            same = False\n            if ind1[0] % 2 == 0:\n                if ind1[1] % 2 == 0:\n                    same = True\n            elif ind1[1] % 2 == 1:\n                same = True\n            if same == True:\n                samecount1 += 1\n        for i in range(l2):\n            ind2 = inds2[i]\n            same = False\n            if ind2[0] % 2 == 0:\n                if ind2[1] % 2 == 0:\n                    same = True\n            elif ind2[1] % 2 == 1:\n                same = True\n            if same == True:\n                samecount2 += 1\n        if samecount1 != samecount2:\n            flag = False\n            break\n    if flag == True:\n        print('YES')\n    else:\n        print('NO')", "def getoe(mat):\n    o = {}\n    e = {}\n    for i in range(len(mat)):\n        for j in range(len(mat[i])):\n            if (i + j) % 2 == 0:\n                if mat[i][j] in e:\n                    e[mat[i][j]] += 1\n                else:\n                    e[mat[i][j]] = 1\n            elif mat[i][j] in o:\n                o[mat[i][j]] += 1\n            else:\n                o[mat[i][j]] = 1\n    return [o, e]\n\ndef checkoe(A, B):\n    for v in A:\n        if not v in B:\n            return False\n        if A[v] != B[v]:\n            return False\n    return True\n\ndef checkOneOne(A, B):\n    for i in range(n):\n        for j in range(m):\n            if A[i][j] != B[i][j]:\n                return False\n    return True\nfor _ in range(int(input())):\n    [n, m] = list(map(int, input().split()))\n    A = []\n    B = []\n    for i in range(n):\n        A.append(list(map(int, input().split())))\n    for i in range(n):\n        B.append(list(map(int, input().split())))\n    if n == 1 or m == 1:\n        ans = checkOneOne(A, B)\n    else:\n        [Ao, Ae] = getoe(A)\n        [Bo, Be] = getoe(B)\n        ans = checkoe(Ao, Bo) and checkoe(Ae, Be)\n    if ans:\n        print('YES')\n    else:\n        print('NO')", "def solve():\n    (n, m) = map(int, input().split())\n    if n == 1 or m == 1:\n        A = []\n        B = []\n        for i in range(n):\n            A.append(list(map(int, input().split()))[:m])\n        for i in range(n):\n            B.append(list(map(int, input().split()))[:m])\n        for i in range(n):\n            for j in range(m):\n                if A[i][j] != B[i][j]:\n                    return 'NO'\n    else:\n        (A1, A2, B1, B2) = ({}, {}, {}, {})\n        for i in range(n):\n            num = list(map(int, input().split(' ')))[:m]\n            for j in range(m):\n                if i + j & 1 == 0:\n                    if num[j] not in A2.keys():\n                        A2[num[j]] = 1\n                    else:\n                        A2[num[j]] += 1\n                elif num[j] not in A1.keys():\n                    A1[num[j]] = 1\n                else:\n                    A1[num[j]] += 1\n        for i in range(n):\n            num = list(map(int, input().split(' ')))[:m]\n            for j in range(m):\n                if i + j & 1 == 0:\n                    if num[j] not in B2.keys():\n                        B2[num[j]] = 1\n                    else:\n                        B2[num[j]] += 1\n                elif num[j] not in B1.keys():\n                    B1[num[j]] = 1\n                else:\n                    B1[num[j]] += 1\n        for (key, val) in A1.items():\n            if key in B1.keys():\n                if val != B1[key]:\n                    return 'NO'\n            else:\n                return 'NO'\n        for (key, val) in A2.items():\n            if key in B2.keys():\n                if val != B2[key]:\n                    return 'NO'\n            else:\n                return 'NO'\n    return 'YES'\ntest = int(input())\nfor i in range(test):\n    print(solve())", "def check(n, m):\n    (l1, l2) = ([], [])\n    for i in range(n):\n        a = list(map(int, input().split()))\n        for j in range(m):\n            if (i + j) % 2 == 0:\n                l1.append(a[j])\n            else:\n                l2.append(a[j])\n    l1.sort()\n    l2.sort()\n    return (l1, l2)\nfor _ in range(int(input())):\n    (n, m) = map(int, input().split())\n    if n == 1 or m == 1:\n        (l1, l2) = ([], [])\n        for i in range(n):\n            a = list(map(int, input().split()))\n            for j in range(m):\n                l1.append(a[j])\n        for i in range(n):\n            a = list(map(int, input().split()))\n            for j in range(m):\n                l2.append(a[j])\n        if l1 == l2:\n            print('YES')\n        else:\n            print('NO')\n    else:\n        (lst1, lst2) = check(n, m)\n        (lst3, lst4) = check(n, m)\n        if lst1 == lst3 and lst2 == lst4:\n            print('YES')\n        else:\n            print('NO')", "import collections\nfor i in range(int(input())):\n    (n, m) = [int(x) for x in input().split()]\n    N = []\n    M = []\n    for i in range(n):\n        N.append([int(x) for x in input().split()])\n    for i in range(n):\n        M.append([int(x) for x in input().split()])\n    if n == 1 or m == 1:\n        if N != M:\n            print('NO')\n        else:\n            print('YES')\n    else:\n        d = {'even': [], 'odd': []}\n        D = {'even': [], 'odd': []}\n        for j in range(n):\n            for k in range(m):\n                if (j + k) % 2 == 0:\n                    d['even'].append(N[j][k])\n                    D['even'].append(M[j][k])\n                else:\n                    d['odd'].append(N[j][k])\n                    D['odd'].append(M[j][k])\n        if collections.Counter(d['even']) == collections.Counter(D['even']):\n            if collections.Counter(d['odd']) == collections.Counter(D['odd']):\n                print('YES')\n            else:\n                print('NO')\n        else:\n            print('NO')", "from collections import defaultdict\nt = int(input())\nwhile t:\n    (n, m) = map(int, input().split())\n    a = []\n    for i in range(n):\n        _temp = list(map(int, input().split()))\n        a.append(_temp)\n    b = []\n    for i in range(n):\n        _temp = list(map(int, input().split()))\n        b.append(_temp)\n    if not (n == 1 or m == 1):\n        diag_counter_a = {0: defaultdict(int), 1: defaultdict(int)}\n        diag_counter_b = {0: defaultdict(int), 1: defaultdict(int)}\n        for i in range(n):\n            for j in range(m):\n                diag_counter_a[(i + j) % 2][a[i][j]] += 1\n                diag_counter_b[(i + j) % 2][b[i][j]] += 1\n        if diag_counter_a == diag_counter_b:\n            print('YES')\n        else:\n            print('NO')\n    elif a == b:\n        print('YES')\n    else:\n        print('NO')\n    t -= 1", "t = int(input())\nwhile t > 0:\n    t -= 1\n    (n, m) = map(int, input().split())\n    if n == 1 or m == 1:\n        b = True\n        a1 = []\n        a2 = []\n        for i in range(n):\n            a1.append(list(map(int, input().split())))\n        for i in range(n):\n            a2.append(list(map(int, input().split())))\n        for i in range(n):\n            for j in range(m):\n                if a1[i][j] != a2[i][j]:\n                    b = False\n        if b:\n            print('YES')\n        else:\n            print('NO')\n        continue\n    else:\n        num = 0\n        e1 = {}\n        o1 = {}\n        o2 = {}\n        e2 = {}\n        a1 = []\n        a2 = []\n        for i in range(n):\n            a1.append(list(map(int, input().split())))\n        for i in range(n):\n            a2.append(list(map(int, input().split())))\n        for i in range(n):\n            for j in range(m):\n                num = a1[i][j]\n                if i + j & 1 == 0:\n                    e1[num] = e1.get(num, 0) + 1\n                else:\n                    o1[num] = o1.get(num, 0) + 1\n        for i in range(n):\n            for j in range(m):\n                num = a2[i][j]\n                if i + j & 1 == 0:\n                    e2[num] = e2.get(num, 0) + 1\n                else:\n                    o2[num] = o2.get(num, 0) + 1\n        same = True\n        for (i, j) in e1.items():\n            if j != e2.get(i, 0):\n                same = False\n                break\n        for (i, j) in o1.items():\n            if j != o2.get(i, 0):\n                same = False\n                break\n        if same:\n            print('YES')\n        else:\n            print('NO')", "def angledflip():\n    (n, m) = map(int, input().split())\n    (a, b, c, d) = ([], [], [], [])\n    if n == 1 or m == 1:\n        for i in range(n):\n            t1 = list(map(int, input().split()))\n            a.append(t1)\n        for i in range(n):\n            t1 = list(map(int, input().split()))\n            b.append(t1)\n        if a == b:\n            return 'YES'\n        else:\n            return 'NO'\n    for i in range(n):\n        t1 = list(map(int, input().split()))\n        for j in range(len(t1)):\n            if (i ^ j) % 2:\n                a.append(t1[j])\n            else:\n                b.append(t1[j])\n    for i in range(n):\n        t2 = list(map(int, input().split()))\n        for j in range(len(t2)):\n            if (i ^ j) % 2:\n                c.append(t2[j])\n            else:\n                d.append(t2[j])\n    a.sort()\n    b.sort()\n    c.sort()\n    d.sort()\n    if a == c and b == d:\n        return 'YES'\n    else:\n        return 'NO'\nt = int(input())\nfor _ in range(t):\n    print(angledflip())", "for _ in range(int(input())):\n    try:\n        (a, b, c, d) = ([], [], [], [])\n        (n, m) = list(map(int, input().split()))\n        if n == 1 or m == 1:\n            for i in range(n):\n                temp = list(map(int, input().split()))\n                for j in range(m):\n                    a.append(temp[j])\n            for i in range(n):\n                temp = list(map(int, input().split()))\n                for j in range(m):\n                    b.append(temp[j])\n            if a == b:\n                print('YES')\n            else:\n                print('NO')\n            continue\n        for i in range(n):\n            temp = list(map(int, input().split()))\n            for j in range(m):\n                if (i ^ j) % 2:\n                    a.append(temp[j])\n                else:\n                    b.append(temp[j])\n        for i in range(n):\n            temp = list(map(int, input().split()))\n            for j in range(m):\n                if (i ^ j) % 2:\n                    c.append(temp[j])\n                else:\n                    d.append(temp[j])\n        a.sort()\n        b.sort()\n        c.sort()\n        d.sort()\n        if a == c and b == d:\n            print('YES')\n        else:\n            print('NO')\n    except:\n        continue", "for i in range(int(input())):\n    [row, col] = [int(ele) for ele in input().split()]\n    if row == 1 or col == 1:\n        mat1 = [[int(ele) for ele in input().split()] for i in range(row)]\n        mat2 = [[int(ele) for ele in input().split()] for i in range(row)]\n        if mat1 == mat2:\n            print('YES')\n        else:\n            print('NO')\n    else:\n        e1 = {}\n        e2 = {}\n        o1 = {}\n        o2 = {}\n        for i in range(row):\n            line = [int(ele) for ele in input().split()]\n            for j in range(col):\n                if (i + j) % 2 == 0:\n                    e1[line[j]] = e1.get(line[j], 0) + 1\n                else:\n                    o1[line[j]] = o1.get(line[j], 0) + 1\n        for i in range(row):\n            line = [int(ele) for ele in input().split()]\n            for j in range(col):\n                if (i + j) % 2 == 0:\n                    e2[line[j]] = e2.get(line[j], 0) + 1\n                else:\n                    o2[line[j]] = o2.get(line[j], 0) + 1\n        if e1 == e2 and o1 == o2:\n            print('YES')\n        else:\n            print('NO')", "for _ in range(int(input())):\n    try:\n        (a, b, c, d) = ([], [], [], [])\n        (n, m) = list(map(int, input().split()))\n        if n == 1 or m == 1:\n            for i in range(n):\n                temp = list(map(int, input().split()))\n                for j in range(m):\n                    a.append(temp[j])\n            for i in range(n):\n                temp = list(map(int, input().split()))\n                for j in range(m):\n                    b.append(temp[j])\n            if a == b:\n                print('YES')\n            else:\n                print('NO')\n            continue\n        for i in range(n):\n            temp = list(map(int, input().split()))\n            for j in range(m):\n                if (i ^ j) % 2:\n                    a.append(temp[j])\n                else:\n                    b.append(temp[j])\n        for i in range(n):\n            temp = list(map(int, input().split()))\n            for j in range(m):\n                if (i ^ j) % 2:\n                    c.append(temp[j])\n                else:\n                    d.append(temp[j])\n        a.sort()\n        b.sort()\n        c.sort()\n        d.sort()\n        if a == c and b == d:\n            print('YES')\n        else:\n            print('NO')\n    except:\n        continue", "def is_arr_equal(arr1, arr2):\n    if len(arr1) != len(arr2):\n        return False\n    count = {}\n    for i in arr1:\n        if i in count:\n            count[i] += 1\n        else:\n            count[i] = 1\n    for i in arr2:\n        if i not in count or count[i] == 0:\n            return False\n        else:\n            count[i] -= 1\n    return True\nt = int(input())\nfor _ in range(t):\n    (n, m) = map(int, input().split())\n    a = []\n    b = []\n    for i in range(n):\n        arr = list(map(int, input().split()))\n        a.append(arr)\n    for i in range(n):\n        arr = list(map(int, input().split()))\n        b.append(arr)\n    fl = 0\n    evenarr = []\n    oddarr = []\n    evenarr2 = []\n    oddarr2 = []\n    if n == 1 or m == 1:\n        fl = 0\n        for i in range(n):\n            for j in range(m):\n                if a[i][j] != b[i][j]:\n                    fl = 1\n                    break\n            if fl == 1:\n                break\n        if fl == 1:\n            print('NO')\n        else:\n            print('YES')\n        continue\n    for i in range(n):\n        for j in range(m):\n            if (i + j) % 2 == 0:\n                evenarr.append(a[i][j])\n                evenarr2.append(b[i][j])\n            else:\n                oddarr.append(a[i][j])\n                oddarr2.append(b[i][j])\n    if is_arr_equal(evenarr, evenarr2) and is_arr_equal(oddarr, oddarr2):\n        print('YES')\n    else:\n        print('NO')", "for i in range(int(input())):\n    [row, col] = [int(ele) for ele in input().split()]\n    mat1 = [[int(ele) for ele in input().split()] for i in range(row)]\n    mat2 = [[int(ele) for ele in input().split()] for i in range(row)]\n    if row == 1 or col == 1:\n        if mat1 == mat2:\n            print('YES')\n        else:\n            print('NO')\n    else:\n        e1 = {}\n        e2 = {}\n        o1 = {}\n        o2 = {}\n        for i in range(row):\n            for j in range(col):\n                if (i + j) % 2 == 0:\n                    e1[mat1[i][j]] = e1.get(mat1[i][j], 0) + 1\n                    e2[mat2[i][j]] = e2.get(mat2[i][j], 0) + 1\n                else:\n                    o1[mat1[i][j]] = o1.get(mat1[i][j], 0) + 1\n                    o2[mat2[i][j]] = o2.get(mat2[i][j], 0) + 1\n        if e1 == e2 and o1 == o2:\n            print('YES')\n        else:\n            print('NO')", "for _ in range(int(input())):\n    n_m = [int(i) for i in input().split(' ')]\n    a = []\n    b = []\n    for i in range(n_m[0]):\n        a.append([int(i) for i in input().split(' ')])\n    for i in range(n_m[0]):\n        b.append([int(i) for i in input().split(' ')])\n    list_a_1 = []\n    list_a_2 = []\n    list_b_1 = []\n    list_b_2 = []\n    for x in range(n_m[0]):\n        for y in range(n_m[1]):\n            if (x + y) % 2 == 0:\n                list_a_1.append(a[x][y])\n                list_b_1.append(b[x][y])\n            elif (x + y) % 2 == 1:\n                list_a_2.append(a[x][y])\n                list_b_2.append(b[x][y])\n    list_a_1 = sorted(list_a_1)\n    list_b_1 = sorted(list_b_1)\n    list_a_2 = sorted(list_a_2)\n    list_b_2 = sorted(list_b_2)\n    if n_m[0] == 1 or n_m[1] == 1:\n        if a == b:\n            print('YES')\n        else:\n            print('NO')\n    elif list_a_1 == list_b_1 and list_a_2 == list_b_2:\n        print('YES')\n    else:\n        print('NO')", "def res(n, m):\n    if n == 1 or m == 1:\n        a = [0] * n\n        b = [0] * n\n        for i in range(n):\n            if m == 1:\n                a[i] = [int(input())]\n            else:\n                a[i] = list(map(int, input().split()))\n        for i in range(n):\n            if m == 1:\n                b[i] = [int(input())]\n            else:\n                b[i] = list(map(int, input().split()))\n        for i in range(n):\n            for j in range(m):\n                if a[i][j] != b[i][j]:\n                    return 'NO'\n    else:\n        d1 = {}\n        d2 = {}\n        d3 = {}\n        d4 = {}\n        for i in range(n):\n            num2 = list(map(int, input().split()))\n            for j in range(m):\n                num = num2[j]\n                if (i + j) % 2 == 0:\n                    if num in d1:\n                        d1[num] += 1\n                    else:\n                        d1[num] = 1\n                elif num in d2:\n                    d2[num] += 1\n                else:\n                    d2[num] = 1\n        for i in range(n):\n            num2 = list(map(int, input().split()))\n            for j in range(m):\n                num = num2[j]\n                if (i + j) % 2 == 0:\n                    if num in d3:\n                        d3[num] += 1\n                    else:\n                        d3[num] = 1\n                elif num in d4:\n                    d4[num] += 1\n                else:\n                    d4[num] = 1\n        for it in list(d1.keys()):\n            if it not in d3:\n                return 'NO'\n        for it in list(d2.keys()):\n            if it not in d4:\n                return 'NO'\n    return 'YES'\nT = int(input())\nfor i in range(T):\n    (n, m) = map(int, input().split())\n    print(res(n, m))", "T = int(input(''))\nfor i in range(T):\n    str_in = input('')\n    l1 = [int(c) for c in str_in.split(' ')]\n    if l1[0] == 1:\n        str_in_1 = input('')\n        str_in_2 = input('')\n        if str_in_1 == str_in_2:\n            print('YES')\n        else:\n            print('NO')\n    elif l1[1] == 1:\n        first = []\n        second = []\n        for j in range(l1[0]):\n            l = int(input(''))\n            first.append(l)\n        for j in range(l1[0]):\n            l = int(input(''))\n            second.append(l)\n        if first == second:\n            print('YES')\n        else:\n            print('NO')\n    else:\n        evens_1 = []\n        odds_1 = []\n        evens_2 = []\n        odds_2 = []\n        for j in range(l1[0]):\n            str_in = input('')\n            l2 = [int(c) for c in str_in.split(' ')]\n            for k in range(len(l2)):\n                if j % 2 == 0:\n                    if k % 2 == 0:\n                        odds_1.append(l2[k])\n                    else:\n                        evens_1.append(l2[k])\n                elif k % 2 == 1:\n                    odds_1.append(l2[k])\n                else:\n                    evens_1.append(l2[k])\n        for x in range(l1[0]):\n            str_in = input('')\n            l2 = [int(c) for c in str_in.split(' ')]\n            for y in range(len(l2)):\n                if x % 2 == 0:\n                    if y % 2 == 0:\n                        odds_2.append(l2[y])\n                    else:\n                        evens_2.append(l2[y])\n                elif y % 2 == 1:\n                    odds_2.append(l2[y])\n                else:\n                    evens_2.append(l2[y])\n        odds_1.sort()\n        odds_2.sort()\n        evens_1.sort()\n        evens_2.sort()\n        if odds_1 == odds_2 and evens_2 == evens_1:\n            print('YES')\n        else:\n            print('NO')", "t = int(input())\n\ndef makeArr(grid, n, m):\n    odd = []\n    even = []\n    for i in range(0, n):\n        for j in range(0, m):\n            if (i + j) % 2 == 1:\n                odd.append(grid[i][j])\n            else:\n                even.append(grid[i][j])\n    return [sorted(odd), sorted(even)]\nwhile t != 0:\n    (n, m) = map(int, input().split())\n    grid1 = []\n    grid2 = []\n    for i in range(0, n):\n        row = list(map(int, input().split()))\n        grid1.append(row)\n    for i in range(0, n):\n        row = list(map(int, input().split()))\n        grid2.append(row)\n    if m == 1 or n == 1:\n        if grid1 == grid2:\n            print('YES')\n        else:\n            print('NO')\n    else:\n        arr1 = makeArr(grid1, n, m)\n        arr2 = makeArr(grid2, n, m)\n        if arr1[0] == arr2[0] and arr1[1] == arr2[1]:\n            print('YES')\n        else:\n            print('NO')\n    t = t - 1", "for _ in range(int(input())):\n    (n, m) = map(int, input().split())\n    arr1 = []\n    arr2 = []\n    arr3 = []\n    arr4 = []\n    for i in range(n):\n        ele = list(map(int, input().split()))\n        arr1.append(ele)\n        arr2.extend(ele)\n    for j in range(n):\n        ele = list(map(int, input().split()))\n        arr3.append(ele)\n        arr4.extend(ele)\n    arr2.sort()\n    arr4.sort()\n    if n == 1 or m == 1:\n        print('NO')\n    elif arr2 == arr4:\n        if n != m:\n            print('YES')\n        else:\n            arr_dia1 = []\n            arr_non_dia1 = []\n            arr_dia2 = []\n            arr_non_dia2 = []\n            for i in range(n):\n                arr_dia1.append(arr1[i][i])\n                arr_non_dia1.append(arr1[i][-i - 1])\n                arr_dia2.append(arr3[i][i])\n                arr_non_dia2.append(arr3[i][-i - 1])\n            arr_dia1.sort()\n            arr_non_dia1.sort()\n            arr_dia2.sort()\n            arr_non_dia2.sort()\n            if arr_dia1 == arr_dia2 and arr_non_dia1 == arr_non_dia2:\n                print('YES')\n            elif n % 2 == 0:\n                print('YES')\n            else:\n                print('NO')\n    else:\n        print('NO')", "for _ in range(int(input())):\n    (n, m) = map(int, input().split())\n    (a, b) = ([], [])\n    for i in range(n):\n        a.append([int(x) for x in input().split()])\n    for i in range(n):\n        b.append([int(x) for x in input().split()])\n    if n == 1 or m == 1:\n        if a == b:\n            print('YES')\n        else:\n            print('NO')\n        continue\n    (adia, anod, bdia, bnod) = ([], [], [], [])\n    for i in range(n):\n        for j in range(m):\n            if (i ^ j) & 1:\n                adia.append(a[i][j])\n                bdia.append(b[i][j])\n            else:\n                anod.append(a[i][j])\n                bnod.append(b[i][j])\n    adia.sort()\n    bdia.sort()\n    if adia == bdia:\n        anod.sort()\n        bnod.sort()\n        if anod == bnod:\n            print('YES')\n        else:\n            print('NO')\n    else:\n        print('NO')", "def solve(arra, arrb, n, m):\n    if n == 1 or m == 1:\n        for i in range(n):\n            for j in range(m):\n                if arra[i][j] != arrb[i][j]:\n                    return False\n    else:\n        insta = {}\n        for i in range(n):\n            for j in range(m):\n                if arra[i][j] not in insta:\n                    insta[arra[i][j]] = 1\n                else:\n                    insta[arra[i][j]] += 1\n        instb = {}\n        for i in range(n):\n            for j in range(m):\n                if arrb[i][j] not in instb:\n                    instb[arrb[i][j]] = 1\n                else:\n                    instb[arrb[i][j]] += 1\n        for key in insta:\n            if key not in instb:\n                return False\n            elif insta[key] != instb[key]:\n                return False\n        for key in instb:\n            if key not in insta:\n                return False\n            elif instb[key] != insta[key]:\n                return False\n    return True\ncase = int(input())\nfor _ in range(case):\n    (n, m) = map(int, input().split(' '))\n    arra = []\n    for i in range(n):\n        arra.append(list(map(int, input().split(' '))))\n    arrb = []\n    for i in range(n):\n        arrb.append(list(map(int, input().split(' '))))\n    ans = solve(arra, arrb, n, m)\n    if ans:\n        print('YES')\n    else:\n        print('NO')", "for _ in range(int(input())):\n    (n, m) = [int(x) for x in input().split()]\n    a = []\n    b = []\n    if m == 1 or n == 1:\n        a_int = []\n        b_int = []\n        for i in range(n):\n            a_int = [int(x) for x in input().split()]\n            a.append(a_int)\n        for i in range(n):\n            b_int = [int(x) for x in input().split()]\n            b.append(b_int)\n        if a == b:\n            print('YES')\n        else:\n            print('NO')\n    else:\n        a_even = []\n        b_even = []\n        a_odd = []\n        b_odd = []\n        a_int = []\n        b_int = []\n        for i in range(n):\n            a_int = [int(x) for x in input().split()]\n            for j in range(len(a_int)):\n                if (i + j) % 2 == 0:\n                    a_even.append(a_int[j])\n                else:\n                    a_odd.append(a_int[j])\n        for i in range(n):\n            b_int = [int(x) for x in input().split()]\n            for j in range(len(b_int)):\n                if (i + j) % 2 == 0:\n                    b_even.append(b_int[j])\n                else:\n                    b_odd.append(b_int[j])\n        a_even.sort()\n        b_even.sort()\n        a_odd.sort()\n        b_odd.sort()\n        if a_even == b_even and a_odd == b_odd:\n            print('YES')\n        else:\n            print('NO')", "def flip_mat():\n    (n, m) = map(int, input().split())\n    flag = True\n    if n == 1 or m == 1:\n        arr = []\n        brr = []\n        for i in range(n):\n            temp = list(map(int, input().split()))\n            arr.append(temp)\n        for i in range(n):\n            temp = list(map(int, input().split()))\n            brr.append(temp)\n        if arr != brr:\n            flag = False\n    else:\n        d1 = {}\n        d2 = {}\n        d3 = {}\n        d4 = {}\n        for i in range(n):\n            temp = list(map(int, input().split()))\n            for k in range(m):\n                element = temp.pop(0)\n                if (i + k) % 2 != 0:\n                    if element not in d1:\n                        d1[element] = 1\n                    else:\n                        d1[element] += 1\n                elif element not in d2:\n                    d2[element] = 1\n                else:\n                    d2[element] += 1\n        for i in range(n):\n            temp = list(map(int, input().split()))\n            for k in range(m):\n                element = temp.pop(0)\n                if (i + k) % 2 != 0:\n                    if element not in d3:\n                        d3[element] = 1\n                    else:\n                        d3[element] += 1\n                elif element not in d4:\n                    d4[element] = 1\n                else:\n                    d4[element] += 1\n        if d1 != d3 or d2 != d4:\n            flag = False\n    if flag:\n        print('YES')\n    else:\n        print('NO')\nfor _ in range(int(input())):\n    flip_mat()", "import functools\nfor _ in range(int(input())):\n    (n, m) = map(int, input().split())\n    if n == 1 or m == 1:\n        a = []\n        b = []\n        for i in range(n):\n            a.append(list(map(int, input().split())))\n        for i in range(n):\n            b.append(list(map(int, input().split())))\n        if a == b:\n            print('YES')\n        else:\n            print('NO')\n    else:\n        a1 = []\n        b1 = []\n        for i in range(n):\n            a1 += list(map(int, input().split()))\n        for j in range(n):\n            b1 += list(map(int, input().split()))\n        a = []\n        b = []\n        c = []\n        d = []\n        z = 0\n        while z < n * m:\n            for i in range(n):\n                for j in range(m):\n                    if (i ^ j) % 2:\n                        a.append(a1[z])\n                        z += 1\n                    else:\n                        b.append(a1[z])\n                        z += 1\n        z1 = 0\n        while z1 < n * m:\n            for i in range(n):\n                for j in range(m):\n                    if (i ^ j) % 2:\n                        c.append(b1[z1])\n                        z1 += 1\n                    else:\n                        d.append(b1[z1])\n                        z1 += 1\n        a.sort()\n        b.sort()\n        c.sort()\n        d.sort()\n        if a == c and b == d:\n            print('YES')\n        else:\n            print('NO')", "t = int(input())\nwhile t > 0:\n    t = t - 1\n    (x, y) = map(int, input().split())\n    a = []\n    for i in range(0, x):\n        a.append([int(j) for j in input().split()])\n    b = []\n    for i in range(0, x):\n        b.append([int(j) for j in input().split()])\n    oddA = []\n    evenA = []\n    evenB = []\n    oddB = []\n    if x == 1 or y == 1:\n        if a == b:\n            print('YES')\n        else:\n            print('NO')\n    else:\n        for i in range(x):\n            for j in range(y):\n                if (i + j) % 2 == 0:\n                    evenA.append(a[i][j])\n                else:\n                    oddA.append(a[i][j])\n        for i in range(x):\n            for j in range(y):\n                if (i + j) % 2 == 0:\n                    evenB.append(b[i][j])\n                else:\n                    oddB.append(b[i][j])\n        evenA = sorted(evenA)\n        evenB = sorted(evenB)\n        oddA = sorted(oddA)\n        oddB = sorted(oddB)\n        if evenA == evenB and oddA == oddB:\n            res = 'YES'\n        else:\n            res = 'NO'\n        print(res)", "from collections import Counter\nimport numpy as np\nt = int(input())\nfor _ in range(t):\n    (n, m) = map(int, input().split())\n    (mat1, mat2) = ([], [])\n    for i in range(n):\n        mat1.append(list(map(int, input().split())))\n    for i in range(n):\n        mat2.append(list(map(int, input().split())))\n    if n == 1 or m == 1:\n        if mat1 == mat2:\n            print('YES')\n        else:\n            print('NO')\n    else:\n        (x1, x2, y1, y2) = ([], [], [], [])\n        for i in range(n):\n            for j in range(m):\n                if i % 2 == j % 2:\n                    x1.append(mat1[i][j])\n                    y1.append(mat2[i][j])\n                else:\n                    x2.append(mat1[i][j])\n                    y2.append(mat2[i][j])\n        (x1, x2, y1, y2) = (Counter(x1), Counter(x2), Counter(y1), Counter(y2))\n        if x1 == y1 and x2 == y2:\n            print('YES')\n        else:\n            print('NO')", "for i in range(int(input())):\n    (n, m) = map(int, input().split())\n    a = []\n    b = []\n    c = []\n    d = []\n    if n == 1 or m == 1:\n        arr = [list(map(int, input().split())) for i in range(n)]\n        for i in range(n):\n            for j in range(m):\n                a.append(arr[i][j])\n        brr = [list(map(int, input().split())) for i in range(n)]\n        for i in range(n):\n            for j in range(m):\n                b.append(brr[i][j])\n        if a == b:\n            print('YES')\n        else:\n            print('NO')\n    else:\n        arr = [list(map(int, input().split())) for i in range(n)]\n        for i in range(n):\n            for j in range(m):\n                if (i ^ j) % 2:\n                    a.append(arr[i][j])\n                else:\n                    b.append(arr[i][j])\n        brr = [list(map(int, input().split())) for i in range(n)]\n        for i in range(n):\n            for j in range(m):\n                if (i ^ j) % 2:\n                    c.append(brr[i][j])\n                else:\n                    d.append(brr[i][j])\n        a.sort()\n        b.sort()\n        c.sort()\n        d.sort()\n        if a == c and b == d:\n            print('YES')\n        else:\n            print('NO')", "test_case = int(input())\noutput = []\n\ndef translate_input_small(r):\n    matrix = []\n    for i in range(r):\n        line = input().split()\n        line = list(map(int, line))\n        matrix += line\n    return matrix\n\ndef translate_input_large(r, c):\n    odd_pattern = []\n    even_pattern = []\n    for i in range(r):\n        line = input().split()\n        line = list(map(int, line))\n        if i % 2 == 0:\n            odd_pattern += [line[i] for i in range(c) if i % 2 == 1]\n            even_pattern += [line[i] for i in range(c) if i % 2 == 0]\n        else:\n            odd_pattern += [line[i] for i in range(c) if i % 2 == 0]\n            even_pattern += [line[i] for i in range(c) if i % 2 == 1]\n    return (sorted(even_pattern), sorted(odd_pattern))\nfor i in range(test_case):\n    case = input().split()\n    r = int(case[0])\n    c = int(case[1])\n    if r != 1 and c != 1:\n        matrix1 = translate_input_large(r, c)\n        matrix1_even = matrix1[0]\n        matrix1_odd = matrix1[1]\n        matrix2 = translate_input_large(r, c)\n        matrix2_even = matrix2[0]\n        matrix2_odd = matrix2[1]\n        if matrix1_even == matrix2_even and matrix1_odd == matrix2_odd:\n            print('YES')\n        else:\n            print('NO')\n    else:\n        matrix1 = translate_input_small(r)\n        matrix2 = translate_input_small(r)\n        matrix2.reverse()\n        if matrix1 == matrix2:\n            print('YES')\n        else:\n            print('NO')", "for _ in range(int(input())):\n    (N, M) = map(int, input().split())\n    if N == 1 or M == 1:\n        arr_1 = []\n        arr_2 = []\n        for i in range(N):\n            v = list(map(int, input().split()))\n            arr_1.extend(v)\n        for i in range(N):\n            v = list(map(int, input().split()))\n            arr_2.extend(v)\n        if arr_1 == arr_2:\n            print('YES')\n        else:\n            print('NO')\n    else:\n        odd = []\n        even = []\n        for i in range(N):\n            v = list(map(int, input().split()))\n            for j in range(M):\n                if (i + j) % 2 == 0:\n                    even.append(v[j])\n                else:\n                    odd.append(v[j])\n        even_1 = []\n        odd_1 = []\n        for i in range(N):\n            v = list(map(int, input().split()))\n            for j in range(M):\n                if (i + j) % 2 == 0:\n                    even_1.append(v[j])\n                else:\n                    odd_1.append(v[j])\n        even.sort()\n        even_1.sort()\n        odd.sort()\n        odd_1.sort()\n        if even == even_1 and odd == odd_1:\n            print('YES')\n        else:\n            print('NO')", "t = int(input())\nfor i in range(t):\n    (n, m) = [int(x) for x in input().split()]\n    A = []\n    for i in range(n):\n        A.append([int(x) for x in input().split()])\n    B = []\n    for i in range(n):\n        B.append([int(x) for x in input().split()])\n    if n == 1 or m == 1:\n        if A != B:\n            print('NO')\n        else:\n            print('YES')\n    else:\n        a1 = []\n        b1 = []\n        a2 = []\n        b2 = []\n        for i in range(n):\n            for j in range(m):\n                if (i + j) % 2 == 0:\n                    a1.append(A[i][j])\n                    b1.append(B[i][j])\n                else:\n                    a2.append(A[i][j])\n                    b2.append(B[i][j])\n        a1.sort()\n        a2.sort()\n        b1.sort()\n        b2.sort()\n        if a1 == b1 and a2 == b2:\n            print('YES')\n        else:\n            print('NO')", "t = int(input())\nfor _ in range(t):\n    (n, m) = map(int, input().split())\n    (a, b) = ([], [])\n    for i in range(n):\n        a.append(list(map(int, input().split())))\n    for i in range(n):\n        b.append(list(map(int, input().split())))\n    if n == 1 or m == 1:\n        if a != b:\n            print('NO')\n            continue\n    (al1, al2, bl1, bl2) = ([], [], [], [])\n    (io, jo) = (True, True)\n    for i in range(n):\n        jo = io\n        for j in range(m):\n            if jo:\n                al1.append(a[i][j])\n                bl1.append(b[i][j])\n                jo = False\n            else:\n                al2.append(a[i][j])\n                bl2.append(b[i][j])\n                jo = True\n        if io:\n            io = False\n        else:\n            io = True\n    al1.sort()\n    al2.sort()\n    bl1.sort()\n    bl2.sort()\n    ans = 'YES'\n    if al1 != bl1 or al2 != bl2:\n        ans = 'NO'\n    print(ans)"]