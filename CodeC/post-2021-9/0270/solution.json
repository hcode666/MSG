["n = int(input())\nfor i in range(n):\n    r = int(input())\n    a = input()\n    (i, j) = (0, r - 1)\n    remove = 0\n    while i <= j:\n        if a[i] == '(' and a[j] == ')':\n            (i, j) = (i + 1, j - 1)\n        elif a[i] == '(' and a[j] == '(':\n            j = j - 1\n            remove += 1\n        elif a[i] == ')' and a[j] == ')':\n            i = i + 1\n            remove += 1\n        else:\n            (i, j) = (i + 1, j - 1)\n            remove += 2\n    print(remove)", "import sys\ninput = sys.stdin.readline\n\ndef inp():\n    return int(input())\n\ndef inlt():\n    return list(map(int, input().split()))\n\ndef insr():\n    return input().strip()\n\ndef invr():\n    return map(int, input().split())\n\ndef outp(n):\n    sys.stdout.write(str(n) + '\\n')\n\ndef outlt(lst):\n    sys.stdout.write(' '.join(map(str, lst)) + '\\n')\n\ndef outplt(lst):\n    sys.stdout.write('\\n'.join(map(str, lst)))\n\ndef outpltlt(lst):\n    sys.stdout.write('\\n'.join(map(str, (' '.join(map(str, a)) for a in lst))))\nans = []\nfor _ in range(inp()):\n    N = inp()\n    S = insr()\n    (bc, bo) = (S.count(')'), 0)\n    for s in S:\n        if s == '(':\n            bo += 1\n        else:\n            bc -= 1\n        if bo == bc:\n            break\n    ans.append(N - 2 * bc)\noutplt(ans)", "import sys\ninput = sys.stdin.readline\n\ndef inp():\n    return int(input())\n\ndef inlt():\n    return list(map(int, input().split()))\n\ndef insr():\n    return input().strip()\n\ndef invr():\n    return map(int, input().split())\n\ndef outp(n):\n    sys.stdout.write(str(n) + '\\n')\n\ndef outlt(lst):\n    sys.stdout.write(' '.join(map(str, lst)) + '\\n')\n\ndef outplt(lst):\n    sys.stdout.write('\\n'.join(map(str, lst)))\n\ndef outpltlt(lst):\n    sys.stdout.write('\\n'.join(map(str, (' '.join(map(str, a)) for a in lst))))\nans = []\nfor _ in range(inp()):\n    N = inp()\n    S = insr()\n    (bc, bo) = (S.count(')'), 0)\n    for s in S:\n        if s == '(':\n            bo += 1\n        else:\n            bc -= 1\n        if bo == bc:\n            break\n    ans.append(N - 2 * bc)\noutplt(ans)", "for _ in range(int(input())):\n    n = int(input())\n    string = input()\n    count_c = string.count(')')\n    count_o = 0\n    for i in string:\n        if count_o == count_c:\n            break\n        if i == '(':\n            count_o += 1\n        else:\n            count_c -= 1\n    print(n - count_o * 2)", "import sys\ninput = sys.stdin.readline\n\ndef inp():\n    return int(input())\n\ndef inlt():\n    return list(map(int, input().split()))\n\ndef insr():\n    return input().strip()\n\ndef invr():\n    return map(int, input().split())\n\ndef outp(n):\n    sys.stdout.write(str(n) + '\\n')\n\ndef outlt(lst):\n    sys.stdout.write(' '.join(map(str, lst)) + '\\n')\n\ndef outplt(lst):\n    sys.stdout.write('\\n'.join(map(str, lst)))\n\ndef outpltlt(lst):\n    sys.stdout.write('\\n'.join(map(str, (' '.join(map(str, a)) for a in lst))))\nans = []\nfor _ in range(inp()):\n    N = inp()\n    S = insr()\n    (bc, bo) = (S.count(')'), 0)\n    for s in S:\n        if s == '(':\n            bo += 1\n        else:\n            bc -= 1\n        if bo == bc:\n            break\n    ans.append(N - 2 * bc)\noutplt(ans)", "import sys\ninput = sys.stdin.readline\n\ndef inp():\n    return int(input())\n\ndef inlt():\n    return list(map(int, input().split()))\n\ndef insr():\n    return input().strip()\n\ndef invr():\n    return map(int, input().split())\n\ndef outp(n):\n    sys.stdout.write(str(n) + '\\n')\n\ndef outlt(lst):\n    sys.stdout.write(' '.join(map(str, lst)) + '\\n')\n\ndef outplt(lst):\n    sys.stdout.write('\\n'.join(map(str, lst)))\n\ndef outpltlt(lst):\n    sys.stdout.write('\\n'.join(map(str, (' '.join(map(str, a)) for a in lst))))\nans = []\nfor _ in range(inp()):\n    N = inp()\n    S = insr()\n    (bc, bo) = (S.count(')'), 0)\n    for s in S:\n        if s == '(':\n            bo += 1\n        else:\n            bc -= 1\n        if bo == bc:\n            break\n    ans.append(N - 2 * bc)\noutplt(ans)", "for _ in range(int(input())):\n    n = int(input())\n    string = input()\n    count_c = string.count(')')\n    count_o = 0\n    for i in string:\n        if count_o == count_c:\n            break\n        if i == '(':\n            count_o += 1\n        else:\n            count_c -= 1\n    print(n - count_o * 2)", "for _ in range(int(input())):\n    n = int(input())\n    string = input()\n    count_c = string.count(')')\n    count_o = 0\n    for i in string:\n        if count_o == count_c:\n            break\n        if i == '(':\n            count_o += 1\n        else:\n            count_c -= 1\n    print(n - count_o * 2)", "for a0 in range(int(input())):\n    n = int(input())\n    s = input()\n    c = 0\n    forward = list()\n    backward = list()\n    for i in range(n):\n        if s[i] == '(':\n            c += 1\n        forward.append(c)\n    c = 0\n    for i in range(n):\n        if s[i] == ')':\n            c += 1\n        backward.append(c)\n    maxi = 0\n    z = min(forward[i], backward[n - 1] - backward[i])\n    for i in range(n):\n        if maxi < min(forward[i], backward[n - 1] - backward[i]):\n            maxi = min(forward[i], backward[n - 1] - backward[i])\n    print(n - 2 * maxi)", "T = int(input())\nfor _ in range(T):\n    N = int(input())\n    S = input()\n    (i, j) = (0, N - 1)\n    a = 0\n    while i <= j:\n        if S[i] == '(' and S[j] == ')':\n            (i, j) = (i + 1, j - 1)\n        elif S[i] == '(' and S[j] == '(':\n            j = j - 1\n            a += 1\n        elif S[i] == ')' and S[j] == ')':\n            i = i + 1\n            a += 1\n        else:\n            (i, j) = (i + 1, j - 1)\n            a += 2\n    print(a)", "T = int(input())\nfor _ in range(T):\n    N = int(input())\n    S = input()\n    (i, j) = (0, N - 1)\n    a = 0\n    while i <= j:\n        if S[i] == '(' and S[j] == ')':\n            (i, j) = (i + 1, j - 1)\n        elif S[i] == '(' and S[j] == '(':\n            j = j - 1\n            a += 1\n        elif S[i] == ')' and S[j] == ')':\n            i = i + 1\n            a += 1\n        else:\n            (i, j) = (i + 1, j - 1)\n            a += 2\n    print(a)", "T = int(input())\nfor _ in range(T):\n    N = int(input())\n    S = input()\n    (i, j) = (0, N - 1)\n    remove = 0\n    while i <= j:\n        if S[i] == '(' and S[j] == ')':\n            (i, j) = (i + 1, j - 1)\n        elif S[i] == '(' and S[j] == '(':\n            j = j - 1\n            remove += 1\n        elif S[i] == ')' and S[j] == ')':\n            i = i + 1\n            remove += 1\n        else:\n            (i, j) = (i + 1, j - 1)\n            remove += 2\n    print(remove)", "tests = int(input())\nfor i in range(tests):\n    length = int(input())\n    string = input()\n    opening = 0\n    closing = string.count(')')\n    gap = 10 ** 6\n    total = 0\n    for j in range(length):\n        if string[j] == '(':\n            opening += 1\n        if string[j] == ')':\n            closing -= 1\n        temp_gap = abs(opening - closing)\n        if temp_gap < gap:\n            total = opening + closing\n            gap = temp_gap\n    if total & 1:\n        total -= 1\n    print(length - total)", "tests = int(input())\nfor i in range(tests):\n    length = int(input())\n    string = input()\n    opening = 0\n    closing = string.count(')')\n    gap = 10 ** 6\n    total = 0\n    for j in range(length):\n        if string[j] == '(':\n            opening += 1\n        if string[j] == ')':\n            closing -= 1\n        temp_gap = abs(opening - closing)\n        if temp_gap < gap:\n            total = opening + closing\n            gap = temp_gap\n    if total & 1:\n        total -= 1\n    print(length - total)", "tests = int(input())\nfor i in range(tests):\n    length = int(input())\n    string = input()\n    opening = 0\n    closing = string.count(')')\n    gap = 10 ** 6\n    total = 0\n    for j in range(length):\n        if string[j] == '(':\n            opening += 1\n        if string[j] == ')':\n            closing -= 1\n        temp_gap = abs(opening - closing)\n        if temp_gap < gap:\n            total = opening + closing\n            gap = temp_gap\n    if total & 1:\n        total -= 1\n    print(length - total)", "tests = int(input())\nfor i in range(tests):\n    length = int(input())\n    string = input()\n    opening = 0\n    closing = 0\n    closing_arr = []\n    for j in string[::-1]:\n        if j == ')':\n            closing += 1\n        closing_arr.append(closing)\n    gap = 10 ** 6\n    total = 0\n    for j in range(length):\n        if string[j] == '(':\n            opening += 1\n        temp_gap = abs(opening - closing_arr[length - j - 1])\n        if temp_gap < gap:\n            total = opening + closing_arr[length - j - 1]\n            gap = temp_gap\n    if total & 1:\n        total -= 1\n    print(length - total)", "for i in range(int(input())):\n    n = int(input())\n    s = input()\n    (i, j) = (0, n - 1)\n    count = 0\n    while i <= j:\n        if s[i] == '(' and s[j] == '(':\n            j -= 1\n            count += 1\n        elif s[i] == ')' and s[j] == ')':\n            i += 1\n            count += 1\n        elif s[i] == ')' and s[j] == '(':\n            i += 1\n            j -= 1\n            count += 2\n        else:\n            i += 1\n            j -= 1\n    print(count)", "for _ in range(int(input())):\n    n = int(input())\n    temp = n\n    s1 = input()\n    i = count = 0\n    while i < n:\n        if s1[i] == '(':\n            for j in range(n - 1, i, -1):\n                if s1[j] == ')':\n                    count += 2\n                    n = j\n                    break\n                if j == i + 1:\n                    n = j\n        i += 1\n    print(temp - count)", "for _ in range(int(input())):\n    n = int(input())\n    string = input()\n    count_c = string.count(')')\n    count_o = 0\n    for i in string:\n        if count_o == count_c:\n            break\n        if i == '(':\n            count_o += 1\n        else:\n            count_c -= 1\n    print(n - count_o * 2)", "for _ in range(int(input())):\n    n = int(input())\n    string = input()\n    count_c = string.count(')')\n    count_o = 0\n    for i in string:\n        if count_o == count_c:\n            break\n        if i == '(':\n            count_o += 1\n        else:\n            count_c -= 1\n    print(n - count_o * 2)", "for _ in range(int(input())):\n    n = int(input())\n    string = input()\n    count_c = string.count(')')\n    count_o = 0\n    for i in string:\n        if count_o == count_c:\n            break\n        if i == '(':\n            count_o += 1\n        else:\n            count_c -= 1\n    print(n - count_o * 2)", "t = int(input())\nfor i in range(t):\n    n = int(input())\n    s = input()\n    (left, right) = (0, n - 1)\n    rem = 0\n    while left <= right:\n        if s[left] == '(' and s[right] == '(':\n            right -= 1\n            rem += 1\n        elif s[left] == ')' and s[left] == ')':\n            left += 1\n            rem += 1\n        elif s[left] == ')' and s[right] == '(':\n            rem += 2\n            left += 1\n            right -= 1\n        else:\n            left += 1\n            right -= 1\n    print(rem)", "for _ in range(int(input())):\n    n = int(input())\n    l1 = input()\n    l = 0\n    r = n - 1\n    ans = 0\n    while l < r:\n        if l1[l] == '(':\n            if l1[r] == ')':\n                l = l + 1\n                ans = ans + 2\n            r = r - 1\n        else:\n            l = l + 1\n    print(n - ans)", "for _ in range(int(input())):\n    n = int(input())\n    l1 = input()\n    l = 0\n    r = n - 1\n    ans = 0\n    while l < r:\n        if l1[l] == '(':\n            if l1[r] == ')':\n                l = l + 1\n                ans = ans + 2\n            r = r - 1\n        else:\n            l = l + 1\n    print(n - ans)", "for _ in range(int(input())):\n    n = int(input())\n    l1 = input()\n    l = 0\n    r = n - 1\n    ans = 0\n    while l < r:\n        if l1[l] == '(':\n            if l1[r] == ')':\n                l = l + 1\n                ans = ans + 2\n            r = r - 1\n        else:\n            l = l + 1\n    print(n - ans)", "for _ in range(int(input())):\n    n = int(input())\n    l1 = input()\n    l = 0\n    r = n - 1\n    ans = 0\n    while l < r:\n        if l1[l] == '(':\n            if l1[r] == ')':\n                l = l + 1\n                ans = ans + 2\n            r = r - 1\n        else:\n            l = l + 1\n    print(n - ans)", "t = int(input())\nfor i in range(t):\n    n = int(input())\n    s = input()\n    (left, right) = (0, n - 1)\n    rem = 0\n    while left <= right:\n        if s[left] == '(' and s[right] == '(':\n            right -= 1\n            rem += 1\n        elif s[left] == ')' and s[left] == ')':\n            left += 1\n            rem += 1\n        elif s[left] == ')' and s[right] == '(':\n            rem += 2\n            left += 1\n            right -= 1\n        else:\n            left += 1\n            right -= 1\n    print(rem)", "for _ in range(int(input())):\n    n = int(input())\n    l1 = input()\n    l = 0\n    r = n - 1\n    ans = 0\n    while l < r:\n        if l1[l] == '(':\n            if l1[r] == ')':\n                l = l + 1\n                ans = ans + 2\n            r = r - 1\n        else:\n            l = l + 1\n    print(n - ans)", "for _ in range(int(input())):\n    n = int(input())\n    s = input()\n    close = s.count(')')\n    opn = 0\n    ans = n\n    for i in s:\n        if i == '(':\n            opn += 1\n            ans = min(ans, n - min(2 * opn, 2 * close))\n        else:\n            close -= 1\n    print(ans)", "from collections import Counter\nt = int(input())\nfor i in range(t):\n    o = 0\n    n = int(input())\n    ans = n\n    s = str(input())\n    c1 = Counter(s)\n    c = c1[')']\n    for i in range(n):\n        if s[i] == '(':\n            o += 1\n            ans = min(ans, n - min(2 * o, 2 * c))\n        else:\n            c -= 1\n    print(ans)", "for a0 in range(int(input())):\n    n = int(input())\n    s = input()\n    c = 0\n    forward = list()\n    backward = list()\n    for i in range(n):\n        if s[i] == '(':\n            c += 1\n        forward.append(c)\n    c = 0\n    for i in range(n):\n        if s[i] == ')':\n            c += 1\n        backward.append(c)\n    maxi = 0\n    z = min(forward[i], backward[n - 1] - backward[i])\n    for i in range(n):\n        if maxi < min(forward[i], backward[n - 1] - backward[i]):\n            maxi = min(forward[i], backward[n - 1] - backward[i])\n    print(n - 2 * maxi)", "for a0 in range(int(input())):\n    n = int(input())\n    s = input()\n    c = 0\n    forward = list()\n    backward = list()\n    for i in range(n):\n        if s[i] == '(':\n            c += 1\n        forward.append(c)\n    c = 0\n    for i in range(n):\n        if s[i] == ')':\n            c += 1\n        backward.append(c)\n    maxi = 0\n    z = min(forward[i], backward[n - 1] - backward[i])\n    for i in range(n):\n        if maxi < min(forward[i], backward[n - 1] - backward[i]):\n            maxi = min(forward[i], backward[n - 1] - backward[i])\n    print(n - 2 * maxi)", "cases = int(input())\nfor _ in range(cases):\n    n = int(input())\n    string = input()\n    low = 0\n    remove = 0\n    high = n - 1\n    while low <= high:\n        if string[low] == '(' and string[high] == ')':\n            low += 1\n            high -= 1\n        elif string[low] == ')' and string[high] == '(':\n            low += 1\n            high -= 1\n            remove += 2\n        elif string[low] == '(' and string[high] == '(':\n            high -= 1\n            remove += 1\n        else:\n            low += 1\n            remove += 1\n    print(remove)", "cases = int(input())\nfor _ in range(cases):\n    n = int(input())\n    string = input()\n    low = 0\n    remove = 0\n    high = n - 1\n    while low <= high:\n        if string[low] == '(' and string[high] == ')':\n            low += 1\n            high -= 1\n        elif string[low] == ')' and string[high] == '(':\n            low += 1\n            high -= 1\n            remove += 2\n        elif string[low] == '(' and string[high] == '(':\n            high -= 1\n            remove += 1\n        else:\n            low += 1\n            remove += 1\n    print(remove)", "def find(n, s):\n    (left, right) = (0, n - 1)\n    ans = 0\n    while left <= right:\n        if s[left] == '(' and s[right] == ')':\n            left += 1\n            right -= 1\n        elif s[left] == '(' and s[right] == '(':\n            ans += 1\n            right -= 1\n        elif s[left] == ')' and s[right] == ')':\n            ans += 1\n            left += 1\n        elif s[left] == ')' and s[right] == '(':\n            ans += 2\n            left += 1\n            right -= 1\n    print(ans)\nt = int(input())\nfor _ in range(t):\n    n = int(input())\n    s = input()\n    find(n, s)", "def find(n, s):\n    (left, right) = (0, n - 1)\n    ans = 0\n    while left <= right:\n        if s[left] == '(' and s[right] == ')':\n            left += 1\n            right -= 1\n        elif s[left] == '(' and s[right] == '(':\n            ans += 1\n            right -= 1\n        elif s[left] == ')' and s[right] == ')':\n            ans += 1\n            left += 1\n        elif s[left] == ')' and s[right] == '(':\n            ans += 2\n            left += 1\n            right -= 1\n    print(ans)\nt = int(input())\nfor _ in range(t):\n    n = int(input())\n    s = input()\n    find(n, s)", "t = int(input())\nfor _ in range(t):\n    n = int(input())\n    s = input()\n    (l, r) = (0, len(s) - 1)\n    c = 0\n    while l <= r:\n        if s[l] == '(' and s[r] == ')':\n            l += 1\n            r -= 1\n        elif s[l] == '(' and s[r] == '(':\n            c += 1\n            r -= 1\n        elif s[l] == ')' and s[r] == ')':\n            c += 1\n            l += 1\n        elif s[l] == ')' and s[r] == '(':\n            c += 2\n            l += 1\n            r -= 1\n    print(c)", "from bisect import *\nt = int(input())\nfor _ in range(t):\n    n = int(input())\n    s = input()\n    (fr, bk) = ([0] * n, [0] * n)\n    (fr[0], bk[-1]) = (0 + (s[0] == '('), 0 + (s[-1] == ')'))\n    for i in range(1, n):\n        fr[i] = fr[i - 1] + (s[i] == '(')\n    for i in range(n - 2, -1, -1):\n        bk[i] = bk[i + 1] + (s[i] == ')')\n    max_ = 0\n    for i in range(n):\n        max_ = max(max_, 2 * min(fr[i], bk[i]))\n    print(n - max_)", "def removeBrackets(s):\n    (l, r) = (0, len(s) - 1)\n    count = 0\n    while l <= r:\n        if s[l] == '(' and s[r] == ')':\n            l += 1\n            r -= 1\n        elif s[l] == '(' and s[r] == '(':\n            count += 1\n            r -= 1\n        elif s[l] == ')' and s[r] == ')':\n            count += 1\n            l += 1\n        elif s[l] == ')' and s[r] == '(':\n            count += 2\n            l += 1\n            r -= 1\n    return count\nfor _ in range(int(input())):\n    n = int(input())\n    print(removeBrackets(input()))", "for _ in range(int(input())):\n    n = int(input())\n    s = input()\n    i = 0\n    j = n - 1\n    c = 0\n    while i <= j:\n        if s[i] == '(' and s[j] == ')':\n            i += 1\n            j -= 1\n            continue\n        if s[i] == ')':\n            i += 1\n            c += 1\n        if s[j] == '(':\n            j -= 1\n            c += 1\n    print(c)", "for _ in range(int(input())):\n    n = int(input())\n    s = input()\n    (ans, open, closed) = (n, 0, s.count(')'))\n    for c in s:\n        if c == '(':\n            open += 1\n            ans = min(ans, n - 2 * min(open, closed))\n        else:\n            closed -= 1\n    print(ans)", "for _ in range(int(input())):\n    n = int(input())\n    s = input()\n    (ans, open, closed) = (n, 0, s.count(')'))\n    for c in s:\n        if c == '(':\n            open += 1\n            ans = min(ans, n - 2 * min(open, closed))\n        else:\n            closed -= 1\n    print(ans)", "def removeBrackets(s):\n    (l, r) = (0, len(s) - 1)\n    count = 0\n    while l <= r:\n        if s[l] == '(' and s[r] == ')':\n            l += 1\n            r -= 1\n        elif s[l] == '(' and s[r] == '(':\n            count += 1\n            r -= 1\n        elif s[l] == ')' and s[r] == ')':\n            count += 1\n            l += 1\n        elif s[l] == ')' and s[r] == '(':\n            count += 2\n            l += 1\n            r -= 1\n    return count\nfor _ in range(int(input())):\n    n = int(input())\n    print(removeBrackets(input()))", "import re\n\ndef ans(s):\n    k = ''.join(reversed(str(s)))\n    return k\nt = int(input())\nwhile t > 0:\n    a = int(input())\n    s = str(input())\n    ans = a\n    ope = 0\n    clo = s.count(')')\n    for i in s:\n        if i == '(':\n            ope += 1\n            ans = min(ans, a - 2 * min(ope, clo))\n        else:\n            clo -= 1\n    print(ans)\n    t -= 1", "for i in range(int(input())):\n    n = int(input())\n    s = str(input())\n    st = 0\n    end = n - 1\n    count = 0\n    while st <= end:\n        if s[st] == '(' and s[end] == ')':\n            st += 1\n            end -= 1\n        elif s[st] == ')' and s[end] == ')':\n            count += 1\n            st += 1\n        elif s[st] == '(' and s[end] == '(':\n            count += 1\n            end -= 1\n        elif s[st] == ')' and s[end] == '(':\n            count += 2\n            end -= 1\n            st += 1\n    print(count)", "for _ in range(int(input())):\n    a = int(input())\n    n = input()\n    i = 0\n    j = a - 1\n    c = 0\n    while i <= j:\n        if n[i] == '(' and n[j] == ')':\n            i += 1\n            j -= 1\n        elif n[i] == ')':\n            i += 1\n            c += 1\n        elif n[j] == '(':\n            j -= 1\n            c += 1\n    print(c)", "for _ in range(int(input())):\n    a = int(input())\n    n = input()\n    i = 0\n    j = a - 1\n    c = 0\n    while i <= j:\n        if n[i] == '(' and n[j] == ')':\n            i += 1\n            j -= 1\n        elif n[i] == ')':\n            i += 1\n            c += 1\n        elif n[j] == '(':\n            j -= 1\n            c += 1\n    print(c)", "for _ in range(int(input())):\n    n = int(input())\n    a = input()\n    i = 0\n    j = len(a) - 1\n    count = 0\n    while i < j:\n        if a[i] == '(' and a[j] == ')':\n            i += 1\n            j -= 1\n            count += 1\n        elif a[i] == '(' and a[j] == '(':\n            j -= 1\n        elif a[i] == ')' and a[j] == ')':\n            i += 1\n        else:\n            i += 1\n            j -= 1\n    print(n - 2 * count)", "for _ in range(int(input())):\n    n = int(input())\n    s = input()\n    (i, j) = (0, n - 1)\n    ans = 0\n    while i <= j:\n        if s[i] == '(' and s[j] == ')':\n            i += 1\n            j -= 1\n        elif s[i] == ')':\n            i += 1\n            ans += 1\n        elif s[j] == '(':\n            j -= 1\n            ans += 1\n    print(ans)", "t = int(input())\nfor i in range(t):\n    n = int(input())\n    s = str(input())\n    st = 0\n    end = n - 1\n    count = 0\n    while st <= end:\n        if s[st] == '(' and s[end] == ')':\n            st += 1\n            end -= 1\n        elif s[st] == '(' and s[end] == '(':\n            count += 1\n            end -= 1\n        elif s[st] == ')' and s[end] == ')':\n            st += 1\n            count += 1\n        elif s[st] == ')' and s[end] == '(':\n            st += 1\n            end -= 1\n            count += 2\n    print(count)", "tc = int(input())\nfor tc in range(tc):\n    n = int(input())\n    s = input()\n    l = 0\n    r = n // 2\n    ans = 0\n    while l <= r:\n        mid = (l + r) // 2\n        isopen = True\n        cntopen = 0\n        cntclose = 0\n        for i in range(n):\n            if isopen and cntopen >= mid:\n                isopen = False\n            if s[i] == '(' and isopen:\n                cntopen += 1\n            if s[i] == ')' and isopen == False:\n                cntclose += 1\n        if cntopen >= mid and cntclose >= mid:\n            ans = 2 * mid\n            l = mid + 1\n        else:\n            r = mid - 1\n    print(n - ans)", "for _ in range(int(input())):\n    n = int(input())\n    l1 = input()\n    l = 0\n    r = n - 1\n    ans = 0\n    while l < r:\n        if l1[l] == '(':\n            if l1[r] == ')':\n                l = l + 1\n                ans = ans + 2\n            r = r - 1\n        else:\n            l = l + 1\n    print(n - ans)", "from sys import stdin\ninput = stdin.readline\ninp = lambda : list(map(int, input().split()))\n\ndef answer():\n    prefix = [0]\n    for i in range(n):\n        prefix.append(prefix[-1] + (a[i] == '('))\n    suffix = [0]\n    for i in range(n - 1, -1, -1):\n        suffix.append(suffix[-1] + (a[i] == ')'))\n    suffix = suffix[::-1]\n    ans = n\n    for i in range(n):\n        ans = min(ans, n - 2 * min(prefix[i + 1], suffix[i]))\n    return ans\nfor T in range(int(input())):\n    n = int(input())\n    a = input().strip()\n    print(answer())", "from sys import stdin\ninput = stdin.readline\ninp = lambda : list(map(int, input().split()))\n\ndef answer():\n    prefix = [0]\n    for i in range(n):\n        prefix.append(prefix[-1] + (a[i] == '('))\n    suffix = [0]\n    for i in range(n - 1, -1, -1):\n        suffix.append(suffix[-1] + (a[i] == ')'))\n    suffix = suffix[::-1]\n    ans = n\n    for i in range(n):\n        ans = min(ans, n - 2 * min(prefix[i + 1], suffix[i]))\n    return ans\nfor T in range(int(input())):\n    n = int(input())\n    a = input().strip()\n    print(answer())", "from math import *\nimport sys\n\ndef input():\n    return sys.stdin.readline().replace('\\n', '').strip()\nsys.setrecursionlimit(10 ** 9)\nfor _ in range(int(input())):\n    n = int(input())\n    s = input()\n    open_b = [0 for i in range(n)]\n    closed_b = [0 for i in range(n)]\n    for i in range(n):\n        if s[i] == '(':\n            open_b[i] = open_b[i - 1] + 1\n        else:\n            open_b[i] = open_b[i - 1]\n    for i in range(n - 1, -1, -1):\n        if s[i] == ')':\n            closed_b[i] = closed_b[(i + 1) % n] + 1\n        else:\n            closed_b[i] = closed_b[(i + 1) % n]\n    ans = 0\n    for i in range(n):\n        ans = max(ans, min(open_b[i], closed_b[i]))\n    print(n - 2 * ans)", "from math import *\nimport sys\n\ndef input():\n    return sys.stdin.readline().replace('\\n', '').strip()\nsys.setrecursionlimit(10 ** 9)\nfor _ in range(int(input())):\n    n = int(input())\n    s = input()\n    open_b = [0 for i in range(n)]\n    closed_b = [0 for i in range(n)]\n    for i in range(n):\n        if s[i] == '(':\n            open_b[i] = open_b[i - 1] + 1\n        else:\n            open_b[i] = open_b[i - 1]\n    for i in range(n - 1, -1, -1):\n        if s[i] == ')':\n            closed_b[i] = closed_b[(i + 1) % n] + 1\n        else:\n            closed_b[i] = closed_b[(i + 1) % n]\n    ans = 0\n    for i in range(n):\n        ans = max(ans, min(open_b[i], closed_b[i]))\n    print(n - 2 * ans)", "t = int(input())\nfor i in range(t):\n    sum = 0\n    x = int(input())\n    s = input()\n    count = x + 1\n    l1 = [0 for i in range(x)]\n    l2 = [0 for i in range(x)]\n    for i in range(x):\n        if s[i] == '(':\n            l1[i] += 1\n        if i > 0:\n            l1[i] += l1[i - 1]\n    for i in range(x - 1, -1, -1):\n        if s[i] == ')':\n            l2[i] += 1\n        if i < x - 1:\n            l2[i] += l2[i + 1]\n        count = min(count, x - 2 * min(l1[i], l2[i]))\n    print(count)", "t = int(input())\nfor i in range(t):\n    n = int(input())\n    str = input()\n    l = 0\n    r = n - 1\n    ans = 0\n    while l < r:\n        if str[l] == '(':\n            if str[r] == ')':\n                l += 1\n                ans += 2\n            r -= 1\n        else:\n            l += 1\n    print(n - ans)", "t = int(input())\nfor i in range(t):\n    n = int(input())\n    str = input()\n    l = 0\n    r = n - 1\n    ans = 0\n    while l < r:\n        if str[l] == '(':\n            if str[r] == ')':\n                l += 1\n                ans += 2\n            r -= 1\n        else:\n            l += 1\n    print(n - ans)", "for i in range(int(input())):\n    n = int(input())\n    str1 = input()\n    left = 0\n    right = n - 1\n    answer = 0\n    while left < right:\n        if str1[left] == '(':\n            if str1[right] == ')':\n                left += 1\n                answer += 2\n            right -= 1\n        else:\n            left += 1\n    print(n - answer)", "t = int(input())\nfor i in range(t):\n    sum = 0\n    x = int(input())\n    s = input()\n    count = x + 1\n    l1 = [0 for i in range(x)]\n    l2 = [0 for i in range(x)]\n    for i in range(x):\n        if s[i] == '(':\n            l1[i] += 1\n        if i > 0:\n            l1[i] += l1[i - 1]\n    for i in range(x - 1, -1, -1):\n        if s[i] == ')':\n            l2[i] += 1\n        if i < x - 1:\n            l2[i] += l2[i + 1]\n        count = min(count, x - 2 * min(l1[i], l2[i]))\n    print(count)", "t = int(input())\nfor i in range(t):\n    sum = 0\n    x = int(input())\n    s = input()\n    count = x + 1\n    l1 = [0 for i in range(x)]\n    l2 = [0 for i in range(x)]\n    for i in range(x):\n        if s[i] == '(':\n            l1[i] += 1\n        if i > 0:\n            l1[i] += l1[i - 1]\n    for i in range(x - 1, -1, -1):\n        if s[i] == ')':\n            l2[i] += 1\n        if i < x - 1:\n            l2[i] += l2[i + 1]\n        count = min(count, x - 2 * min(l1[i], l2[i]))\n    print(count)", "t = int(input())\nfor tt in range(t):\n    h = int(input())\n    s = input()\n    dense = 0\n    count = 0\n    j = h\n    if h == 1:\n        print(1)\n    elif h == 0:\n        print(0)\n    else:\n        while count < j - 1:\n            if s[count] == '(' and s[j - 1] == ')':\n                dense += 2\n                count += 1\n                j -= 1\n            elif s[count] == '(' and s[j - 1] == '(':\n                j -= 1\n            elif s[count] == ')' and s[j - 1] == ')':\n                count += 1\n            else:\n                count += 1\n                j -= 1\n        print(h - dense)", "t = int(input())\nfor _ in range(t):\n    ans = 0\n    n = int(input())\n    s = input()\n    i = 0\n    j = n - 1\n    if n == 0:\n        print(0)\n    while i <= j:\n        if s[i] == '(' and s[j] == '(':\n            ans += 1\n            j -= 1\n        elif s[i] == ')' and s[j] == ')':\n            ans += 1\n            i += 1\n        elif s[i] == '(' and s[j] == ')':\n            i += 1\n            j -= 1\n        else:\n            ans += 2\n            i += 1\n            j -= 1\n    print(ans)", "for _ in range(int(input())):\n    n = int(input())\n    s = input()\n    open = 0\n    close = 0\n    ans = 9999999\n    for i in range(n):\n        if s[i] == ')':\n            close += 1\n    for i in range(n):\n        if s[i] == '(':\n            open += 1\n        if s[i] == ')':\n            close -= 1\n        ans = min(ans, n - min(2 * open, 2 * close))\n    print(ans)", "t = int(input())\nfor _ in range(t):\n    n = int(input())\n    s = input()\n    if n == 1:\n        print(1)\n    else:\n        count = 0\n        j = n - 1\n        i = 0\n        while i < j:\n            if s[i] == '(':\n                if s[j] == ')':\n                    i += 1\n                    count += 2\n                j -= 1\n            else:\n                i += 1\n        print(n - count)", "try:\n    for _ in range(int(input())):\n        n = int(input())\n        s = input().strip()\n        r = s.count(')')\n        l = n - r\n        c = 0\n        res = -1\n        for i in range(n):\n            if s[i] == '(':\n                c += 1\n                res = max(res, min(c, r))\n            else:\n                r -= 1\n        res = max(res, min(c, r))\n        print(n - 2 * res)\nexcept:\n    pass", "try:\n    for _ in range(int(input())):\n        n = int(input())\n        s = input().strip()\n        r = s.count(')')\n        l = n - r\n        c = 0\n        res = -1\n        for i in range(n):\n            if s[i] == '(':\n                c += 1\n                res = max(res, min(c, r))\n            else:\n                r -= 1\n        res = max(res, min(c, r))\n        print(n - 2 * res)\nexcept:\n    pass", "try:\n    for _ in range(int(input())):\n        n = int(input())\n        s = input().strip()\n        r = s.count(')')\n        l = n - r\n        c = 0\n        res = -1\n        for i in range(n):\n            if s[i] == '(':\n                c += 1\n                res = max(res, min(c, r))\n            else:\n                r -= 1\n        res = max(res, min(c, r))\n        print(n - 2 * res)\nexcept:\n    pass", "for _ in range(int(input())):\n    n = int(input())\n    str1 = input()\n    left = 0\n    right = n - 1\n    answer = 0\n    while left < right:\n        if str1[left] == '(':\n            if str1[right] == ')':\n                left += 1\n                answer += 2\n            right -= 1\n        else:\n            left += 1\n    print(n - answer)", "for _ in range(int(input())):\n    n = int(input())\n    s = input()\n    count = 0\n    f = n - 1\n    b = 0\n    while b < f:\n        if s[b] == '(':\n            if s[f] == ')':\n                b += 1\n                count += 2\n            f -= 1\n        else:\n            b += 1\n    print(n - count)", "for _ in range(int(input())):\n    n = int(input())\n    s = input()\n    count = 0\n    f = n - 1\n    b = 0\n    while b < f:\n        if s[b] == '(':\n            if s[f] == ')':\n                b += 1\n                count += 2\n            f -= 1\n        else:\n            b += 1\n    print(n - count)", "for i in range(int(input())):\n    n = int(input())\n    s = list(input())\n    op = 0\n    cl = s.count(')')\n    ans = n\n    for c in s:\n        if c == '(':\n            op = op + 1\n            ans = min(ans, n - min(2 * op, 2 * cl))\n        else:\n            cl = cl - 1\n    print(ans)", "for _ in range(int(input())):\n    n = int(input())\n    s = input()\n    count = 0\n    f = n - 1\n    b = 0\n    while b < f:\n        if s[b] == '(':\n            if s[f] == ')':\n                b += 1\n                count += 2\n            f -= 1\n        else:\n            b += 1\n    print(n - count)", "for _ in range(int(input())):\n    n = int(input())\n    s = input()\n    count = 0\n    j = n - 1\n    for i in range(n):\n        if s[i] == '(':\n            while j > i:\n                if s[j] == ')':\n                    count += 1\n                    j -= 1\n                    break\n                j -= 1\n        if j <= i:\n            break\n    print(n - 2 * count)", "t = int(input())\nfor i in range(t):\n    n = int(input())\n    s = input()\n    if n == 1:\n        print(1)\n    else:\n        count = 0\n        i = 0\n        j = n - 1\n        while i < j:\n            if s[i] == '(':\n                if s[j] == ')':\n                    i += 1\n                    count += 2\n                j -= 1\n            else:\n                i += 1\n        print(n - count)", "for i in range(int(input())):\n    N = int(input())\n    s = input()\n    if N == 1:\n        print(1)\n    else:\n        count = 0\n        f = 0\n        b = N - 1\n        while f < b:\n            if s[f] == '(':\n                if s[b] == ')':\n                    f += 1\n                    count += 2\n                b -= 1\n            else:\n                f += 1\n        print(N - count)", "t = int(input())\nfor i in range(t):\n    n = int(input())\n    s = input()\n    if n == 1:\n        print(1)\n    else:\n        count = 0\n        i = 0\n        j = n - 1\n        while i < j:\n            if s[i] == '(':\n                if s[j] == ')':\n                    i += 1\n                    count += 2\n                j -= 1\n            else:\n                i += 1\n        print(n - count)", "t = int(input())\nfor i in range(t):\n    n = int(input())\n    s = input()\n    if n == 1:\n        print(1)\n    else:\n        count = 0\n        i = 0\n        j = n - 1\n        while i < j:\n            if s[i] == '(':\n                if s[j] == ')':\n                    i += 1\n                    count += 2\n                j -= 1\n            else:\n                i += 1\n        print(n - count)", "for _ in range(int(input())):\n    n = int(input())\n    s = input()\n    if n == 1:\n        print(1)\n    else:\n        i = 0\n        j = n - 1\n        ans = 0\n        while i < j:\n            if s[i] == '(':\n                if s[j] == ')':\n                    i += 1\n                    ans += 2\n                j -= 1\n            else:\n                i += 1\n        print(n - ans)", "for i in range(int(input())):\n    n = int(input())\n    s = input()\n    (ans, open, closed) = (n, 0, s.count(')'))\n    for c in s:\n        if c == '(':\n            open += 1\n            ans = min(ans, n - 2 * min(open, closed))\n        else:\n            closed -= 1\n    print(ans)", "for _ in range(int(input())):\n    n = int(input())\n    s = input()\n    if n == 1:\n        print(1)\n    else:\n        i = 0\n        j = n - 1\n        ans = 0\n        while i < j:\n            if s[i] == '(':\n                if s[j] == ')':\n                    i += 1\n                    ans += 2\n                j -= 1\n            else:\n                i += 1\n        print(n - ans)", "for _ in range(int(input())):\n    n = int(input())\n    s = input()\n    (ans, open, closed) = (n, 0, s.count(')'))\n    for c in s:\n        if c == '(':\n            open += 1\n            ans = min(ans, n - 2 * min(open, closed))\n        else:\n            closed -= 1\n    print(ans)", "for _ in range(int(input())):\n    n = int(input())\n    s = input()\n    l = list(s)\n    i = 0\n    j = n - 1\n    d = 0\n    while i < j:\n        if l[i] == '(':\n            if l[j] == ')':\n                i += 1\n                d += 2\n            j = j - 1\n        else:\n            i = i + 1\n    if n == 1:\n        print('1')\n    else:\n        print(n - d)", "for _ in range(int(input())):\n    n = int(input())\n    s = input()\n    if n == 1:\n        print(1)\n    else:\n        i = 0\n        j = n - 1\n        ans = 0\n        while i < j:\n            if s[i] == '(':\n                if s[j] == ')':\n                    i += 1\n                    ans += 2\n                j -= 1\n            else:\n                i += 1\n        print(n - ans)", "t = int(input())\nfor _ in range(t):\n    n = int(input())\n    s = input()\n    (close, open) = (0, 0)\n    ans = n\n    for i in s:\n        if i == ')':\n            close += 1\n    for i in range(n):\n        if s[i] == '(':\n            open += 1\n        ans = min(ans, n - 2 * min(open, close))\n        if s[i] == ')':\n            close -= 1\n    print(ans)", "for _ in range(int(input())):\n    n = int(input())\n    a = input()\n    p2 = n - 1\n    p1 = 0\n    count = 0\n    while p1 <= p2:\n        if a[p1] == '(' and a[p2] == ')':\n            p1 += 1\n            p2 -= 1\n        elif a[p1] == '(' and a[p2] == '(':\n            p2 -= 1\n            count += 1\n        elif a[p1] == ')' and a[p2] == ')':\n            p1 += 1\n            count += 1\n        elif a[p1] == a[p2]:\n            count += 1\n        else:\n            count += 2\n            p1 += 1\n            p2 -= 1\n    print(count)", "n = int(input())\nfor i in range(n):\n    len_bracket = int(input())\n    if len_bracket == 1:\n        print(1)\n    bracket = input()\n    first = 0\n    last = len_bracket - 1\n    dense = 0\n    while first < last:\n        if bracket[first] == '(':\n            if bracket[last] == ')':\n                first += 1\n                dense += 2\n            last -= 1\n        else:\n            first += 1\n    if len_bracket != 1:\n        print(len_bracket - dense)", "t = int(input())\nwhile t > 0:\n    t -= 1\n    n = int(input())\n    s = input()\n    if n == 1:\n        print(1)\n    else:\n        i = 0\n        j = n - 1\n        dense = 0\n        while i < j:\n            if s[i] == '(':\n                if s[j] == ')':\n                    i += 1\n                    dense += 2\n                j -= 1\n            else:\n                i += 1\n        print(n - dense)", "t = int(input())\nwhile t > 0:\n    t -= 1\n    n = int(input())\n    s = input()\n    if n == 1:\n        print(1)\n    else:\n        i = 0\n        j = n - 1\n        dense = 0\n        while i < j:\n            if s[i] == '(':\n                if s[j] == ')':\n                    i += 1\n                    dense += 2\n                j -= 1\n            else:\n                i += 1\n        print(n - dense)", "t = int(input())\nfor i in range(t):\n    n = int(input())\n    arr = str(input())\n    l = 0\n    r = n // 2\n    ans = 0\n    while l <= r:\n        mid = (l + r) // 2\n        isOpen = True\n        cntOpen = 0\n        cntClosed = 0\n        for i in range(n):\n            if isOpen and cntOpen >= mid:\n                isOpen = False\n            if arr[i] == '(' and isOpen:\n                cntOpen += 1\n            if arr[i] == ')' and (not isOpen):\n                cntClosed += 1\n        if cntOpen >= mid and cntClosed >= mid:\n            ans = 2 * mid\n            l = mid + 1\n        else:\n            r = mid - 1\n    print(n - ans)", "def power(x, n):\n    ans = 1\n    while n > 0:\n        if n % 2 == 1:\n            ans = ans * x\n            n = n - 1\n        else:\n            x = x * x\n            n = n // 2\n    return ans\nt = int(input())\nmod = 10 ** 9 + 7\nwhile t > 0:\n    t -= 1\n    n = int(input())\n    s = input()\n    i = 0\n    j = len(s) - 1\n    ans = 0\n    while i < j:\n        if s[i] == '(' and s[j] == ')':\n            i += 1\n            j -= 1\n            continue\n        if s[i] == ')':\n            i += 1\n            ans += 1\n        if s[j] == '(':\n            j -= 1\n            ans += 1\n    if i == j:\n        ans += 1\n    print(ans)", "t = int(input())\nwhile t > 0:\n    t -= 1\n    n = int(input())\n    s = input()\n    if n == 1:\n        print(1)\n    else:\n        i = 0\n        j = n - 1\n        dense = 0\n        while i < j:\n            if s[i] == '(':\n                if s[j] == ')':\n                    i += 1\n                    dense += 2\n                j -= 1\n            else:\n                i += 1\n        print(n - dense)", "import sys, os.path\nif os.path.exists('input.txt'):\n    sys.stdout = open('output.txt', 'w')\n    sys.stdin = open('input.txt', 'r')\n\ndef isValid(s, target):\n    i = ct = 0\n    while i < len(s) and ct < target:\n        ct += s[i] == '('\n        i += 1\n    ct = 0\n    while i < len(s) and ct < target:\n        ct += s[i] == ')'\n        i += 1\n    return ct == target\n\ndef binarySearch(s):\n    (l, r) = (0, len(s) // 2)\n    res = 0\n    while l <= r:\n        mid = (r + l) // 2\n        if isValid(s, mid):\n            res = mid\n            l = mid + 1\n        else:\n            r = mid - 1\n    return res\n\ndef solve():\n    n = int(input())\n    s = input()\n    res = binarySearch(s)\n    return len(s) - 2 * res\n\ndef main():\n    sys.setrecursionlimit(10 ** 8)\n    for _ in range(int(input())):\n        result = solve()\n        print(result)\nmain()", "def main():\n    T = int(input())\n    for _ in range(T):\n        N = int(input())\n        S = input()\n        if N == 1:\n            print(1)\n        else:\n            (i, j, dense) = (0, N - 1, 0)\n            while i < j:\n                if S[i] == '(':\n                    while j > i:\n                        if S[j] == ')':\n                            dense += 2\n                            j -= 1\n                            break\n                        j -= 1\n                i += 1\n            print(N - dense)\nmain()", "for _ in range(int(input())):\n    n = int(input())\n    s = input()\n    (i, j) = (0, n - 1)\n    ans = 0\n    while i <= j:\n        if s[i] == '(' and s[j] == ')':\n            i += 1\n            j -= 1\n        elif s[i] == ')':\n            i += 1\n            ans += 1\n        elif s[j] == '(':\n            j -= 1\n            ans += 1\n    print(ans)", "for _ in range(int(input())):\n    n = int(input())\n    s = input()\n    l = []\n    r = []\n    for i in range(n):\n        if s[i] == '(':\n            l.append(i)\n        else:\n            r.append(i)\n    size_l = len(l)\n    size_r = len(r)\n    remove = 0\n    if size_l == size_r:\n        for i in range(size_l):\n            if l[i] > r[size_l - 1 - i]:\n                remove += 2\n    elif size_l > size_r:\n        remove += size_l - size_r\n        for i in range(size_r):\n            if l[i] > r[size_r - 1 - i]:\n                remove += 2\n    else:\n        remove += size_r - size_l\n        for i in range(size_l):\n            if l[i] > r[size_r - 1 - i]:\n                remove += 2\n    print(remove)", "t = int(input())\nfor _ in range(t):\n    n = int(input())\n    s = input()\n    (l, r) = (0, n - 1)\n    cnt = 0\n    while l < r:\n        if s[l] == '(' and s[r] == ')':\n            cnt += 1\n            l += 1\n            r -= 1\n        elif s[l] == ')':\n            l += 1\n        else:\n            r -= 1\n    print(n - 2 * cnt)", "t = int(input())\nfor _ in range(t):\n    n = int(input())\n    s = input()\n    (l, r) = (0, n - 1)\n    cnt = 0\n    while l < r:\n        if s[l] == '(' and s[r] == ')':\n            cnt += 1\n            l += 1\n            r -= 1\n        elif s[l] == ')':\n            l += 1\n        else:\n            r -= 1\n    print(n - 2 * cnt)"]